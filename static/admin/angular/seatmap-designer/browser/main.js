var F5=Object.create;var Wm=Object.defineProperty,L5=Object.defineProperties,V5=Object.getOwnPropertyDescriptor,j5=Object.getOwnPropertyDescriptors,U5=Object.getOwnPropertyNames,Nd=Object.getOwnPropertySymbols,B5=Object.getPrototypeOf,Ym=Object.prototype.hasOwnProperty,XC=Object.prototype.propertyIsEnumerable;var KC=(t,e,n)=>e in t?Wm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H=(t,e)=>{for(var n in e||={})Ym.call(e,n)&&KC(t,n,e[n]);if(Nd)for(var n of Nd(e))XC.call(e,n)&&KC(t,n,e[n]);return t},Ce=(t,e)=>L5(t,j5(e));var Zm=(t,e)=>{var n={};for(var r in t)Ym.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Nd)for(var r of Nd(t))e.indexOf(r)<0&&XC.call(t,r)&&(n[r]=t[r]);return n};var de=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var H5=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of U5(e))!Ym.call(t,i)&&i!==n&&Wm(t,i,{get:()=>e[i],enumerable:!(r=V5(e,i))||r.enumerable});return t};var Ct=(t,e,n)=>(n=t!=null?F5(B5(t)):{},H5(e||!t||!t.__esModule?Wm(n,"default",{value:t,enumerable:!0}):n,t));var Ue=de(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt._registerNode=Jt.Konva=Jt.glob=void 0;var J7=Math.PI/180;function eV(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}Jt.glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{};Jt.Konva={_global:Jt.glob,version:"9.3.22",isBrowser:eV(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Jt.Konva.angleDeg?t*J7:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Jt.Konva.DD.isDragging},isTransforming(){var t;return(t=Jt.Konva.Transformer)===null||t===void 0?void 0:t.isTransforming()},isDragReady(){return!!Jt.Konva.DD.node},releaseCanvasOnDestroy:!0,document:Jt.glob.document,_injectGlobal(t){Jt.glob.Konva=t}};var tV=t=>{Jt.Konva[t.prototype.getClassName()]=t};Jt._registerNode=tV;Jt.Konva._injectGlobal(Jt.Konva)});var bt=de(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.Util=mt.Transform=void 0;var w_=Ue(),I_=class t{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){let n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){let n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,o=this.m[1]*n+this.m[3]*r,a=this.m[0]*-r+this.m[2]*n,l=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=o,this.m[2]=a,this.m[3]=l,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){let r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,o=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this}multiply(e){let n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],l=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=a,this.m[5]=l,this}invert(){let e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),l=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=a,this.m[5]=l,this}getMatrix(){return this.m}decompose(){let e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],o=this.m[4],a=this.m[5],l=e*i-n*r,u={x:o,y:a,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){let f=Math.sqrt(e*e+n*n);u.rotation=n>0?Math.acos(e/f):-Math.acos(e/f),u.scaleX=f,u.scaleY=l/f,u.skewX=(e*r+n*i)/l,u.skewY=0}else if(r!=0||i!=0){let f=Math.sqrt(r*r+i*i);u.rotation=Math.PI/2-(i>0?Math.acos(-r/f):-Math.acos(r/f)),u.scaleX=l/f,u.scaleY=f,u.skewX=0,u.skewY=(e*r+n*i)/l}return u.rotation=mt.Util._getRotation(u.rotation),u}};mt.Transform=I_;var nV="[object Array]",rV="[object Number]",iV="[object String]",oV="[object Boolean]",sV=Math.PI/180,aV=180/Math.PI,b_="#",cV="",lV="0",uV="Konva warning: ",Z2="Konva error: ",dV="rgb(",S_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},fV=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,qh=[],hV=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)};mt.Util={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===nV},_isNumber(t){return Object.prototype.toString.call(t)===rV&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===iV},_isBoolean(t){return Object.prototype.toString.call(t)===oV},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;let e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){qh.push(t),qh.length===1&&hV(function(){let e=qh;qh=[],e.forEach(function(n){n()})})},createCanvasElement(){let t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){let n=mt.Util.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(b_,cV);let e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=lV+t;return b_+t},getRGB(t){let e;return t in S_?(e=S_[t],{r:e[0],g:e[1],b:e[2]}):t[0]===b_?this._hexToRgb(t.substring(1)):t.substr(0,4)===dV?(e=fV.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",mt.Util._namedColorToRBA(t)||mt.Util._hex3ColorToRGBA(t)||mt.Util._hex4ColorToRGBA(t)||mt.Util._hex6ColorToRGBA(t)||mt.Util._hex8ColorToRGBA(t)||mt.Util._rgbColorToRGBA(t)||mt.Util._rgbaColorToRGBA(t)||mt.Util._hslColorToRGBA(t)},_namedColorToRBA(t){let e=S_[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];let e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];let e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){let[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100,a,l,u;if(i===0)return u=o*255,{r:Math.round(u),g:Math.round(u),b:Math.round(u),a:1};o<.5?a=o*(1+i):a=o+i-o*i;let f=2*o-a,h=[0,0,0];for(let g=0;g<3;g++)l=r+1/3*-(g-1),l<0&&l++,l>1&&l--,6*l<1?u=f+(a-f)*6*l:2*l<1?u=a:3*l<2?u=f+(a-f)*(2/3-l)*6:u=f,h[g]=u*255;return{r:Math.round(h[0]),g:Math.round(h[1]),b:Math.round(h[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){let e={};for(let n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*sV},radToDeg(t){return t*aV},_degToRad(t){return mt.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),mt.Util.degToRad(t)},_radToDeg(t){return mt.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),mt.Util.radToDeg(t)},_getRotation(t){return w_.Konva.angleDeg?mt.Util.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(Z2+t)},error(t){console.error(Z2+t)},warn(t){w_.Konva.showWarnings&&console.warn(uV+t)},each(t,e){for(let n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,o){let a,l,u,f=(t-n)*(t-n)+(e-r)*(e-r);if(f==0)a=t,l=e,u=(i-n)*(i-n)+(o-r)*(o-r);else{let h=((i-t)*(n-t)+(o-e)*(r-e))/f;h<0?(a=t,l=e,u=(t-i)*(t-i)+(e-o)*(e-o)):h>1?(a=n,l=r,u=(n-i)*(n-i)+(r-o)*(r-o)):(a=t+h*(n-t),l=e+h*(r-e),u=(a-i)*(a-i)+(l-o)*(l-o))}return[a,l,u]},_getProjectionToLine(t,e,n){let r=mt.Util.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(o,a){if(!n&&a===e.length-1)return;let l=e[(a+1)%e.length],u=mt.Util._getProjectionToSegment(o.x,o.y,l.x,l.y,t.x,t.y),f=u[0],h=u[1],g=u[2];g<i&&(r.x=f,r.y=h,i=g)}),r},_prepareArrayForTween(t,e,n){let r=[],i=[];if(t.length>e.length){let a=e;e=t,t=a}for(let a=0;a<t.length;a+=2)r.push({x:t[a],y:t[a+1]});for(let a=0;a<e.length;a+=2)i.push({x:e[a],y:e[a+1]});let o=[];return i.forEach(function(a){let l=mt.Util._getProjectionToLine(a,r,n);o.push(l.x),o.push(l.y)}),o},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(let n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||mt.Util._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(mt.Util._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(let n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){w_.Konva.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=0,o=0,a=0,l=0;typeof r=="number"?i=o=a=l=Math.min(r,e/2,n/2):(i=Math.min(r[0]||0,e/2,n/2),o=Math.min(r[1]||0,e/2,n/2),l=Math.min(r[2]||0,e/2,n/2),a=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i,0),t.lineTo(e-o,0),t.arc(e-o,o,o,Math.PI*3/2,0,!1),t.lineTo(e,n-l),t.arc(e-l,n-l,l,0,Math.PI/2,!1),t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}}});var A_=de(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.HitContext=Bo.SceneContext=Bo.Context=void 0;var Q2=bt(),pV=Ue();function gV(t){let e=[],n=t.length,r=Q2.Util;for(let i=0;i<n;i++){let o=t[i];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),e.push(o)}return e}var K2=",",mV="(",yV=")",vV="([",_V="])",DV=";",EV="()",CV="=",X2=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],wV=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],bV=100,oc=class{constructor(e){this.canvas=e,pV.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,o="",a,l,u,f;for(a=0;a<i;a++)l=r[a],u=l.method,u?(f=l.args,o+=u,e?o+=EV:Q2.Util._isArray(f[0])?o+=vV+f.join(K2)+_V:(n&&(f=f.map(h=>typeof h=="number"?Math.floor(h):h)),o+=mV+f.join(K2)+yV)):(o+=l.property,e||(o+=CV+l.val)),o+=DV;return o}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=bV&&n.shift()}reset(){let e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){let n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){let n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){let n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){let n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,o,a){this._context.arc(e,n,r,i,o,a)}arcTo(e,n,r,i,o){this._context.arcTo(e,n,r,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,o,a){this._context.bezierCurveTo(e,n,r,i,o,a)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){let r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,o,a){return this._context.createRadialGradient(e,n,r,i,o,a)}drawImage(e,n,r,i,o,a,l,u,f){let h=arguments,g=this._context;h.length===3?g.drawImage(e,n,r):h.length===5?g.drawImage(e,n,r,i,o):h.length===9&&g.drawImage(e,n,r,i,o,a,l,u,f)}ellipse(e,n,r,i,o,a,l,u){this._context.ellipse(e,n,r,i,o,a,l,u)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,o){this._context.roundRect(e,n,r,i,o)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,o,a){this._context.setTransform(e,n,r,i,o,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,o,a){this._context.transform(e,n,r,i,o,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=X2.length,r=this.setAttr,i,o,a=function(l){let u=e[l],f;e[l]=function(){return o=gV(Array.prototype.slice.call(arguments,0)),f=u.apply(e,arguments),e._trace({method:l,args:o}),f}};for(i=0;i<n;i++)a(X2[i]);e.setAttr=function(){r.apply(e,arguments);let l=arguments[0],u=arguments[1];(l==="shadowOffsetX"||l==="shadowOffsetY"||l==="shadowBlur")&&(u=u/this.canvas.getPixelRatio()),e._trace({property:l,val:u})}}_applyGlobalCompositeOperation(e){let n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}};Bo.Context=oc;wV.forEach(function(t){Object.defineProperty(oc.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});var T_=class extends oc{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){let n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){let n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){let n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){let n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}let i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}let o=e.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(e);return}let a=e.getFillRadialGradientColorStops();if(a&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){let n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let a=0;a<i.length;a+=2)o.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",o)}}_stroke(e){let n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;let o=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,l=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},u=e.getAbsoluteScale(),f=this.canvas.getPixelRatio(),h=u.x*f,g=u.y*f;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",a*Math.min(Math.abs(h),Math.abs(g))),this.setAttr("shadowOffsetX",l.x*h),this.setAttr("shadowOffsetY",l.y*g)}};Bo.SceneContext=T_;var M_=class extends oc{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){let n=e.getStrokeScaleEnabled();if(!n){this.save();let o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);let r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}};Bo.HitContext=M_});var ru=de(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.HitCanvas=Ho.SceneCanvas=Ho.Canvas=void 0;var Wh=bt(),J2=A_(),eT=Ue(),zh;function SV(){if(zh)return zh;let t=Wh.Util.createCanvasElement(),e=t.getContext("2d");return zh=(function(){let n=eT.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),Wh.Util.releaseCanvas(t),zh}var nu=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;let r=(e||{}).pixelRatio||eT.Konva.pixelRatio||SV();this.pixelRatio=r,this._canvas=Wh.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){let n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";let n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";let n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return Wh.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Ho.Canvas=nu;var x_=class extends nu{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new J2.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};Ho.SceneCanvas=x_;var R_=class extends nu{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new J2.HitContext(this),this.setSize(e.width,e.height)}};Ho.HitCanvas=R_});var Yh=de(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.DD=void 0;var iu=Ue(),IV=bt();Yt.DD={get isDragging(){let t=!1;return Yt.DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Yt.DD._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){let e=[];Yt.DD._dragElements.forEach((n,r)=>{let{node:i}=n,o=i.getStage();o.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=IV.Util._getFirstPointerId(t));let a=o._changedPointerPositions.find(l=>l.id===n.pointerId);if(a){if(n.dragStatus!=="dragging"){let l=i.dragDistance();if(Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y))<l||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){let e=[];Yt.DD._dragElements.forEach(n=>{let{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(l=>l.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Yt.DD.justDragged=!0,iu.Konva._mouseListenClick=!1,iu.Konva._touchListenClick=!1,iu.Konva._pointerListenClick=!1,n.dragStatus="stopped");let a=n.node.getLayer()||n.node instanceof iu.Konva.Stage&&n.node;a&&e.indexOf(a)===-1&&e.push(a)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Yt.DD._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Yt.DD._dragElements.delete(n)})}};iu.Konva.isBrowser&&(window.addEventListener("mouseup",Yt.DD._endDragBefore,!0),window.addEventListener("touchend",Yt.DD._endDragBefore,!0),window.addEventListener("touchcancel",Yt.DD._endDragBefore,!0),window.addEventListener("mousemove",Yt.DD._drag),window.addEventListener("touchmove",Yt.DD._drag),window.addEventListener("mouseup",Yt.DD._endDragAfter,!1),window.addEventListener("touchend",Yt.DD._endDragAfter,!1),window.addEventListener("touchcancel",Yt.DD._endDragAfter,!1))});var ze=de(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.RGBComponent=TV;nr.alphaComponent=MV;nr.getNumberValidator=AV;nr.getNumberOrArrayOfNumbersValidator=xV;nr.getNumberOrAutoValidator=RV;nr.getStringValidator=NV;nr.getStringOrGradientValidator=OV;nr.getFunctionValidator=kV;nr.getNumberArrayValidator=PV;nr.getBooleanValidator=FV;nr.getComponentValidator=LV;var zi=Ue(),Tt=bt();function Wi(t){return Tt.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Tt.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function TV(t){return t>255?255:t<0?0:Math.round(t)}function MV(t){return t>1?1:t<1e-4?1e-4:t}function AV(){if(zi.Konva.isUnminified)return function(t,e){return Tt.Util._isNumber(t)||Tt.Util.warn(Wi(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function xV(t){if(zi.Konva.isUnminified)return function(e,n){let r=Tt.Util._isNumber(e),i=Tt.Util._isArray(e)&&e.length==t;return!r&&!i&&Tt.Util.warn(Wi(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function RV(){if(zi.Konva.isUnminified)return function(t,e){return Tt.Util._isNumber(t)||t==="auto"||Tt.Util.warn(Wi(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function NV(){if(zi.Konva.isUnminified)return function(t,e){return Tt.Util._isString(t)||Tt.Util.warn(Wi(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function OV(){if(zi.Konva.isUnminified)return function(t,e){let n=Tt.Util._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||Tt.Util.warn(Wi(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function kV(){if(zi.Konva.isUnminified)return function(t,e){return Tt.Util._isFunction(t)||Tt.Util.warn(Wi(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function PV(){if(zi.Konva.isUnminified)return function(t,e){let n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(Tt.Util._isArray(t)?t.forEach(function(r){Tt.Util._isNumber(r)||Tt.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Tt.Util.warn(Wi(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function FV(){if(zi.Konva.isUnminified)return function(t,e){return t===!0||t===!1||Tt.Util.warn(Wi(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function LV(t){if(zi.Konva.isUnminified)return function(e,n){return e==null||Tt.Util.isObject(e)||Tt.Util.warn(Wi(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}});var Ge=de($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.Factory=void 0;var rr=bt(),VV=ze(),ou="get",su="set";$r.Factory={addGetterSetter(t,e,n,r,i){$r.Factory.addGetter(t,e,n),$r.Factory.addSetter(t,e,r,i),$r.Factory.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){let r=ou+rr.Util._capitalize(e);t.prototype[r]=t.prototype[r]||function(){let i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){let i=su+rr.Util._capitalize(e);t.prototype[i]||$r.Factory.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){let i=su+rr.Util._capitalize(e);t.prototype[i]=function(o){return n&&o!==void 0&&o!==null&&(o=n.call(this,o,e)),this._setAttr(e,o),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){let o=n.length,a=rr.Util._capitalize,l=ou+a(e),u=su+a(e);t.prototype[l]=function(){let h={};for(let g=0;g<o;g++){let y=n[g];h[y]=this.getAttr(e+a(y))}return h};let f=(0,VV.getComponentValidator)(n);t.prototype[u]=function(h){let g=this.attrs[e];r&&(h=r.call(this,h,e)),f&&f.call(this,h,e);for(let y in h)h.hasOwnProperty(y)&&this._setAttr(e+a(y),h[y]);return h||n.forEach(y=>{this._setAttr(e+a(y),void 0)}),this._fireChangeEvent(e,g,h),i&&i.call(this),this},$r.Factory.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){let n=rr.Util._capitalize(e),r=su+n,i=ou+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){rr.Util.error("Adding deprecated "+e);let i=ou+rr.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){rr.Util.error(o);let a=this.attrs[e];return a===void 0?n:a},$r.Factory.addSetter(t,e,r,function(){rr.Util.error(o)}),$r.Factory.addOverloadedGetterSetter(t,e)},backCompat(t,e){rr.Util.each(e,function(n,r){let i=t.prototype[r],o=ou+rr.Util._capitalize(n),a=su+rr.Util._capitalize(n);function l(){i.apply(this,arguments),rr.Util.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=l,t.prototype[o]=l,t.prototype[a]=l})},afterSetFilter(){this._filterUpToDate=!1}}});var Mt=de(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.Node=void 0;var sc=ru(),Sr=Yh(),au=Ge(),Go=Ue(),Ke=bt(),Ot=ze(),Kh="absoluteOpacity",Zh="allEventListeners",Yi="absoluteTransform",tT="absoluteScale",Us="canvas",jV="Change",UV="children",BV="konva",N_="listening",HV="mouseenter",GV="mouseleave",$V="pointerenter",qV="pointerleave",zV="touchenter",WV="touchleave",nT="set",rT="Shape",Xh=" ",iT="stage",$o="transform",YV="Stage",O_="visible",ZV=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Xh),KV=1,Te=class t{constructor(e){this._id=KV++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===$o||e===Yi)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===$o||e===Yi)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){let i=n.map(o=>o+"Change.konva").join(Xh);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Us)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Yi&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Us)){let{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(Us);Ke.Util.releaseCanvas(e,n,r,i),this._cache.delete(Us)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){let n=e||{},r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),o=Math.ceil(n.height||r.height),a=n.pixelRatio,l=n.x===void 0?Math.floor(r.x):n.x,u=n.y===void 0?Math.floor(r.y):n.y,f=n.offset||0,h=n.drawBorder||!1,g=n.hitCanvasPixelRatio||1;if(!i||!o){Ke.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}let y=Math.abs(Math.round(r.x)-l)>.5?1:0,v=Math.abs(Math.round(r.y)-u)>.5?1:0;i+=f*2+y,o+=f*2+v,l-=f,u-=f;let D=new sc.SceneCanvas({pixelRatio:a,width:i,height:o}),S=new sc.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),w=new sc.HitCanvas({pixelRatio:g,width:i,height:o}),M=D.getContext(),A=w.getContext(),T=new sc.SceneCanvas({width:D.width/D.pixelRatio+Math.abs(l),height:D.height/D.pixelRatio+Math.abs(u),pixelRatio:D.pixelRatio}),O=T.getContext();return w.isCache=!0,D.isCache=!0,this._cache.delete(Us),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(D.getContext()._context.imageSmoothingEnabled=!1,S.getContext()._context.imageSmoothingEnabled=!1),M.save(),A.save(),O.save(),M.translate(-l,-u),A.translate(-l,-u),O.translate(-l,-u),T.x=l,T.y=u,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Kh),this._clearSelfAndDescendantCache(tT),this.drawScene(D,this,T),this.drawHit(w,this),this._isUnderCache=!1,M.restore(),A.restore(),h&&(M.save(),M.beginPath(),M.rect(0,0,i,o),M.closePath(),M.setAttr("strokeStyle","red"),M.setAttr("lineWidth",5),M.stroke(),M.restore()),this._cache.set(Us,{scene:D,filter:S,hit:w,buffer:T,x:l,y:u}),this._requestDraw(),this}isCached(){return this._cache.has(Us)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){let r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,o=1/0,a=-1/0,l=-1/0,u=this.getAbsoluteTransform(n);return r.forEach(function(f){let h=u.point(f);i===void 0&&(i=a=h.x,o=l=h.y),i=Math.min(i,h.x),o=Math.min(o,h.y),a=Math.max(a,h.x),l=Math.max(l,h.y)}),{x:i,y:o,width:a-i,height:l-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);let n=this._getCanvasCache();e.translate(n.x,n.y);let r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){let n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,o=i.getContext(),a,l,u,f;if(e){if(!this._filterUpToDate){let h=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(a=e.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),l=o.getImageData(0,0,i.getWidth(),i.getHeight()),u=0;u<a;u++){if(f=e[u],typeof f!="function"){Ke.Util.error("Filter should be type of function, but got "+typeof f+" instead. Please check correct filters");continue}f.call(this,l),o.putImageData(l,0,0)}}catch(g){Ke.Util.error("Unable to apply filter. "+g.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(Zh),arguments.length===3)return this._delegate.apply(this,arguments);let r=e.split(Xh);for(let i=0;i<r.length;i++){let a=r[i].split("."),l=a[0],u=a[1]||"";this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:u,handler:n})}return this}off(e,n){let r=(e||"").split(Xh),i=r.length,o,a,l,u,f,h;if(this._cache&&this._cache.delete(Zh),!e)for(a in this.eventListeners)this._off(a);for(o=0;o<i;o++)if(l=r[o],u=l.split("."),f=u[0],h=u[1],f)this.eventListeners[f]&&this._off(f,h,n);else for(a in this.eventListeners)this._off(a,h,n);return this}dispatchEvent(e){let n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){let i=this;this.on(e,function(o){let a=o.target.findAncestors(n,!0,i);for(let l=0;l<a.length;l++)o=Ke.Util.cloneObject(o),o.currentTarget=a[l],r.call(a[l],o)})}remove(){return this.isDragging()&&this.stopDrag(),Sr.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Yi),this._clearSelfAndDescendantCache(Kh),this._clearSelfAndDescendantCache(tT),this._clearSelfAndDescendantCache(iT),this._clearSelfAndDescendantCache(O_),this._clearSelfAndDescendantCache(N_)}_remove(){this._clearCaches();let e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){let n="get"+Ke.Util._capitalize(e);return Ke.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==UV&&(r=nT+Ke.Util._capitalize(n),Ke.Util._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(N_,this._isListening)}_isListening(e){if(!this.listening())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(O_,this._isVisible)}_isVisible(e){if(!this.visible())return!1;let r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);let r=this.getLayer(),i=!1;Sr.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===r)&&(i=!0)});let o=!n&&!Go.Konva.hitOnDragEnabled&&(i||Go.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,o,a,l;function u(h){for(i=[],o=h.length,a=0;a<o;a++)l=h[a],r++,l.nodeType!==rT&&(i=i.concat(l.getChildren().slice())),l._id===n._id&&(a=o);i.length>0&&i[0].getDepth()<=e&&u(i)}let f=this.getStage();return n.nodeType!==YV&&f&&u(f.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache($o),this._clearSelfAndDescendantCache(Yi)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){let e=this.getStage();if(!e)return null;let n=e.getPointerPosition();if(!n)return null;let r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);let i=this.getAbsoluteTransform(e).getMatrix(),o=new Ke.Transform,a=this.offset();return o.m=i.slice(),o.translate(a.x,a.y),o.getTranslation()}setAbsolutePosition(e){let a=this._clearTransform(),{x:n,y:r}=a,i=Zm(a,["x","y"]);this.attrs.x=n,this.attrs.y=r,this._clearCache($o);let o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache($o),this._clearSelfAndDescendantCache(Yi),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){let e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),o=this.y();return n!==void 0&&(i+=n),r!==void 0&&(o+=r),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),o,a;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(o=r.length,a=0;a<o;a++)e(r[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Ke.Util.warn("Node has no parent. moveToTop function is ignored."),!1;let e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Ke.Util.warn("Node has no parent. moveUp function is ignored."),!1;let e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Ke.Util.warn("Node has no parent. moveDown function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Ke.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;let e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Ke.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Ke.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");let n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Kh,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,o,a,l={attrs:{},className:this.getClassName()};for(n in e)r=e[n],a=Ke.Util.isObject(r)&&!Ke.Util._isPlainObject(r)&&!Ke.Util._isArray(r),!a&&(i=typeof this[n]=="function"&&this[n],delete e[n],o=i?i.call(this):null,e[n]=r,o!==r&&(l.attrs[n]=r));return Ke.Util._prepareToStringify(l)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){let i=[];n&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===r)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,o;for(i=0;i<r;i++)if(o=n[i],Ke.Util.isValidSelector(o)||(Ke.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Ke.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Ke.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){let e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(iT,this._getStage)}_getStage(){let e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Yi,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Ke.Transform,this._eachAncestorReverse(function(r){let i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Yi)||new Ke.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();let r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){let i=this.attrs.x||0,o=this.attrs.y||0,a=this.attrs.offsetX||0,l=this.attrs.offsetY||0;n.translate(i-a,o-l)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();let i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache($o,this._getTransform)}_getTransform(){var e,n;let r=this._cache.get($o)||new Ke.Transform;r.reset();let i=this.x(),o=this.y(),a=Go.Konva.getAngle(this.rotation()),l=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,u=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,f=this.attrs.skewX||0,h=this.attrs.skewY||0,g=this.attrs.offsetX||0,y=this.attrs.offsetY||0;return(i!==0||o!==0)&&r.translate(i,o),a!==0&&r.rotate(a),(f!==0||h!==0)&&r.skew(f,h),(l!==1||u!==1)&&r.scale(l,u),(g!==0||y!==0)&&r.translate(-1*g,-1*y),r.dirty=!1,r}clone(e){let n=Ke.Util.cloneObject(this.attrs),r,i,o,a,l;for(r in e)n[r]=e[r];let u=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],o=i.length,a=0;a<o;a++)l=i[a],l.name.indexOf(BV)<0&&(u.eventListeners[r]||(u.eventListeners[r]=[]),u.eventListeners[r].push(l));return u}_toKonvaCanvas(e){e=e||{};let n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),o=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,l=new sc.SceneCanvas({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:a}),u=l.getContext(),f=new sc.SceneCanvas({width:l.width/l.pixelRatio+Math.abs(i),height:l.height/l.pixelRatio+Math.abs(o),pixelRatio:l.pixelRatio});return e.imageSmoothingEnabled===!1&&(u._context.imageSmoothingEnabled=!1),u.save(),(i||o)&&u.translate(-1*i,-1*o),this.drawScene(l,void 0,f),u.restore(),l}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};let n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{let i=e?.callback;i&&delete e.callback,Ke.Util._urlToImage(this.toDataURL(e),function(o){n(o),i?.(o)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{let i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{n(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Go.Konva.dragDistance}_off(e,n,r){let i=this.eventListeners[e],o,a,l;for(o=0;o<i.length;o++)if(a=i[o].name,l=i[o].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!r||r===l)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,n,r){this._fire(e+jV,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){let n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;let n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){let n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){let r=this[nT+Ke.Util._capitalize(e)];return Ke.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Go.Konva.autoDrawEnabled){let e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){let r=this.attrs[e];r===n&&!Ke.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===rT&&(n.target=this);let i=[HV,GV,$V,qV,zV,WV];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);let a=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;let o=(n=this._cache.get(Zh))!==null&&n!==void 0?n:{},a=o?.[e];if(a===void 0){a=[];let l=Object.getPrototypeOf(this);for(;l;){let u=(i=(r=l.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];a.push(...u),l=Object.getPrototypeOf(l)}o[e]=a,this._cache.set(Zh,o)}return a}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;let r=this._getProtoListeners(e);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,n);let i=this.eventListeners[e];if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){let n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;let o=r._getPointerById(n)||r._changedPointerPositions[0]||i;Sr.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Sr.DD._dragElements.has(this._id)||this._createDragElement(e);let r=Sr.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){let r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y},o=this.dragBoundFunc();if(o!==void 0){let a=o.call(this,i,e);a?i=a:Ke.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){let n=Sr.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Sr.DD._endDragBefore(e),Sr.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){let e=Sr.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Go.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Sr.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;let n=Sr.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Sr.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){let n=this.getStage();if(!n)return!1;let r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Ke.Util.haveIntersection(r,this.getClientRect())}static create(e,n){return Ke.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=t.prototype.getClassName.call(e),i=e.children,o,a,l;n&&(e.attrs.container=n),Go.Konva[r]||(Ke.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");let u=Go.Konva[r];if(o=new u(e.attrs),i)for(a=i.length,l=0;l<a;l++)o.add(t._createNode(i[l]));return o}};Qh.Node=Te;Te.prototype.nodeType="Node";Te.prototype._attrsAffectingSize=[];Te.prototype.eventListeners={};Te.prototype.on.call(Te.prototype,ZV,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache($o),this._clearSelfAndDescendantCache(Yi)});Te.prototype.on.call(Te.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(O_)});Te.prototype.on.call(Te.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(N_)});Te.prototype.on.call(Te.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Kh)});var pt=au.Factory.addGetterSetter;pt(Te,"zIndex");pt(Te,"absolutePosition");pt(Te,"position");pt(Te,"x",0,(0,Ot.getNumberValidator)());pt(Te,"y",0,(0,Ot.getNumberValidator)());pt(Te,"globalCompositeOperation","source-over",(0,Ot.getStringValidator)());pt(Te,"opacity",1,(0,Ot.getNumberValidator)());pt(Te,"name","",(0,Ot.getStringValidator)());pt(Te,"id","",(0,Ot.getStringValidator)());pt(Te,"rotation",0,(0,Ot.getNumberValidator)());au.Factory.addComponentsGetterSetter(Te,"scale",["x","y"]);pt(Te,"scaleX",1,(0,Ot.getNumberValidator)());pt(Te,"scaleY",1,(0,Ot.getNumberValidator)());au.Factory.addComponentsGetterSetter(Te,"skew",["x","y"]);pt(Te,"skewX",0,(0,Ot.getNumberValidator)());pt(Te,"skewY",0,(0,Ot.getNumberValidator)());au.Factory.addComponentsGetterSetter(Te,"offset",["x","y"]);pt(Te,"offsetX",0,(0,Ot.getNumberValidator)());pt(Te,"offsetY",0,(0,Ot.getNumberValidator)());pt(Te,"dragDistance",void 0,(0,Ot.getNumberValidator)());pt(Te,"width",0,(0,Ot.getNumberValidator)());pt(Te,"height",0,(0,Ot.getNumberValidator)());pt(Te,"listening",!0,(0,Ot.getBooleanValidator)());pt(Te,"preventDefault",!0,(0,Ot.getBooleanValidator)());pt(Te,"filters",void 0,function(t){return this._filterUpToDate=!1,t});pt(Te,"visible",!0,(0,Ot.getBooleanValidator)());pt(Te,"transformsEnabled","all",(0,Ot.getStringValidator)());pt(Te,"size");pt(Te,"dragBoundFunc");pt(Te,"draggable",!1,(0,Ot.getBooleanValidator)());au.Factory.backCompat(Te,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})});var cu=de(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.Container=void 0;var ac=Ge(),k_=Mt(),Jh=ze(),Zi=class extends k_.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){let n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}let n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){let n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){let r=[];return this._descendants(i=>{let o=i._isMatch(e);return o&&r.push(i),!!(o&&n)}),r}_descendants(e){let n=!1,r=this.getChildren();for(let i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){let e=k_.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){let n=k_.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){let n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){let i=this.getLayer(),o=e||i&&i.getCanvas(),a=o&&o.getContext(),l=this._getCanvasCache(),u=l&&l.scene,f=o&&o.isCache;if(!this.isVisible()&&!f)return this;if(u){a.save();let h=this.getAbsoluteTransform(n).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",o,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;let r=this.getLayer(),i=e||r&&r.hitCanvas,o=i&&i.getContext(),a=this._getCanvasCache();if(a&&a.hit){o.save();let u=this.getAbsoluteTransform(n).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var o;let a=n&&n.getContext(),l=this.clipWidth(),u=this.clipHeight(),f=this.clipFunc(),h=typeof l=="number"&&typeof u=="number"||f,g=r===this;if(h){a.save();let v=this.getAbsoluteTransform(r),D=v.getMatrix();a.transform(D[0],D[1],D[2],D[3],D[4],D[5]),a.beginPath();let S;if(f)S=f.call(this,a,this);else{let w=this.clipX(),M=this.clipY();a.rect(w||0,M||0,l,u)}a.clip.apply(a,S),D=v.copy().invert().getMatrix(),a.transform(D[0],D[1],D[2],D[3],D[4],D[5])}let y=!g&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";y&&(a.save(),a._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(v){v[e](n,r,i)}),y&&a.restore(),h&&a.restore()}getClientRect(e={}){var n;let r=e.skipTransform,i=e.relativeTo,o,a,l,u,f={x:1/0,y:1/0,width:0,height:0},h=this;(n=this.children)===null||n===void 0||n.forEach(function(v){if(!v.visible())return;let D=v.getClientRect({relativeTo:h,skipShadow:e.skipShadow,skipStroke:e.skipStroke});D.width===0&&D.height===0||(o===void 0?(o=D.x,a=D.y,l=D.x+D.width,u=D.y+D.height):(o=Math.min(o,D.x),a=Math.min(a,D.y),l=Math.max(l,D.x+D.width),u=Math.max(u,D.y+D.height)))});let g=this.find("Shape"),y=!1;for(let v=0;v<g.length;v++)if(g[v]._isVisible(this)){y=!0;break}return y&&o!==void 0?f={x:o,y:a,width:l-o,height:u-a}:f={x:0,y:0,width:0,height:0},r?f:this._transformedRect(f,i)}};ep.Container=Zi;ac.Factory.addComponentsGetterSetter(Zi,"clip",["x","y","width","height"]);ac.Factory.addGetterSetter(Zi,"clipX",void 0,(0,Jh.getNumberValidator)());ac.Factory.addGetterSetter(Zi,"clipY",void 0,(0,Jh.getNumberValidator)());ac.Factory.addGetterSetter(Zi,"clipWidth",void 0,(0,Jh.getNumberValidator)());ac.Factory.addGetterSetter(Zi,"clipHeight",void 0,(0,Jh.getNumberValidator)());ac.Factory.addGetterSetter(Zi,"clipFunc")});var F_=de(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.getCapturedShape=QV;Bs.createEvent=P_;Bs.hasPointerCapture=JV;Bs.setPointerCapture=ej;Bs.releaseCapture=sT;var XV=Ue(),lu=new Map,oT=XV.Konva._global.PointerEvent!==void 0;function QV(t){return lu.get(t)}function P_(t){return{evt:t,pointerId:t.pointerId}}function JV(t,e){return lu.get(t)===e}function ej(t,e){sT(t),e.getStage()&&(lu.set(t,e),oT&&e._fire("gotpointercapture",P_(new PointerEvent("gotpointercapture"))))}function sT(t,e){let n=lu.get(t);if(!n)return;let r=n.getStage();r&&r.content,lu.delete(t),oT&&n._fire("lostpointercapture",P_(new PointerEvent("lostpointercapture")))}});var H_=de(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.Stage=pi.stages=void 0;var hi=bt(),tj=Ge(),aT=cu(),kt=Ue(),L_=ru(),V_=Yh(),nj=Ue(),Ki=F_(),rj="Stage",ij="string",cT="px",oj="mouseout",uT="mouseleave",dT="mouseover",fT="mouseenter",hT="mousemove",pT="mousedown",gT="mouseup",uu="pointermove",du="pointerdown",lc="pointerup",fu="pointercancel",sj="lostpointercapture",tp="pointerout",hu="pointerleave",np="pointerover",rp="pointerenter",U_="contextmenu",mT="touchstart",yT="touchend",vT="touchmove",_T="touchcancel",B_="wheel",aj=5,cj=[[fT,"_pointerenter"],[pT,"_pointerdown"],[hT,"_pointermove"],[gT,"_pointerup"],[uT,"_pointerleave"],[mT,"_pointerdown"],[vT,"_pointermove"],[yT,"_pointerup"],[_T,"_pointercancel"],[dT,"_pointerover"],[B_,"_wheel"],[U_,"_contextmenu"],[du,"_pointerdown"],[uu,"_pointermove"],[lc,"_pointerup"],[fu,"_pointercancel"],[hu,"_pointerleave"],[sj,"_lostpointercapture"]],j_={mouse:{[tp]:oj,[hu]:uT,[np]:dT,[rp]:fT,[uu]:hT,[du]:pT,[lc]:gT,[fu]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[tp]:"touchout",[hu]:"touchleave",[np]:"touchover",[rp]:"touchenter",[uu]:vT,[du]:mT,[lc]:yT,[fu]:_T,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[tp]:tp,[hu]:hu,[np]:np,[rp]:rp,[uu]:uu,[du]:du,[lc]:lc,[fu]:fu,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},pu=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",cc=t=>{let e=pu(t);if(e==="pointer")return kt.Konva.pointerEventsEnabled&&j_.pointer;if(e==="touch")return j_.touch;if(e==="mouse")return j_.mouse};function lT(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&hi.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}var lj="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";pi.stages=[];var uc=class extends aT.Container{constructor(e){super(lT(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),pi.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{lT(this.attrs)}),this._checkVisibility()}_validateAdd(e){let n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||hi.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;let e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===ij){let n;if(e.charAt(0)==="."){let r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),aT.Container.prototype.clone.call(this,e)}destroy(){super.destroy();let e=this.content;e&&hi.Util._isInDocument(e)&&this.container().removeChild(e);let n=pi.stages.indexOf(this);return n>-1&&pi.stages.splice(n,1),hi.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){let e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(hi.Util.warn(lj),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();let n=new L_.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(o){if(!o.isVisible())return;let a=o._toKonvaCanvas(e);r.drawImage(a._canvas,e.x,e.y,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}),n}getIntersection(e){if(!e)return null;let n=this.children,r=n.length,i=r-1;for(let o=i;o>=0;o--){let a=n[o].getIntersection(e);if(a)return a}return null}_resizeDOM(){let e=this.width(),n=this.height();this.content&&(this.content.style.width=e+cT,this.content.style.height=n+cT),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);let r=this.children.length;return r>aj&&hi.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),kt.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Ki.hasPointerCapture(e,this)}setPointerCapture(e){Ki.setPointerCapture(e,this)}releaseCapture(e){Ki.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){kt.Konva.isBrowser&&cj.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);let n=cc(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);let n=cc(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){let n=cc(e.type),r=pu(e.type);if(!n)return;this.setPointersPositions(e);let i=this._getTargetShape(r),o=!(kt.Konva.isDragging()||kt.Konva.isTransforming())||kt.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):o&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){let n=cc(e.type),r=pu(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(o=>{let a=this.getIntersection(o);if(V_.DD.justDragged=!1,kt.Konva["_"+r+"ListenClick"]=!0,!a||!a.isListening()){this[r+"ClickStartShape"]=void 0;return}kt.Konva.capturePointerEventsEnabled&&a.setPointerCapture(o.id),this[r+"ClickStartShape"]=a,a._fireAndBubble(n.pointerdown,{evt:e,pointerId:o.id}),i=!0;let l=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){let n=cc(e.type),r=pu(e.type);if(!n||(kt.Konva.isDragging()&&V_.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!(kt.Konva.isDragging()||kt.Konva.isTransforming())||kt.Konva.hitOnDragEnabled)))return;let o={},a=!1,l=this._getTargetShape(r);this._changedPointerPositions.forEach(u=>{let f=Ki.getCapturedShape(u.id)||this.getIntersection(u),h=u.id,g={evt:e,pointerId:h},y=l!==f;if(y&&l&&(l._fireAndBubble(n.pointerout,H({},g),f),l._fireAndBubble(n.pointerleave,H({},g),f)),f){if(o[f._id])return;o[f._id]=!0}f&&f.isListening()?(a=!0,y&&(f._fireAndBubble(n.pointerover,H({},g),l),f._fireAndBubble(n.pointerenter,H({},g),l),this[r+"targetShape"]=f),f._fireAndBubble(n.pointermove,H({},g))):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[r+"targetShape"]=null)}),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){let n=cc(e.type),r=pu(e.type);if(!n)return;this.setPointersPositions(e);let i=this[r+"ClickStartShape"],o=this[r+"ClickEndShape"],a={},l=!1;this._changedPointerPositions.forEach(u=>{let f=Ki.getCapturedShape(u.id)||this.getIntersection(u);if(f){if(f.releaseCapture(u.id),a[f._id])return;a[f._id]=!0}let h=u.id,g={evt:e,pointerId:h},y=!1;kt.Konva["_"+r+"InDblClickWindow"]?(y=!0,clearTimeout(this[r+"DblTimeout"])):V_.DD.justDragged||(kt.Konva["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){kt.Konva["_"+r+"InDblClickWindow"]=!1},kt.Konva.dblClickWindow),f&&f.isListening()?(l=!0,this[r+"ClickEndShape"]=f,f._fireAndBubble(n.pointerup,H({},g)),kt.Konva["_"+r+"ListenClick"]&&i&&i===f&&(f._fireAndBubble(n.pointerclick,H({},g)),y&&o&&o===f&&f._fireAndBubble(n.pointerdblclick,H({},g)))):(this[r+"ClickEndShape"]=null,kt.Konva["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:h}),y&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:h}))}),l||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),kt.Konva["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);let n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(U_,{evt:e}):this._fire(U_,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);let n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(B_,{evt:e}):this._fire(B_,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);let n=Ki.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(lc,Ki.createEvent(e)),Ki.releaseCapture(e.pointerId)}_lostpointercapture(e){Ki.releaseCapture(e.pointerId)}setPointersPositions(e){let n=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-n.left)/n.scaleX,y:(o.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-n.left)/n.scaleX,y:(o.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:hi.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:hi.Util._getFirstPointerId(e)}])}_setPointerPosition(e){hi.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};let e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new L_.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new L_.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!kt.Konva.isBrowser)return;let e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return hi.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};pi.Stage=uc;uc.prototype.nodeType=rj;(0,nj._registerNode)(uc);tj.Factory.addGetterSetter(uc,"container");kt.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{pi.stages.forEach(t=>{t.batchDraw()})})});var Vt=de(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Shape=Xi.shapes=void 0;var uj=Ue(),gi=bt(),le=Ge(),DT=Mt(),Lt=ze(),dj=Ue(),G_=F_(),ET="hasShadow",CT="shadowRGBA",wT="patternImage",bT="linearGradient",ST="radialGradient",ip;function $_(){return ip||(ip=gi.Util.createCanvasElement().getContext("2d"),ip)}Xi.shapes={};function fj(t){let e=this.attrs.fillRule;e?t.fill(e):t.fill()}function hj(t){t.stroke()}function pj(t){let e=this.attrs.fillRule;e?t.fill(e):t.fill()}function gj(t){t.stroke()}function mj(){this._clearCache(ET)}function yj(){this._clearCache(CT)}function vj(){this._clearCache(wT)}function _j(){this._clearCache(bT)}function Dj(){this._clearCache(ST)}var K=class extends DT.Node{constructor(e){super(e);let n;for(;n=gi.Util.getRandomColor(),!(n&&!(n in Xi.shapes)););this.colorKey=n,Xi.shapes[n]=this}getContext(){return gi.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return gi.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(ET,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(wT,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){let n=$_().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){let r=new gi.Transform;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(uj.Konva.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());let i=r.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(o)}return n}}_getLinearGradient(){return this._getCache(bT,this.__getLinearGradient)}__getLinearGradient(){let e=this.fillLinearGradientColorStops();if(e){let n=$_(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=n.createLinearGradient(r.x,r.y,i.x,i.y);for(let a=0;a<e.length;a+=2)o.addColorStop(e[a],e[a+1]);return o}}_getRadialGradient(){return this._getCache(ST,this.__getRadialGradient)}__getRadialGradient(){let e=this.fillRadialGradientColorStops();if(e){let n=$_(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let a=0;a<e.length;a+=2)o.addColorStop(e[a],e[a+1]);return o}}getShadowRGBA(){return this._getCache(CT,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;let e=gi.Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){let e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){let n=this.getStage();if(!n)return!1;let r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return DT.Node.prototype.destroy.call(this),delete Xi.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;let i=e||this.hasFill(),o=this.hasStroke(),a=this.getAbsoluteOpacity()!==1;if(i&&o&&a)return!0;let l=this.hasShadow(),u=this.shadowForStrokeEnabled();return!!(i&&o&&l&&u)}setStrokeHitEnabled(e){gi.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){let e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}let i=e.skipTransform,o=e.relativeTo||n&&this.getStage()||void 0,a=this.getSelfRect(),u=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,f=a.width+u,h=a.height+u,g=!e.skipShadow&&this.hasShadow(),y=g?this.shadowOffsetX():0,v=g?this.shadowOffsetY():0,D=f+Math.abs(y),S=h+Math.abs(v),w=g&&this.shadowBlur()||0,M=D+w*2,A=S+w*2,T={width:M,height:A,x:-(u/2+w)+Math.min(y,0)+a.x,y:-(u/2+w)+Math.min(v,0)+a.y};return i?T:this._transformedRect(T,o)}drawScene(e,n,r){let i=this.getLayer(),o=e||i.getCanvas(),a=o.getContext(),l=this._getCanvasCache(),u=this.getSceneFunc(),f=this.hasShadow(),h,g=!1,y=n===this;if(!this.isVisible()&&!y)return this;if(l){a.save();let v=this.getAbsoluteTransform(n).getMatrix();return a.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!u)return this;if(a.save(),this._useBufferCanvas()&&!g){h=this.getStage();let v=r||h.bufferCanvas,D=v.getContext();D.clear(),D.save(),D._applyLineJoin(this);let S=this.getAbsoluteTransform(n).getMatrix();D.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u.call(this,D,this),D.restore();let w=v.pixelRatio;f&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(v._canvas,v.x||0,v.y||0,v.width/w,v.height/w)}else{if(a._applyLineJoin(this),!y){let v=this.getAbsoluteTransform(n).getMatrix();a.transform(v[0],v[1],v[2],v[3],v[4],v[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}f&&a._applyShadow(this),u.call(this,a,this)}return a.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;let i=this.getLayer(),o=e||i.hitCanvas,a=o&&o.getContext(),l=this.hitFunc()||this.sceneFunc(),u=this._getCanvasCache(),f=u&&u.hit;if(this.colorKey||gi.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),f){a.save();let g=this.getAbsoluteTransform(n).getMatrix();return a.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),a._applyLineJoin(this),!(this===n)){let g=this.getAbsoluteTransform(n).getMatrix();a.transform(g[0],g[1],g[2],g[3],g[4],g[5])}return l.call(this,a,this),a.restore(),this}drawHitFromCache(e=0){let n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,o=i.getContext(),a=i.getWidth(),l=i.getHeight();o.clear(),o.drawImage(r._canvas,0,0,a,l);try{let u=o.getImageData(0,0,a,l),f=u.data,h=f.length,g=gi.Util._hexToRgb(this.colorKey);for(let y=0;y<h;y+=4)f[y+3]>e?(f[y]=g.r,f[y+1]=g.g,f[y+2]=g.b,f[y+3]=255):f[y+3]=0;o.putImageData(u,0,0)}catch(u){gi.Util.error("Unable to draw hit graph from cached scene canvas. "+u.message)}return this}hasPointerCapture(e){return G_.hasPointerCapture(e,this)}setPointerCapture(e){G_.setPointerCapture(e,this)}releaseCapture(e){G_.releaseCapture(e,this)}};Xi.Shape=K;K.prototype._fillFunc=fj;K.prototype._strokeFunc=hj;K.prototype._fillFuncHit=pj;K.prototype._strokeFuncHit=gj;K.prototype._centroid=!1;K.prototype.nodeType="Shape";(0,dj._registerNode)(K);K.prototype.eventListeners={};K.prototype.on.call(K.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",mj);K.prototype.on.call(K.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",yj);K.prototype.on.call(K.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",vj);K.prototype.on.call(K.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",_j);K.prototype.on.call(K.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",Dj);le.Factory.addGetterSetter(K,"stroke",void 0,(0,Lt.getStringOrGradientValidator)());le.Factory.addGetterSetter(K,"strokeWidth",2,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"fillAfterStrokeEnabled",!1);le.Factory.addGetterSetter(K,"hitStrokeWidth","auto",(0,Lt.getNumberOrAutoValidator)());le.Factory.addGetterSetter(K,"strokeHitEnabled",!0,(0,Lt.getBooleanValidator)());le.Factory.addGetterSetter(K,"perfectDrawEnabled",!0,(0,Lt.getBooleanValidator)());le.Factory.addGetterSetter(K,"shadowForStrokeEnabled",!0,(0,Lt.getBooleanValidator)());le.Factory.addGetterSetter(K,"lineJoin");le.Factory.addGetterSetter(K,"lineCap");le.Factory.addGetterSetter(K,"sceneFunc");le.Factory.addGetterSetter(K,"hitFunc");le.Factory.addGetterSetter(K,"dash");le.Factory.addGetterSetter(K,"dashOffset",0,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"shadowColor",void 0,(0,Lt.getStringValidator)());le.Factory.addGetterSetter(K,"shadowBlur",0,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"shadowOpacity",1,(0,Lt.getNumberValidator)());le.Factory.addComponentsGetterSetter(K,"shadowOffset",["x","y"]);le.Factory.addGetterSetter(K,"shadowOffsetX",0,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"shadowOffsetY",0,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"fillPatternImage");le.Factory.addGetterSetter(K,"fill",void 0,(0,Lt.getStringOrGradientValidator)());le.Factory.addGetterSetter(K,"fillPatternX",0,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"fillPatternY",0,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"fillLinearGradientColorStops");le.Factory.addGetterSetter(K,"strokeLinearGradientColorStops");le.Factory.addGetterSetter(K,"fillRadialGradientStartRadius",0);le.Factory.addGetterSetter(K,"fillRadialGradientEndRadius",0);le.Factory.addGetterSetter(K,"fillRadialGradientColorStops");le.Factory.addGetterSetter(K,"fillPatternRepeat","repeat");le.Factory.addGetterSetter(K,"fillEnabled",!0);le.Factory.addGetterSetter(K,"strokeEnabled",!0);le.Factory.addGetterSetter(K,"shadowEnabled",!0);le.Factory.addGetterSetter(K,"dashEnabled",!0);le.Factory.addGetterSetter(K,"strokeScaleEnabled",!0);le.Factory.addGetterSetter(K,"fillPriority","color");le.Factory.addComponentsGetterSetter(K,"fillPatternOffset",["x","y"]);le.Factory.addGetterSetter(K,"fillPatternOffsetX",0,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"fillPatternOffsetY",0,(0,Lt.getNumberValidator)());le.Factory.addComponentsGetterSetter(K,"fillPatternScale",["x","y"]);le.Factory.addGetterSetter(K,"fillPatternScaleX",1,(0,Lt.getNumberValidator)());le.Factory.addGetterSetter(K,"fillPatternScaleY",1,(0,Lt.getNumberValidator)());le.Factory.addComponentsGetterSetter(K,"fillLinearGradientStartPoint",["x","y"]);le.Factory.addComponentsGetterSetter(K,"strokeLinearGradientStartPoint",["x","y"]);le.Factory.addGetterSetter(K,"fillLinearGradientStartPointX",0);le.Factory.addGetterSetter(K,"strokeLinearGradientStartPointX",0);le.Factory.addGetterSetter(K,"fillLinearGradientStartPointY",0);le.Factory.addGetterSetter(K,"strokeLinearGradientStartPointY",0);le.Factory.addComponentsGetterSetter(K,"fillLinearGradientEndPoint",["x","y"]);le.Factory.addComponentsGetterSetter(K,"strokeLinearGradientEndPoint",["x","y"]);le.Factory.addGetterSetter(K,"fillLinearGradientEndPointX",0);le.Factory.addGetterSetter(K,"strokeLinearGradientEndPointX",0);le.Factory.addGetterSetter(K,"fillLinearGradientEndPointY",0);le.Factory.addGetterSetter(K,"strokeLinearGradientEndPointY",0);le.Factory.addComponentsGetterSetter(K,"fillRadialGradientStartPoint",["x","y"]);le.Factory.addGetterSetter(K,"fillRadialGradientStartPointX",0);le.Factory.addGetterSetter(K,"fillRadialGradientStartPointY",0);le.Factory.addComponentsGetterSetter(K,"fillRadialGradientEndPoint",["x","y"]);le.Factory.addGetterSetter(K,"fillRadialGradientEndPointX",0);le.Factory.addGetterSetter(K,"fillRadialGradientEndPointY",0);le.Factory.addGetterSetter(K,"fillPatternRotation",0);le.Factory.addGetterSetter(K,"fillRule",void 0,(0,Lt.getStringValidator)());le.Factory.backCompat(K,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})});var sp=de(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.Layer=void 0;var Qi=bt(),q_=cu(),dc=Mt(),z_=Ge(),IT=ru(),Ej=ze(),Cj=Vt(),wj=Ue(),bj="#",Sj="beforeDraw",Ij="draw",TT=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Tj=TT.length,qo=class extends q_.Container{constructor(e){super(e),this.canvas=new IT.SceneCanvas,this.hitCanvas=new IT.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);let n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){dc.Node.prototype.moveToTop.call(this);let e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!dc.Node.prototype.moveUp.call(this))return!1;let n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(dc.Node.prototype.moveDown.call(this)){let e=this.getStage();if(e){let n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(dc.Node.prototype.moveToBottom.call(this)){let e=this.getStage();if(e){let n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){let e=this.getNativeCanvasElement();return dc.Node.prototype.remove.call(this),e&&e.parentNode&&Qi.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){let n=e.getType();n!=="Group"&&n!=="Shape"&&Qi.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),dc.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Qi.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Qi.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Qi.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<Tj;i++){let o=TT[i],a=this._getIntersection({x:e.x+o.x*n,y:e.y+o.y*n}),l=a.shape;if(l)return l;if(r=!!a.antialiased,!a.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){let n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){let o=Qi.Util._rgbToHex(r[0],r[1],r[2]),a=Cj.shapes[bj+o];return a?{shape:a}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){let i=this.getLayer(),o=e||i&&i.getCanvas();return this._fire(Sj,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),q_.Container.prototype.drawScene.call(this,o,n,r),this._fire(Ij,{node:this}),this}drawHit(e,n){let r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),q_.Container.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Qi.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Qi.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;let e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Qi.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};op.Layer=qo;qo.prototype.nodeType="Layer";(0,wj._registerNode)(qo);z_.Factory.addGetterSetter(qo,"imageSmoothingEnabled",!0);z_.Factory.addGetterSetter(qo,"clearBeforeDraw",!0);z_.Factory.addGetterSetter(qo,"hitGraphEnabled",!0,(0,Ej.getBooleanValidator)())});var MT=de(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.FastLayer=void 0;var Mj=bt(),Aj=sp(),xj=Ue(),gu=class extends Aj.Layer{constructor(e){super(e),this.listening(!1),Mj.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};ap.FastLayer=gu;gu.prototype.nodeType="FastLayer";(0,xj._registerNode)(gu)});var yu=de(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.Group=void 0;var Rj=bt(),Nj=cu(),Oj=Ue(),mu=class extends Nj.Container{_validateAdd(e){let n=e.getType();n!=="Group"&&n!=="Shape"&&Rj.Util.throw("You may only add groups and shapes to groups.")}};cp.Group=mu;mu.prototype.nodeType="Group";(0,Oj._registerNode)(mu)});var up=de(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.Animation=void 0;var W_=Ue(),AT=bt(),Y_=(function(){return W_.glob.performance&&W_.glob.performance.now?function(){return W_.glob.performance.now()}:function(){return new Date().getTime()}})(),fc=class t{constructor(e,n){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Y_(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){let n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){let n=t.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Y_(),t._addAnimation(this),this}stop(){return t._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){let n=e.id,r=this.animations,i=r.length;for(let o=0;o<i;o++)if(r[o].id===n){this.animations.splice(o,1);break}}static _runFrames(){let e={},n=this.animations;for(let r=0;r<n.length;r++){let i=n[r],o=i.layers,a=i.func;i._updateFrameObject(Y_());let l=o.length,u;if(a?u=a.call(i,i.frame)!==!1:u=!0,!!u)for(let f=0;f<l;f++){let h=o[f];h._id!==void 0&&(e[h._id]=h)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){let e=t;e.animations.length?(e._runFrames(),AT.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,AT.Util.requestAnimFrame(this._animationLoop))}};lp.Animation=fc;fc.animations=[];fc.animIdCounter=0;fc.animRunning=!1});var K_=de(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.Easings=mi.Tween=void 0;var Ji=bt(),kj=up(),Pj=Mt(),Fj=Ue(),Lj={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Vj=1,xT=2,RT=3,NT=["fill","stroke","shadowColor"],jj=0,Z_=class{constructor(e,n,r,i,o,a,l){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=l,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}fire(e){let n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=xT,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=RT,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){let e=this.getTimer()-this._startTime;this.state===xT?this.setTime(e):this.state===RT&&this.setTime(this.duration-e)}pause(){this.state=Vj,this.fire("onPause")}getTimer(){return new Date().getTime()}},hc=class t{constructor(e){let n=this,r=e.node,i=r._id,o=e.easing||mi.Easings.Linear,a=!!e.yoyo,l,u;typeof e.duration>"u"?l=.3:e.duration===0?l=.001:l=e.duration,this.node=r,this._id=jj++;let f=r.getLayer()||(r instanceof Fj.Konva.Stage?r.getLayers():null);f||Ji.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new kj.Animation(function(){n.tween.onEnterFrame()},f),this.tween=new Z_(u,function(h){n._tweenFunc(h)},o,0,1,l*1e3,a),this._addListeners(),t.attrs[i]||(t.attrs[i]={}),t.attrs[i][this._id]||(t.attrs[i][this._id]={}),t.tweens[i]||(t.tweens[i]={});for(u in e)Lj[u]===void 0&&this._addAttr(u,e[u]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){let r=this.node,i=r._id,o,a,l,u,f,h=t.tweens[i][e];h&&delete t.attrs[i][h][e];let g=r.getAttr(e);if(Ji.Util._isArray(n))if(o=[],a=Math.max(n.length,g.length),e==="points"&&n.length!==g.length&&(n.length>g.length?(u=g,g=Ji.Util._prepareArrayForTween(g,n,r.closed())):(l=n,n=Ji.Util._prepareArrayForTween(n,g,r.closed()))),e.indexOf("fill")===0)for(let y=0;y<a;y++)if(y%2===0)o.push(n[y]-g[y]);else{let v=Ji.Util.colorToRGBA(g[y]);f=Ji.Util.colorToRGBA(n[y]),g[y]=v,o.push({r:f.r-v.r,g:f.g-v.g,b:f.b-v.b,a:f.a-v.a})}else for(let y=0;y<a;y++)o.push(n[y]-g[y]);else NT.indexOf(e)!==-1?(g=Ji.Util.colorToRGBA(g),f=Ji.Util.colorToRGBA(n),o={r:f.r-g.r,g:f.g-g.g,b:f.b-g.b,a:f.a-g.a}):o=n-g;t.attrs[i][this._id][e]={start:g,diff:o,end:n,trueEnd:l,trueStart:u},t.tweens[i][e]=this._id}_tweenFunc(e){let n=this.node,r=t.attrs[n._id][this._id],i,o,a,l,u,f,h,g;for(i in r){if(o=r[i],a=o.start,l=o.diff,g=o.end,Ji.Util._isArray(a))if(u=[],h=Math.max(a.length,g.length),i.indexOf("fill")===0)for(f=0;f<h;f++)f%2===0?u.push((a[f]||0)+l[f]*e):u.push("rgba("+Math.round(a[f].r+l[f].r*e)+","+Math.round(a[f].g+l[f].g*e)+","+Math.round(a[f].b+l[f].b*e)+","+(a[f].a+l[f].a*e)+")");else for(f=0;f<h;f++)u.push((a[f]||0)+l[f]*e);else NT.indexOf(i)!==-1?u="rgba("+Math.round(a.r+l.r*e)+","+Math.round(a.g+l.g*e)+","+Math.round(a.b+l.b*e)+","+(a.a+l.a*e)+")":u=a+l*e;n.setAttr(i,u)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{let e=this.node,n=t.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{let e=this.node,n=t.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let e=this.node._id,n=this._id,r=t.tweens[e];this.pause(),this.anim&&this.anim.stop();for(let i in r)delete t.tweens[e][i];delete t.attrs[e][n],t.tweens[e]&&(Object.keys(t.tweens[e]).length===0&&delete t.tweens[e],Object.keys(t.attrs[e]).length===0&&delete t.attrs[e])}};mi.Tween=hc;hc.attrs={};hc.tweens={};Pj.Node.prototype.to=function(t){let e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new hc(t).play()};mi.Easings={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,o){let a=0;return t===0?e:(t/=r)===1?e+n:(o||(o=r*.3),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},ElasticEaseOut(t,e,n,r,i,o){let a=0;return t===0?e:(t/=r)===1?e+n:(o||(o=r*.3),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut(t,e,n,r,i,o){let a=0;return t===0?e:(t/=r/2)===2?e+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-mi.Easings.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?mi.Easings.BounceEaseIn(t*2,0,n,r)*.5+e:mi.Easings.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}}});var dp=de(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.Konva=void 0;var Uj=Ue(),X_=bt(),Bj=Mt(),Hj=cu(),OT=H_(),Gj=sp(),$j=MT(),qj=yu(),zj=Yh(),kT=Vt(),Wj=up(),PT=K_(),Yj=A_(),Zj=ru();pc.Konva=X_.Util._assign(Uj.Konva,{Util:X_.Util,Transform:X_.Transform,Node:Bj.Node,Container:Hj.Container,Stage:OT.Stage,stages:OT.stages,Layer:Gj.Layer,FastLayer:$j.FastLayer,Group:qj.Group,DD:zj.DD,Shape:kT.Shape,shapes:kT.shapes,Animation:Wj.Animation,Tween:PT.Tween,Easings:PT.Easings,Context:Yj.Context,Canvas:Zj.Canvas});pc.default=pc.Konva});var Q_=de(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.Arc=void 0;var fp=Ge(),Kj=Vt(),FT=Ue(),hp=ze(),Xj=Ue(),qr=class extends Kj.Shape{_sceneFunc(e){let n=FT.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){let e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=FT.Konva.getAngle(r?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),a=1,l=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),u=Math.sin(Math.min(i,Math.PI/2)),f=o*(o>0?e:n),h=a*(a>0?n:e),g=l*(l>0?e:n),y=u*(u>0?n:e);return{x:f,y:r?-1*y:g,width:h-f,height:y-g}}};pp.Arc=qr;qr.prototype._centroid=!0;qr.prototype.className="Arc";qr.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,Xj._registerNode)(qr);fp.Factory.addGetterSetter(qr,"innerRadius",0,(0,hp.getNumberValidator)());fp.Factory.addGetterSetter(qr,"outerRadius",0,(0,hp.getNumberValidator)());fp.Factory.addGetterSetter(qr,"angle",0,(0,hp.getNumberValidator)());fp.Factory.addGetterSetter(qr,"clockwise",!1,(0,hp.getBooleanValidator)())});var yp=de(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.Line=void 0;var gp=Ge(),Qj=Ue(),Jj=Vt(),VT=ze();function J_(t,e,n,r,i,o,a){let l=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),u=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),f=a*l/(l+u),h=a*u/(l+u),g=n-f*(i-t),y=r-f*(o-e),v=n+h*(i-t),D=r+h*(o-e);return[g,y,v,D]}function LT(t,e){let n=t.length,r=[];for(let i=2;i<n-2;i+=2){let o=J_(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(t[i]),r.push(t[i+1]),r.push(o[2]),r.push(o[3]))}return r}var yi=class extends Jj.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let n=this.points(),r=n.length,i=this.tension(),o=this.closed(),a=this.bezier();if(!r)return;let l=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){let u=this.getTensionPoints(),f=u.length;for(l=o?0:4,o||e.quadraticCurveTo(u[0],u[1],u[2],u[3]);l<f-2;)e.bezierCurveTo(u[l++],u[l++],u[l++],u[l++],u[l++],u[l++]);o||e.quadraticCurveTo(u[f-2],u[f-1],n[r-2],n[r-1])}else if(a)for(l=2;l<r;)e.bezierCurveTo(n[l++],n[l++],n[l++],n[l++],n[l++],n[l++]);else for(l=2;l<r;l+=2)e.lineTo(n[l],n[l+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():LT(this.points(),this.tension())}_getTensionPointsClosed(){let e=this.points(),n=e.length,r=this.tension(),i=J_(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),o=J_(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),a=LT(e,r);return[i[2],i[3]].concat(a).concat([o[0],o[1],e[n-2],e[n-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],o=e[1],a,l;for(let u=0;u<e.length/2;u++)a=e[u*2],l=e[u*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,l),o=Math.max(o,l);return{x:n,y:i,width:r-n,height:o-i}}};mp.Line=yi;yi.prototype.className="Line";yi.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Qj._registerNode)(yi);gp.Factory.addGetterSetter(yi,"closed",!1);gp.Factory.addGetterSetter(yi,"bezier",!1);gp.Factory.addGetterSetter(yi,"tension",0,(0,VT.getNumberValidator)());gp.Factory.addGetterSetter(yi,"points",[],(0,VT.getNumberArrayValidator)())});var jT=de(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.t2length=an.getQuadraticArcLength=an.getCubicArcLength=an.binomialCoefficients=an.cValues=an.tValues=void 0;an.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];an.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];an.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];var eU=(t,e,n)=>{let r,i,a=n/2;r=0;for(let l=0;l<20;l++)i=a*an.tValues[20][l]+a,r+=an.cValues[20][l]*nU(t,e,i);return a*r};an.getCubicArcLength=eU;var tU=(t,e,n)=>{n===void 0&&(n=1);let r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],o=2*t[1]-2*t[0],a=2*e[1]-2*e[0],l=4*(r*r+i*i),u=4*(r*o+i*a),f=o*o+a*a;if(l===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));let h=u/(2*l),g=f/l,y=n+h,v=g-h*h,D=y*y+v>0?Math.sqrt(y*y+v):0,S=h*h+v>0?Math.sqrt(h*h+v):0,w=h+Math.sqrt(h*h+v)!==0?v*Math.log(Math.abs((y+D)/(h+S))):0;return Math.sqrt(l)/2*(y*D-h*S+w)};an.getQuadraticArcLength=tU;function nU(t,e,n){let r=e1(1,n,t),i=e1(1,n,e),o=r*r+i*i;return Math.sqrt(o)}var e1=(t,e,n)=>{let r=n.length-1,i,o;if(r===0)return 0;if(t===0){o=0;for(let a=0;a<=r;a++)o+=an.binomialCoefficients[r][a]*Math.pow(1-e,r-a)*Math.pow(e,a)*n[a];return o}else{i=new Array(r);for(let a=0;a<r;a++)i[a]=r*(n[a+1]-n[a]);return e1(t-1,e,i)}},rU=(t,e,n)=>{let r=1,i=t/e,o=(t-n(i))/e,a=0;for(;r>.001;){let l=n(i+o),u=Math.abs(t-l)/e;if(u<r)r=u,i+=o;else{let f=n(i-o),h=Math.abs(t-f)/e;h<r?(r=h,i-=o):o/=2}if(a++,a>500)break}return i};an.t2length=rU});var vu=de(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.Path=void 0;var iU=Ge(),oU=Ue(),sU=Vt(),gc=jT(),Hs=class t extends sU.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=t.parsePathData(this.data()),this.pathLength=t.getPathLength(this.dataArray)}_sceneFunc(e){let n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){let o=n[i].command,a=n[i].points;switch(o){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":let l=a[0],u=a[1],f=a[2],h=a[3],g=a[4],y=a[5],v=a[6],D=a[7],S=f>h?f:h,w=f>h?1:f/h,M=f>h?h/f:1;e.translate(l,u),e.rotate(v),e.scale(w,M),e.arc(0,0,S,g,g+y,1-D),e.scale(1/w,1/M),e.rotate(-v),e.translate(-l,-u);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(u){if(u.command==="A"){let f=u.points[4],h=u.points[5],g=u.points[4]+h,y=Math.PI/180;if(Math.abs(f-g)<y&&(y=Math.abs(f-g)),h<0)for(let v=f-y;v>g;v-=y){let D=t.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],v,0);e.push(D.x,D.y)}else for(let v=f+y;v<g;v+=y){let D=t.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],v,0);e.push(D.x,D.y)}}else if(u.command==="C")for(let f=0;f<=1;f+=.01){let h=t.getPointOnCubicBezier(f,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);e.push(h.x,h.y)}else e=e.concat(u.points)});let n=e[0],r=e[0],i=e[1],o=e[1],a,l;for(let u=0;u<e.length/2;u++)a=e[u*2],l=e[u*2+1],isNaN(a)||(n=Math.min(n,a),r=Math.max(r,a)),isNaN(l)||(i=Math.min(i,l),o=Math.max(o,l));return{x:n,y:i,width:r-n,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return t.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,o=n.length;if(!o)return null;for(;i<o&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===o)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};let a=n[i],l=a.points;switch(a.command){case"L":return t.getPointOnLine(e,a.start.x,a.start.y,l[0],l[1]);case"C":return t.getPointOnCubicBezier((0,gc.t2length)(e,t.getPathLength(n),S=>(0,gc.getCubicArcLength)([a.start.x,l[0],l[2],l[4]],[a.start.y,l[1],l[3],l[5]],S)),a.start.x,a.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return t.getPointOnQuadraticBezier((0,gc.t2length)(e,t.getPathLength(n),S=>(0,gc.getQuadraticArcLength)([a.start.x,l[0],l[2]],[a.start.y,l[1],l[3]],S)),a.start.x,a.start.y,l[0],l[1],l[2],l[3]);case"A":let u=l[0],f=l[1],h=l[2],g=l[3],y=l[5],v=l[6],D=l[4];return D+=y*e/a.pathLength,t.getPointOnEllipticalArc(u,f,h,g,D,v)}return null}static getPointOnLine(e,n,r,i,o,a,l){a=a??n,l=l??r;let u=this.getLineLength(n,r,i,o);if(u<1e-10)return{x:n,y:r};if(i===n)return{x:a,y:l+(o>r?e:-e)};let f=(o-r)/(i-n),h=Math.sqrt(e*e/(1+f*f))*(i<n?-1:1),g=f*h;if(Math.abs(l-r-f*(a-n))<1e-10)return{x:a+h,y:l+g};let y=((a-n)*(i-n)+(l-r)*(o-r))/(u*u),v=n+y*(i-n),D=r+y*(o-r),S=this.getLineLength(a,l,v,D),w=Math.sqrt(e*e-S*S),M=Math.sqrt(w*w/(1+f*f))*(i<n?-1:1),A=f*M;return{x:v+M,y:D+A}}static getPointOnCubicBezier(e,n,r,i,o,a,l,u,f){function h(w){return w*w*w}function g(w){return 3*w*w*(1-w)}function y(w){return 3*w*(1-w)*(1-w)}function v(w){return(1-w)*(1-w)*(1-w)}let D=u*h(e)+a*g(e)+i*y(e)+n*v(e),S=f*h(e)+l*g(e)+o*y(e)+r*v(e);return{x:D,y:S}}static getPointOnQuadraticBezier(e,n,r,i,o,a,l){function u(v){return v*v}function f(v){return 2*v*(1-v)}function h(v){return(1-v)*(1-v)}let g=a*u(e)+i*f(e)+n*h(e),y=l*u(e)+o*f(e)+r*h(e);return{x:g,y}}static getPointOnEllipticalArc(e,n,r,i,o,a){let l=Math.cos(a),u=Math.sin(a),f={x:r*Math.cos(o),y:i*Math.sin(o)};return{x:e+(f.x*l-f.y*u),y:n+(f.x*u+f.y*l)}}static parsePathData(e){if(!e)return[];let n=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let g=0;g<r.length;g++)n=n.replace(new RegExp(r[g],"g"),"|"+r[g]);let i=n.split("|"),o=[],a=[],l=0,u=0,f=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,h;for(let g=1;g<i.length;g++){let y=i[g],v=y.charAt(0);for(y=y.slice(1),a.length=0;h=f.exec(y);)a.push(h[0]);let D=[];for(let S=0,w=a.length;S<w;S++){if(a[S]==="00"){D.push(0,0);continue}let M=parseFloat(a[S]);isNaN(M)?D.push(0):D.push(M)}for(;D.length>0&&!isNaN(D[0]);){let S="",w=[],M=l,A=u,T,O,L,U,Y,G,fe,W,Q,q;switch(v){case"l":l+=D.shift(),u+=D.shift(),S="L",w.push(l,u);break;case"L":l=D.shift(),u=D.shift(),w.push(l,u);break;case"m":let ee=D.shift(),Je=D.shift();if(l+=ee,u+=Je,S="M",o.length>2&&o[o.length-1].command==="z"){for(let we=o.length-2;we>=0;we--)if(o[we].command==="M"){l=o[we].points[0]+ee,u=o[we].points[1]+Je;break}}w.push(l,u),v="l";break;case"M":l=D.shift(),u=D.shift(),S="M",w.push(l,u),v="L";break;case"h":l+=D.shift(),S="L",w.push(l,u);break;case"H":l=D.shift(),S="L",w.push(l,u);break;case"v":u+=D.shift(),S="L",w.push(l,u);break;case"V":u=D.shift(),S="L",w.push(l,u);break;case"C":w.push(D.shift(),D.shift(),D.shift(),D.shift()),l=D.shift(),u=D.shift(),w.push(l,u);break;case"c":w.push(l+D.shift(),u+D.shift(),l+D.shift(),u+D.shift()),l+=D.shift(),u+=D.shift(),S="C",w.push(l,u);break;case"S":O=l,L=u,T=o[o.length-1],T.command==="C"&&(O=l+(l-T.points[2]),L=u+(u-T.points[3])),w.push(O,L,D.shift(),D.shift()),l=D.shift(),u=D.shift(),S="C",w.push(l,u);break;case"s":O=l,L=u,T=o[o.length-1],T.command==="C"&&(O=l+(l-T.points[2]),L=u+(u-T.points[3])),w.push(O,L,l+D.shift(),u+D.shift()),l+=D.shift(),u+=D.shift(),S="C",w.push(l,u);break;case"Q":w.push(D.shift(),D.shift()),l=D.shift(),u=D.shift(),w.push(l,u);break;case"q":w.push(l+D.shift(),u+D.shift()),l+=D.shift(),u+=D.shift(),S="Q",w.push(l,u);break;case"T":O=l,L=u,T=o[o.length-1],T.command==="Q"&&(O=l+(l-T.points[0]),L=u+(u-T.points[1])),l=D.shift(),u=D.shift(),S="Q",w.push(O,L,l,u);break;case"t":O=l,L=u,T=o[o.length-1],T.command==="Q"&&(O=l+(l-T.points[0]),L=u+(u-T.points[1])),l+=D.shift(),u+=D.shift(),S="Q",w.push(O,L,l,u);break;case"A":U=D.shift(),Y=D.shift(),G=D.shift(),fe=D.shift(),W=D.shift(),Q=l,q=u,l=D.shift(),u=D.shift(),S="A",w=this.convertEndpointToCenterParameterization(Q,q,l,u,fe,W,U,Y,G);break;case"a":U=D.shift(),Y=D.shift(),G=D.shift(),fe=D.shift(),W=D.shift(),Q=l,q=u,l+=D.shift(),u+=D.shift(),S="A",w=this.convertEndpointToCenterParameterization(Q,q,l,u,fe,W,U,Y,G);break}o.push({command:S||v,points:w,start:{x:M,y:A},pathLength:this.calcLength(M,A,S||v,w)})}(v==="z"||v==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,n,r,i){let o,a,l,u,f=t;switch(r){case"L":return f.getLineLength(e,n,i[0],i[1]);case"C":return(0,gc.getCubicArcLength)([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return(0,gc.getQuadraticArcLength)([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":o=0;let h=i[4],g=i[5],y=i[4]+g,v=Math.PI/180;if(Math.abs(h-y)<v&&(v=Math.abs(h-y)),a=f.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),g<0)for(u=h-v;u>y;u-=v)l=f.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),o+=f.getLineLength(a.x,a.y,l.x,l.y),a=l;else for(u=h+v;u<y;u+=v)l=f.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),o+=f.getLineLength(a.x,a.y,l.x,l.y),a=l;return l=f.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],y,0),o+=f.getLineLength(a.x,a.y,l.x,l.y),o}return 0}static convertEndpointToCenterParameterization(e,n,r,i,o,a,l,u,f){let h=f*(Math.PI/180),g=Math.cos(h)*(e-r)/2+Math.sin(h)*(n-i)/2,y=-1*Math.sin(h)*(e-r)/2+Math.cos(h)*(n-i)/2,v=g*g/(l*l)+y*y/(u*u);v>1&&(l*=Math.sqrt(v),u*=Math.sqrt(v));let D=Math.sqrt((l*l*(u*u)-l*l*(y*y)-u*u*(g*g))/(l*l*(y*y)+u*u*(g*g)));o===a&&(D*=-1),isNaN(D)&&(D=0);let S=D*l*y/u,w=D*-u*g/l,M=(e+r)/2+Math.cos(h)*S-Math.sin(h)*w,A=(n+i)/2+Math.sin(h)*S+Math.cos(h)*w,T=function(W){return Math.sqrt(W[0]*W[0]+W[1]*W[1])},O=function(W,Q){return(W[0]*Q[0]+W[1]*Q[1])/(T(W)*T(Q))},L=function(W,Q){return(W[0]*Q[1]<W[1]*Q[0]?-1:1)*Math.acos(O(W,Q))},U=L([1,0],[(g-S)/l,(y-w)/u]),Y=[(g-S)/l,(y-w)/u],G=[(-1*g-S)/l,(-1*y-w)/u],fe=L(Y,G);return O(Y,G)<=-1&&(fe=Math.PI),O(Y,G)>=1&&(fe=0),a===0&&fe>0&&(fe=fe-2*Math.PI),a===1&&fe<0&&(fe=fe+2*Math.PI),[M,A,l,u,U,fe,h,a]}};vp.Path=Hs;Hs.prototype.className="Path";Hs.prototype._attrsAffectingSize=["data"];(0,oU._registerNode)(Hs);iU.Factory.addGetterSetter(Hs,"data")});var t1=de(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.Arrow=void 0;var _p=Ge(),aU=yp(),BT=ze(),cU=Ue(),UT=vu(),eo=class extends aU.Line{_sceneFunc(e){super._sceneFunc(e);let n=Math.PI*2,r=this.points(),i=r,o=this.tension()!==0&&r.length>4;o&&(i=this.getTensionPoints());let a=this.pointerLength(),l=r.length,u,f;if(o){let y=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[l-2],r[l-1]],v=UT.Path.calcLength(i[i.length-4],i[i.length-3],"C",y),D=UT.Path.getPointOnQuadraticBezier(Math.min(1,1-a/v),y[0],y[1],y[2],y[3],y[4],y[5]);u=r[l-2]-D.x,f=r[l-1]-D.y}else u=r[l-2]-r[l-4],f=r[l-1]-r[l-3];let h=(Math.atan2(f,u)+n)%n,g=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[l-2],r[l-1]),e.rotate(h),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(u=(i[0]+i[2])/2-r[0],f=(i[1]+i[3])/2-r[1]):(u=r[2]-r[0],f=r[3]-r[1]),e.rotate((Math.atan2(-f,-u)+n)%n),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){let n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){let e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Dp.Arrow=eo;eo.prototype.className="Arrow";(0,cU._registerNode)(eo);_p.Factory.addGetterSetter(eo,"pointerLength",10,(0,BT.getNumberValidator)());_p.Factory.addGetterSetter(eo,"pointerWidth",10,(0,BT.getNumberValidator)());_p.Factory.addGetterSetter(eo,"pointerAtBeginning",!1);_p.Factory.addGetterSetter(eo,"pointerAtEnding",!0)});var n1=de(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.Circle=void 0;var lU=Ge(),uU=Vt(),dU=ze(),fU=Ue(),zo=class extends uU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Ep.Circle=zo;zo.prototype._centroid=!0;zo.prototype.className="Circle";zo.prototype._attrsAffectingSize=["radius"];(0,fU._registerNode)(zo);lU.Factory.addGetterSetter(zo,"radius",0,(0,dU.getNumberValidator)())});var i1=de(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.Ellipse=void 0;var r1=Ge(),hU=Vt(),HT=ze(),pU=Ue(),vi=class extends hU.Shape{_sceneFunc(e){let n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};Cp.Ellipse=vi;vi.prototype.className="Ellipse";vi.prototype._centroid=!0;vi.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,pU._registerNode)(vi);r1.Factory.addComponentsGetterSetter(vi,"radius",["x","y"]);r1.Factory.addGetterSetter(vi,"radiusX",0,(0,HT.getNumberValidator)());r1.Factory.addGetterSetter(vi,"radiusY",0,(0,HT.getNumberValidator)())});var s1=de(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.Image=void 0;var o1=bt(),Gs=Ge(),gU=Vt(),mU=Ue(),_u=ze(),Ir=class t extends gU.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){let e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){let e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){let n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image,a;if(o){let l=this.attrs.cropWidth,u=this.attrs.cropHeight;l&&u?a=[o,this.cropX(),this.cropY(),l,u,0,0,n,r]:a=[o,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?o1.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){let n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?o1.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){let i=o1.Util.createImageElement();i.onload=function(){let o=new t({image:i});n(o)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};wp.Image=Ir;Ir.prototype.className="Image";(0,mU._registerNode)(Ir);Gs.Factory.addGetterSetter(Ir,"cornerRadius",0,(0,_u.getNumberOrArrayOfNumbersValidator)(4));Gs.Factory.addGetterSetter(Ir,"image");Gs.Factory.addComponentsGetterSetter(Ir,"crop",["x","y","width","height"]);Gs.Factory.addGetterSetter(Ir,"cropX",0,(0,_u.getNumberValidator)());Gs.Factory.addGetterSetter(Ir,"cropY",0,(0,_u.getNumberValidator)());Gs.Factory.addGetterSetter(Ir,"cropWidth",0,(0,_u.getNumberValidator)());Gs.Factory.addGetterSetter(Ir,"cropHeight",0,(0,_u.getNumberValidator)())});var f1=de(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.Tag=mc.Label=void 0;var bp=Ge(),yU=Vt(),vU=yu(),d1=ze(),GT=Ue(),$T=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],_U="Change.konva",DU="none",a1="up",c1="right",l1="down",u1="left",EU=$T.length,Du=class extends vU.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r,i=function(){n._sync()};for(r=0;r<EU;r++)e.on($T[r]+_U,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,o,a,l,u,f;if(e&&n){switch(r=e.width(),i=e.height(),o=n.pointerDirection(),a=n.pointerWidth(),f=n.pointerHeight(),l=0,u=0,o){case a1:l=r/2,u=-1*f;break;case c1:l=r+a,u=i/2;break;case l1:l=r/2,u=i+f;break;case u1:l=-1*a,u=i/2;break}n.setAttrs({x:-1*l,y:-1*u,width:r,height:i}),e.setAttrs({x:-1*l,y:-1*u})}}};mc.Label=Du;Du.prototype.className="Label";(0,GT._registerNode)(Du);var to=class extends yU.Shape{_sceneFunc(e){let n=this.width(),r=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),a=this.pointerHeight(),l=this.cornerRadius(),u=0,f=0,h=0,g=0;typeof l=="number"?u=f=h=g=Math.min(l,n/2,r/2):(u=Math.min(l[0]||0,n/2,r/2),f=Math.min(l[1]||0,n/2,r/2),g=Math.min(l[2]||0,n/2,r/2),h=Math.min(l[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(u,0),i===a1&&(e.lineTo((n-o)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+o)/2,0)),e.lineTo(n-f,0),e.arc(n-f,f,f,Math.PI*3/2,0,!1),i===c1&&(e.lineTo(n,(r-a)/2),e.lineTo(n+o,r/2),e.lineTo(n,(r+a)/2)),e.lineTo(n,r-g),e.arc(n-g,r-g,g,0,Math.PI/2,!1),i===l1&&(e.lineTo((n+o)/2,r),e.lineTo(n/2,r+a),e.lineTo((n-o)/2,r)),e.lineTo(h,r),e.arc(h,r-h,h,Math.PI/2,Math.PI,!1),i===u1&&(e.lineTo(0,(r+a)/2),e.lineTo(-1*o,r/2),e.lineTo(0,(r-a)/2)),e.lineTo(0,u),e.arc(u,u,u,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),a=this.width(),l=this.height();return o===a1?(n-=i,l+=i):o===l1?l+=i:o===u1?(e-=r*1.5,a+=r):o===c1&&(a+=r*1.5),{x:e,y:n,width:a,height:l}}};mc.Tag=to;to.prototype.className="Tag";(0,GT._registerNode)(to);bp.Factory.addGetterSetter(to,"pointerDirection",DU);bp.Factory.addGetterSetter(to,"pointerWidth",0,(0,d1.getNumberValidator)());bp.Factory.addGetterSetter(to,"pointerHeight",0,(0,d1.getNumberValidator)());bp.Factory.addGetterSetter(to,"cornerRadius",0,(0,d1.getNumberOrArrayOfNumbersValidator)(4))});var Ip=de(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.Rect=void 0;var CU=Ge(),wU=Vt(),bU=Ue(),SU=bt(),IU=ze(),yc=class extends wU.Shape{_sceneFunc(e){let n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?SU.Util.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Sp.Rect=yc;yc.prototype.className="Rect";(0,bU._registerNode)(yc);CU.Factory.addGetterSetter(yc,"cornerRadius",0,(0,IU.getNumberOrArrayOfNumbersValidator)(4))});var h1=de(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.RegularPolygon=void 0;var qT=Ge(),TU=Vt(),zT=ze(),MU=Ue(),no=class extends TU.Shape{_sceneFunc(e){let n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){let e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){let e=this._getPoints(),n=e[0].x,r=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),o=Math.max(o,a.y)}),{x:n,y:i,width:r-n,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Tp.RegularPolygon=no;no.prototype.className="RegularPolygon";no.prototype._centroid=!0;no.prototype._attrsAffectingSize=["radius"];(0,MU._registerNode)(no);qT.Factory.addGetterSetter(no,"radius",0,(0,zT.getNumberValidator)());qT.Factory.addGetterSetter(no,"sides",0,(0,zT.getNumberValidator)())});var p1=de(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.Ring=void 0;var YT=Ge(),AU=Vt(),ZT=ze(),xU=Ue(),WT=Math.PI*2,ro=class extends AU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,WT,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),WT,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Mp.Ring=ro;ro.prototype.className="Ring";ro.prototype._centroid=!0;ro.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,xU._registerNode)(ro);YT.Factory.addGetterSetter(ro,"innerRadius",0,(0,ZT.getNumberValidator)());YT.Factory.addGetterSetter(ro,"outerRadius",0,(0,ZT.getNumberValidator)())});var XT=de(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.Sprite=void 0;var $s=Ge(),RU=Vt(),NU=up(),KT=ze(),OU=Ue(),Tr=class extends RU.Shape{constructor(e){super(e),this._updated=!0,this.anim=new NU.Animation(()=>{let n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){let n=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[n],a=this.frameOffsets(),l=o[i+0],u=o[i+1],f=o[i+2],h=o[i+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,f,h),e.closePath(),e.fillStrokeShape(this)),g)if(a){let y=a[n],v=r*2;e.drawImage(g,l,u,f,h,y[v+0],y[v+1],f,h)}else e.drawImage(g,l,u,f,h,0,0,f,h)}_hitFunc(e){let n=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[n],a=this.frameOffsets(),l=o[i+2],u=o[i+3];if(e.beginPath(),a){let f=a[n],h=r*2;e.rect(f[h+0],f[h+1],l,u)}else e.rect(0,0,l,u);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){let e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;let e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){let e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}};Ap.Sprite=Tr;Tr.prototype.className="Sprite";(0,OU._registerNode)(Tr);$s.Factory.addGetterSetter(Tr,"animation");$s.Factory.addGetterSetter(Tr,"animations");$s.Factory.addGetterSetter(Tr,"frameOffsets");$s.Factory.addGetterSetter(Tr,"image");$s.Factory.addGetterSetter(Tr,"frameIndex",0,(0,KT.getNumberValidator)());$s.Factory.addGetterSetter(Tr,"frameRate",17,(0,KT.getNumberValidator)());$s.Factory.backCompat(Tr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})});var y1=de(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.Star=void 0;var g1=Ge(),kU=Vt(),m1=ze(),PU=Ue(),_i=class extends kU.Shape{_sceneFunc(e){let n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let o=1;o<i*2;o++){let a=o%2===0?r:n,l=a*Math.sin(o*Math.PI/i),u=-1*a*Math.cos(o*Math.PI/i);e.lineTo(l,u)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};xp.Star=_i;_i.prototype.className="Star";_i.prototype._centroid=!0;_i.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,PU._registerNode)(_i);g1.Factory.addGetterSetter(_i,"numPoints",5,(0,m1.getNumberValidator)());g1.Factory.addGetterSetter(_i,"innerRadius",0,(0,m1.getNumberValidator)());g1.Factory.addGetterSetter(_i,"outerRadius",0,(0,m1.getNumberValidator)())});var Op=de(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.Text=void 0;Cu.stringToArray=qs;var E1=bt(),gn=Ge(),FU=Vt(),v1=Ue(),Wo=ze(),LU=Ue();function qs(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){let o=i[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(n+o),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}var vc="auto",VU="center",nM="inherit",Eu="justify",jU="Change.konva",UU="2d",QT="-",rM="left",BU="text",HU="Text",GU="top",$U="bottom",JT="middle",iM="normal",qU="px ",Rp=" ",zU="right",eM="rtl",WU="word",YU="char",tM="none",_1="\u2026",oM=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],ZU=oM.length;function KU(t){return t.split(",").map(e=>{e=e.trim();let n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}var Np;function D1(){return Np||(Np=E1.Util.createCanvasElement().getContext(UU),Np)}function XU(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function QU(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function JU(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}var Dt=class extends FU.Shape{constructor(e){super(JU(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<ZU;n++)this.on(oM[n]+jU,this._setTextData);this._setTextData()}_sceneFunc(e){let n=this.textArr,r=n.length;if(!this.text())return;let i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,l=this.verticalAlign(),u=this.direction(),f=0,h=this.align(),g=this.getWidth(),y=this.letterSpacing(),v=this.fill(),D=this.textDecoration(),S=D.indexOf("underline")!==-1,w=D.indexOf("line-through")!==-1,M;u=u===nM?e.direction:u;let A=a/2,T=JT;if(v1.Konva._fixTextRendering){let O=this.measureSize("M");T="alphabetic",A=(O.fontBoundingBoxAscent-O.fontBoundingBoxDescent)/2+a/2}for(u===eM&&e.setAttr("direction",u),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",T),e.setAttr("textAlign",rM),l===JT?f=(this.getHeight()-r*a-i*2)/2:l===$U&&(f=this.getHeight()-r*a-i*2),e.translate(i,f+i),M=0;M<r;M++){let O=0,L=0,U=n[M],Y=U.text,G=U.width,fe=U.lastInParagraph;if(e.save(),h===zU?O+=g-G-i*2:h===VU&&(O+=(g-G-i*2)/2),S){e.save(),e.beginPath();let W=v1.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),Q=O,q=A+L+W;e.moveTo(Q,q);let ee=h===Eu&&!fe?g-i*2:G;e.lineTo(Q+Math.round(ee),q),e.lineWidth=o/15;let Je=this._getLinearGradient();e.strokeStyle=Je||v,e.stroke(),e.restore()}if(w){e.save(),e.beginPath();let W=v1.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(O,A+L+W);let Q=h===Eu&&!fe?g-i*2:G;e.lineTo(O+Math.round(Q),A+L+W),e.lineWidth=o/15;let q=this._getLinearGradient();e.strokeStyle=q||v,e.stroke(),e.restore()}if(u!==eM&&(y!==0||h===Eu)){let W=Y.split(" ").length-1,Q=qs(Y);for(let q=0;q<Q.length;q++){let ee=Q[q];ee===" "&&!fe&&h===Eu&&(O+=(g-i*2-G)/W),this._partialTextX=O,this._partialTextY=A+L,this._partialText=ee,e.fillStrokeShape(this),O+=this.measureSize(ee).width+y}}else y!==0&&e.setAttr("letterSpacing",`${y}px`),this._partialTextX=O,this._partialTextY=A+L,this._partialText=Y,e.fillStrokeShape(this);e.restore(),r>1&&(A+=a)}}_hitFunc(e){let n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){let n=E1.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(BU,n),this}getWidth(){return this.attrs.width===vc||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===vc||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return E1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,o,a,l,u,f,h,g,y;let v=D1(),D=this.fontSize(),S;v.save(),v.font=this._getContextFont(),S=v.measureText(e),v.restore();let w=D/100;return{actualBoundingBoxAscent:(n=S.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*w,actualBoundingBoxDescent:(r=S.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=S.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*w,actualBoundingBoxRight:(o=S.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*w,alphabeticBaseline:(a=S.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(l=S.emHeightAscent)!==null&&l!==void 0?l:100*w,emHeightDescent:(u=S.emHeightDescent)!==null&&u!==void 0?u:-20*w,fontBoundingBoxAscent:(f=S.fontBoundingBoxAscent)!==null&&f!==void 0?f:91*w,fontBoundingBoxDescent:(h=S.fontBoundingBoxDescent)!==null&&h!==void 0?h:21*w,hangingBaseline:(g=S.hangingBaseline)!==null&&g!==void 0?g:72.80000305175781*w,ideographicBaseline:(y=S.ideographicBaseline)!==null&&y!==void 0?y:-21*w,width:S.width,height:D}}_getContextFont(){return this.fontStyle()+Rp+this.fontVariant()+Rp+(this.fontSize()+qU)+KU(this.fontFamily())}_addTextLine(e){this.align()===Eu&&(e=e.trim());let r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){let n=this.letterSpacing(),r=e.length;return D1().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,o=this.attrs.width,a=this.attrs.height,l=o!==vc&&o!==void 0,u=a!==vc&&a!==void 0,f=this.padding(),h=o-f*2,g=a-f*2,y=0,v=this.wrap(),D=v!==tM,S=v!==YU&&D,w=this.ellipsis();this.textArr=[],D1().font=this._getContextFont();let M=w?this._getTextWidth(_1):0;for(let A=0,T=e.length;A<T;++A){let O=e[A],L=this._getTextWidth(O);if(l&&L>h)for(;O.length>0;){let U=0,Y=qs(O).length,G="",fe=0;for(;U<Y;){let W=U+Y>>>1,Q=qs(O),q=Q.slice(0,W+1).join(""),ee=this._getTextWidth(q);(w&&u&&y+i>g?ee+M:ee)<=h?(U=W+1,G=q,fe=ee):Y=W}if(G){if(S){let q=qs(O),ee=qs(G),Je=q[ee.length],we=Je===Rp||Je===QT,se;if(we&&fe<=h)se=ee.length;else{let re=ee.lastIndexOf(Rp),I=ee.lastIndexOf(QT);se=Math.max(re,I)+1}se>0&&(U=se,G=q.slice(0,U).join(""),fe=this._getTextWidth(G))}if(G=G.trimRight(),this._addTextLine(G),r=Math.max(r,fe),y+=i,this._shouldHandleEllipsis(y)){this._tryToAddEllipsisToLastLine();break}if(O=qs(O).slice(U).join("").trimLeft(),O.length>0&&(L=this._getTextWidth(O),L<=h)){this._addTextLine(O),y+=i,r=Math.max(r,L);break}}else break}else this._addTextLine(O),y+=i,r=Math.max(r,L),this._shouldHandleEllipsis(y)&&A<T-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),u&&y+i>g)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){let n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,o=i!==vc&&i!==void 0,a=this.padding(),l=i-a*2;return!(this.wrap()!==tM)||o&&e+r>l}_tryToAddEllipsisToLastLine(){let e=this.attrs.width,n=e!==vc&&e!==void 0,r=this.padding(),i=e-r*2,o=this.ellipsis(),a=this.textArr[this.textArr.length-1];!a||!o||(n&&(this._getTextWidth(a.text+_1)<i||(a.text=a.text.slice(0,a.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+_1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){let e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Cu.Text=Dt;Dt.prototype._fillFunc=XU;Dt.prototype._strokeFunc=QU;Dt.prototype.className=HU;Dt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,LU._registerNode)(Dt);gn.Factory.overWriteSetter(Dt,"width",(0,Wo.getNumberOrAutoValidator)());gn.Factory.overWriteSetter(Dt,"height",(0,Wo.getNumberOrAutoValidator)());gn.Factory.addGetterSetter(Dt,"direction",nM);gn.Factory.addGetterSetter(Dt,"fontFamily","Arial");gn.Factory.addGetterSetter(Dt,"fontSize",12,(0,Wo.getNumberValidator)());gn.Factory.addGetterSetter(Dt,"fontStyle",iM);gn.Factory.addGetterSetter(Dt,"fontVariant",iM);gn.Factory.addGetterSetter(Dt,"padding",0,(0,Wo.getNumberValidator)());gn.Factory.addGetterSetter(Dt,"align",rM);gn.Factory.addGetterSetter(Dt,"verticalAlign",GU);gn.Factory.addGetterSetter(Dt,"lineHeight",1,(0,Wo.getNumberValidator)());gn.Factory.addGetterSetter(Dt,"wrap",WU);gn.Factory.addGetterSetter(Dt,"ellipsis",!1,(0,Wo.getBooleanValidator)());gn.Factory.addGetterSetter(Dt,"letterSpacing",0,(0,Wo.getNumberValidator)());gn.Factory.addGetterSetter(Dt,"text","",(0,Wo.getStringValidator)());gn.Factory.addGetterSetter(Dt,"textDecoration","")});var b1=de(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.TextPath=void 0;var C1=bt(),zr=Ge(),eB=Vt(),wu=vu(),w1=Op(),sM=ze(),tB=Ue(),nB="",aM="normal";function cM(t){t.fillText(this.partialText,0,0)}function lM(t){t.strokeText(this.partialText,0,0)}var Pt=class extends eB.Shape{constructor(e){super(e),this.dummyCanvas=C1.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return wu.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;let n=this.pathLength;return e-1>n?null:wu.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=wu.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();let n=this.textDecoration(),r=this.fill(),i=this.fontSize(),o=this.glyphInfo;n==="underline"&&e.beginPath();for(let a=0;a<o.length;a++){e.save();let l=o[a].p0;e.translate(l.x,l.y),e.rotate(o[a].rotation),this.partialText=o[a].text,e.fillStrokeShape(this),n==="underline"&&(a===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();let n=this.glyphInfo;if(n.length>=1){let r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){let i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return C1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return w1.Text.prototype.setText.call(this,e)}_getContextFont(){return w1.Text.prototype._getContextFont.call(this)}_getTextSize(e){let r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();let i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){let{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;let r=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0),l=0;i==="center"&&(l=Math.max(0,this.pathLength/2-a/2)),i==="right"&&(l=Math.max(0,this.pathLength-a));let u=(0,w1.stringToArray)(this.text()),f=l;for(let h=0;h<u.length;h++){let g=this._getPointAtLength(f);if(!g)return;let y=this._getTextSize(u[h]).width+r;if(u[h]===" "&&i==="justify"){let A=this.text().split(" ").length-1;y+=(this.pathLength-a)/A}let v=this._getPointAtLength(f+y);if(!v)return;let D=wu.Path.getLineLength(g.x,g.y,v.x,v.y),S=0;if(o)try{S=o(u[h-1],u[h])*this.fontSize()}catch{S=0}g.x+=S,v.x+=S,this.textWidth+=S;let w=wu.Path.getPointOnLine(S+D/2,g.x,g.y,v.x,v.y),M=Math.atan2(v.y-g.y,v.x-g.x);this.glyphInfo.push({transposeX:w.x,transposeY:w.y,text:u[h],rotation:M,p0:g,p1:v}),f+=y}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};let e=[];this.glyphInfo.forEach(function(f){e.push(f.p0.x),e.push(f.p0.y),e.push(f.p1.x),e.push(f.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,o=e[1]||0,a,l;for(let f=0;f<e.length/2;f++)a=e[f*2],l=e[f*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,l),o=Math.max(o,l);let u=this.fontSize();return{x:n-u/2,y:i-u/2,width:r-n+u,height:o-i+u}}destroy(){return C1.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};kp.TextPath=Pt;Pt.prototype._fillFunc=cM;Pt.prototype._strokeFunc=lM;Pt.prototype._fillFuncHit=cM;Pt.prototype._strokeFuncHit=lM;Pt.prototype.className="TextPath";Pt.prototype._attrsAffectingSize=["text","fontSize","data"];(0,tB._registerNode)(Pt);zr.Factory.addGetterSetter(Pt,"data");zr.Factory.addGetterSetter(Pt,"fontFamily","Arial");zr.Factory.addGetterSetter(Pt,"fontSize",12,(0,sM.getNumberValidator)());zr.Factory.addGetterSetter(Pt,"fontStyle",aM);zr.Factory.addGetterSetter(Pt,"align","left");zr.Factory.addGetterSetter(Pt,"letterSpacing",0,(0,sM.getNumberValidator)());zr.Factory.addGetterSetter(Pt,"textBaseline","middle");zr.Factory.addGetterSetter(Pt,"fontVariant",aM);zr.Factory.addGetterSetter(Pt,"text",nB);zr.Factory.addGetterSetter(Pt,"textDecoration","");zr.Factory.addGetterSetter(Pt,"kerningFunc",void 0)});var mM=de(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.Transformer=void 0;var ut=bt(),nt=Ge(),uM=Mt(),rB=Vt(),iB=Ip(),dM=yu(),Wr=Ue(),Yo=ze(),oB=Ue(),pM="tr-konva",sB=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${pM}`).join(" "),fM="nodesRect",aB=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],cB={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},lB="ontouchstart"in Wr.Konva._global;function uB(t,e,n){if(t==="rotater")return n;e+=ut.Util.degToRad(cB[t]||0);let r=(ut.Util.radToDeg(e)%360+360)%360;return ut.Util._inRange(r,315+22.5,360)||ut.Util._inRange(r,0,22.5)?"ns-resize":ut.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":ut.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":ut.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":ut.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":ut.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":ut.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":ut.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(ut.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var Pp=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],hM=1e8;function dB(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function gM(t,e,n){let r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Ce(H({},t),{rotation:t.rotation+e,x:r,y:i})}function fB(t,e){let n=dB(t);return gM(t,e,n)}function hB(t,e,n){let r=e;for(let i=0;i<t.length;i++){let o=Wr.Konva.getAngle(t[i]),a=Math.abs(o-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(r=o)}return r}var S1=0,We=class extends dM.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(sB,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ut.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return pM+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();let n=e.filter(i=>i.isAncestorOf(this)?(ut.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{let o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){let a=i._attrsAffectingSize.map(l=>l+"Change."+this._getEventNamespace()).join(" ");i.on(a,o)}i.on(aB.map(a=>a+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;let i=e.getAbsolutePosition(),o=i.x-n.x,a=i.y-n.y;this.nodes().forEach(l=>{if(l===e||l.isDragging())return;let u=l.getAbsolutePosition();l.setAbsolutePosition({x:u.x+o,y:u.y+a}),l.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(fM),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(fM,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){let i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(r),a=e.getAbsolutePosition(r),l=i.x*o.x-e.offsetX()*o.x,u=i.y*o.y-e.offsetY()*o.y,f=(Wr.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),h={x:a.x+l*Math.cos(f)+u*Math.sin(-f),y:a.y+u*Math.cos(f)+l*Math.sin(f),width:i.width*o.x,height:i.height*o.y,rotation:f};return gM(h,-Wr.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-hM,y:-hM,width:0,height:0,rotation:0};let n=[];this.nodes().map(f=>{let h=f.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],y=f.getAbsoluteTransform();g.forEach(function(v){let D=y.point(v);n.push(D)})});let r=new ut.Transform;r.rotate(-Wr.Konva.getAngle(this.rotation()));let i=1/0,o=1/0,a=-1/0,l=-1/0;n.forEach(function(f){let h=r.point(f);i===void 0&&(i=a=h.x,o=l=h.y),i=Math.min(i,h.x),o=Math.min(o,h.y),a=Math.max(a,h.x),l=Math.max(l,h.y)}),r.invert();let u=r.point({x:i,y:o});return{x:u.x,y:u.y,width:a-i,height:l-o,rotation:Wr.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Pp.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){let n=new iB.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:lB?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{let i=Wr.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),a=uB(e,i,o);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){let e=new rB.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){let i=r.getParent(),o=i.padding();n.beginPath(),n.rect(-o,-o,r.width()+o*2,r.height()+o*2),n.moveTo(r.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*ut.Util._sign(r.height())-o),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;let i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];let n=this._getNodeRect(),r=n.width,i=n.height,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(r/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;let a=e.target.getAbsolutePosition(),l=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:l.x-a.x,y:l.y-a.y},S1++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(u=>{u._fire("transformstart",{evt:e.evt,target:u})})}_handleMouseMove(e){let n,r,i,o=this.findOne("."+this._movingAnchorName),a=o.getStage();a.setPointersPositions(e);let l=a.getPointerPosition(),u={x:l.x-this._anchorDragOffset.x,y:l.y-this._anchorDragOffset.y},f=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(u=this.anchorDragBoundFunc()(f,u,e)),o.setAbsolutePosition(u);let h=o.getAbsolutePosition();if(f.x===h.x&&f.y===h.y)return;if(this._movingAnchorName==="rotater"){let A=this._getNodeRect();n=o.x()-A.width/2,r=-o.y()+A.height/2;let T=Math.atan2(-r,n)+Math.PI/2;A.height<0&&(T-=Math.PI);let L=Wr.Konva.getAngle(this.rotation())+T,U=Wr.Konva.getAngle(this.rotationSnapTolerance()),G=hB(this.rotationSnaps(),L,U)-A.rotation,fe=fB(A,G);this._fitNodesInto(fe,e);return}let g=this.shiftBehavior(),y;g==="inverted"?y=this.keepRatio()&&!e.shiftKey:g==="none"?y=this.keepRatio():y=this.keepRatio()||e.shiftKey;let v=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(y){let A=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(A.x-o.x(),2)+Math.pow(A.y-o.y(),2));let T=this.findOne(".top-left").x()>A.x?-1:1,O=this.findOne(".top-left").y()>A.y?-1:1;n=i*this.cos*T,r=i*this.sin*O,this.findOne(".top-left").x(A.x-n),this.findOne(".top-left").y(A.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(y){let A=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-A.x,2)+Math.pow(A.y-o.y(),2));let T=this.findOne(".top-right").x()<A.x?-1:1,O=this.findOne(".top-right").y()>A.y?-1:1;n=i*this.cos*T,r=i*this.sin*O,this.findOne(".top-right").x(A.x+n),this.findOne(".top-right").y(A.y-r)}var D=o.position();this.findOne(".top-left").y(D.y),this.findOne(".bottom-right").x(D.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(y){let A=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(A.x-o.x(),2)+Math.pow(o.y()-A.y,2));let T=A.x<o.x()?-1:1,O=o.y()<A.y?-1:1;n=i*this.cos*T,r=i*this.sin*O,o.x(A.x-n),o.y(A.y+r)}D=o.position(),this.findOne(".top-left").x(D.x),this.findOne(".bottom-right").y(D.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(y){let A=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-A.x,2)+Math.pow(o.y()-A.y,2));let T=this.findOne(".bottom-right").x()<A.x?-1:1,O=this.findOne(".bottom-right").y()<A.y?-1:1;n=i*this.cos*T,r=i*this.sin*O,this.findOne(".bottom-right").x(A.x+n),this.findOne(".bottom-right").y(A.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(v=this.centeredScaling()||e.altKey,v){let A=this.findOne(".top-left"),T=this.findOne(".bottom-right"),O=A.x(),L=A.y(),U=this.getWidth()-T.x(),Y=this.getHeight()-T.y();T.move({x:-O,y:-L}),A.move({x:U,y:Y})}let S=this.findOne(".top-left").getAbsolutePosition();n=S.x,r=S.y;let w=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:w,height:M,rotation:Wr.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));let r=this.getNode();S1--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var o;i._fire("transformend",{evt:e,target:i}),(o=i.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){let r=this._getNodeRect(),i=1;if(ut.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(ut.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}let o=new ut.Transform;if(o.rotate(Wr.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){let y=o.point({x:-this.padding()*2,y:0});e.x+=y.x,e.y+=y.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){let y=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){let y=o.point({x:0,y:-this.padding()*2});e.x+=y.x,e.y+=y.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){let y=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){let y=this.boundBoxFunc()(r,e);y?e=y:ut.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}let a=1e7,l=new ut.Transform;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/a,r.height/a);let u=new ut.Transform,f=e.width/a,h=e.height/a;this.flipEnabled()===!1?(u.translate(e.x,e.y),u.rotate(e.rotation),u.translate(e.width<0?e.width:0,e.height<0?e.height:0),u.scale(Math.abs(f),Math.abs(h))):(u.translate(e.x,e.y),u.rotate(e.rotation),u.scale(f,h));let g=u.multiply(l.invert());this._nodes.forEach(y=>{var v;let D=y.getParent().getAbsoluteTransform(),S=y.getTransform().copy();S.translate(y.offsetX(),y.offsetY());let w=new ut.Transform;w.multiply(D.copy().invert()).multiply(g).multiply(D).multiply(S);let M=w.decompose();y.setAttrs(M),(v=y.getLayer())===null||v===void 0||v.batchDraw()}),this.rotation(ut.Util._getRotation(e.rotation)),this._nodes.forEach(y=>{this._fire("transform",{evt:n,target:y}),y._fire("transform",{evt:n,target:y})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;let n=this._getNodeRect();this.rotation(ut.Util._getRotation(n.rotation));let r=n.width,i=n.height,o=this.enabledAnchors(),a=this.resizeEnabled(),l=this.padding(),u=this.anchorSize(),f=this.find("._anchor");f.forEach(g=>{g.setAttrs({width:u,height:u,offsetX:u/2,offsetY:u/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:u/2+l,offsetY:u/2+l,visible:a&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:u/2+l,visible:a&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:u/2-l,offsetY:u/2+l,visible:a&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:u/2+l,visible:a&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:u/2-l,visible:a&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:u/2+l,offsetY:u/2-l,visible:a&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:u/2-l,visible:a&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:u/2-l,offsetY:u/2-l,visible:a&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*ut.Util._sign(i)-l,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});let h=this.anchorStyleFunc();h&&f.forEach(g=>{h(g)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();let e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),dM.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return uM.Node.prototype.toObject.call(this)}clone(e){return uM.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Fp.Transformer=We;We.isTransforming=()=>S1>0;function pB(t){return t instanceof Array||ut.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Pp.indexOf(e)===-1&&ut.Util.warn("Unknown anchor name: "+e+". Available names are: "+Pp.join(", "))}),t||[]}We.prototype.className="Transformer";(0,oB._registerNode)(We);nt.Factory.addGetterSetter(We,"enabledAnchors",Pp,pB);nt.Factory.addGetterSetter(We,"flipEnabled",!0,(0,Yo.getBooleanValidator)());nt.Factory.addGetterSetter(We,"resizeEnabled",!0);nt.Factory.addGetterSetter(We,"anchorSize",10,(0,Yo.getNumberValidator)());nt.Factory.addGetterSetter(We,"rotateEnabled",!0);nt.Factory.addGetterSetter(We,"rotateLineVisible",!0);nt.Factory.addGetterSetter(We,"rotationSnaps",[]);nt.Factory.addGetterSetter(We,"rotateAnchorOffset",50,(0,Yo.getNumberValidator)());nt.Factory.addGetterSetter(We,"rotateAnchorCursor","crosshair");nt.Factory.addGetterSetter(We,"rotationSnapTolerance",5,(0,Yo.getNumberValidator)());nt.Factory.addGetterSetter(We,"borderEnabled",!0);nt.Factory.addGetterSetter(We,"anchorStroke","rgb(0, 161, 255)");nt.Factory.addGetterSetter(We,"anchorStrokeWidth",1,(0,Yo.getNumberValidator)());nt.Factory.addGetterSetter(We,"anchorFill","white");nt.Factory.addGetterSetter(We,"anchorCornerRadius",0,(0,Yo.getNumberValidator)());nt.Factory.addGetterSetter(We,"borderStroke","rgb(0, 161, 255)");nt.Factory.addGetterSetter(We,"borderStrokeWidth",1,(0,Yo.getNumberValidator)());nt.Factory.addGetterSetter(We,"borderDash");nt.Factory.addGetterSetter(We,"keepRatio",!0);nt.Factory.addGetterSetter(We,"shiftBehavior","default");nt.Factory.addGetterSetter(We,"centeredScaling",!1);nt.Factory.addGetterSetter(We,"ignoreStroke",!1);nt.Factory.addGetterSetter(We,"padding",0,(0,Yo.getNumberValidator)());nt.Factory.addGetterSetter(We,"nodes");nt.Factory.addGetterSetter(We,"node");nt.Factory.addGetterSetter(We,"boundBoxFunc");nt.Factory.addGetterSetter(We,"anchorDragBoundFunc");nt.Factory.addGetterSetter(We,"anchorStyleFunc");nt.Factory.addGetterSetter(We,"shouldOverdrawWholeArea",!1);nt.Factory.addGetterSetter(We,"useSingleNodeRotation",!0);nt.Factory.backCompat(We,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})});var I1=de(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.Wedge=void 0;var Lp=Ge(),gB=Vt(),mB=Ue(),yM=ze(),yB=Ue(),Yr=class extends gB.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,mB.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Vp.Wedge=Yr;Yr.prototype.className="Wedge";Yr.prototype._centroid=!0;Yr.prototype._attrsAffectingSize=["radius"];(0,yB._registerNode)(Yr);Lp.Factory.addGetterSetter(Yr,"radius",0,(0,yM.getNumberValidator)());Lp.Factory.addGetterSetter(Yr,"angle",0,(0,yM.getNumberValidator)());Lp.Factory.addGetterSetter(Yr,"clockwise",!1);Lp.Factory.backCompat(Yr,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})});var DM=de(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.Blur=void 0;var vM=Ge(),vB=Mt(),_B=ze();function _M(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var DB=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],EB=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function CB(t,e){let n=t.data,r=t.width,i=t.height,o,a,l,u,f,h,g,y,v,D,S,w,M,A,T,O,L,U,Y,G,fe=e+e+1,W=r-1,Q=i-1,q=e+1,ee=q*(q+1)/2,Je=new _M,we=DB[e],se=EB[e],re=null,I=Je,x=null,te=null;for(let ce=1;ce<fe;ce++)I=I.next=new _M,ce===q&&(re=I);I.next=Je,l=a=0;for(let ce=0;ce<i;ce++){w=M=A=T=u=f=h=g=0,y=q*(O=n[a]),v=q*(L=n[a+1]),D=q*(U=n[a+2]),S=q*(Y=n[a+3]),u+=ee*O,f+=ee*L,h+=ee*U,g+=ee*Y,I=Je;for(let Le=0;Le<q;Le++)I.r=O,I.g=L,I.b=U,I.a=Y,I=I.next;for(let Le=1;Le<q;Le++)o=a+((W<Le?W:Le)<<2),u+=(I.r=O=n[o])*(G=q-Le),f+=(I.g=L=n[o+1])*G,h+=(I.b=U=n[o+2])*G,g+=(I.a=Y=n[o+3])*G,w+=O,M+=L,A+=U,T+=Y,I=I.next;x=Je,te=re;for(let Le=0;Le<r;Le++)n[a+3]=Y=g*we>>se,Y!==0?(Y=255/Y,n[a]=(u*we>>se)*Y,n[a+1]=(f*we>>se)*Y,n[a+2]=(h*we>>se)*Y):n[a]=n[a+1]=n[a+2]=0,u-=y,f-=v,h-=D,g-=S,y-=x.r,v-=x.g,D-=x.b,S-=x.a,o=l+((o=Le+e+1)<W?o:W)<<2,w+=x.r=n[o],M+=x.g=n[o+1],A+=x.b=n[o+2],T+=x.a=n[o+3],u+=w,f+=M,h+=A,g+=T,x=x.next,y+=O=te.r,v+=L=te.g,D+=U=te.b,S+=Y=te.a,w-=O,M-=L,A-=U,T-=Y,te=te.next,a+=4;l+=r}for(let ce=0;ce<r;ce++){M=A=T=w=f=h=g=u=0,a=ce<<2,y=q*(O=n[a]),v=q*(L=n[a+1]),D=q*(U=n[a+2]),S=q*(Y=n[a+3]),u+=ee*O,f+=ee*L,h+=ee*U,g+=ee*Y,I=Je;for(let ge=0;ge<q;ge++)I.r=O,I.g=L,I.b=U,I.a=Y,I=I.next;let Le=r;for(let ge=1;ge<=e;ge++)a=Le+ce<<2,u+=(I.r=O=n[a])*(G=q-ge),f+=(I.g=L=n[a+1])*G,h+=(I.b=U=n[a+2])*G,g+=(I.a=Y=n[a+3])*G,w+=O,M+=L,A+=U,T+=Y,I=I.next,ge<Q&&(Le+=r);a=ce,x=Je,te=re;for(let ge=0;ge<i;ge++)o=a<<2,n[o+3]=Y=g*we>>se,Y>0?(Y=255/Y,n[o]=(u*we>>se)*Y,n[o+1]=(f*we>>se)*Y,n[o+2]=(h*we>>se)*Y):n[o]=n[o+1]=n[o+2]=0,u-=y,f-=v,h-=D,g-=S,y-=x.r,v-=x.g,D-=x.b,S-=x.a,o=ce+((o=ge+q)<Q?o:Q)*r<<2,u+=w+=x.r=n[o],f+=M+=x.g=n[o+1],h+=A+=x.b=n[o+2],g+=T+=x.a=n[o+3],x=x.next,y+=O=te.r,v+=L=te.g,D+=U=te.b,S+=Y=te.a,w-=O,M-=L,A-=U,T-=Y,te=te.next,a+=r}}var wB=function(e){let n=Math.round(this.blurRadius());n>0&&CB(e,n)};jp.Blur=wB;vM.Factory.addGetterSetter(vB.Node,"blurRadius",0,(0,_B.getNumberValidator)(),vM.Factory.afterSetFilter)});var CM=de(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.Brighten=void 0;var EM=Ge(),bB=Mt(),SB=ze(),IB=function(t){let e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};Up.Brighten=IB;EM.Factory.addGetterSetter(bB.Node,"brightness",0,(0,SB.getNumberValidator)(),EM.Factory.afterSetFilter)});var bM=de(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.Contrast=void 0;var wM=Ge(),TB=Mt(),MB=ze(),AB=function(t){let e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,i=150,o=150,a=150;for(let l=0;l<r;l+=4)i=n[l],o=n[l+1],a=n[l+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,n[l]=i,n[l+1]=o,n[l+2]=a};Bp.Contrast=AB;wM.Factory.addGetterSetter(TB.Node,"contrast",0,(0,MB.getNumberValidator)(),wM.Factory.afterSetFilter)});var IM=de(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.Emboss=void 0;var Zo=Ge(),Hp=Mt(),xB=bt(),SM=ze(),RB=function(t){let e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),o=t.data,a=t.width,l=t.height,u=a*4,f=0,h=0,g=l;switch(r){case"top-left":f=-1,h=-1;break;case"top":f=-1,h=0;break;case"top-right":f=-1,h=1;break;case"right":f=0,h=1;break;case"bottom-right":f=1,h=1;break;case"bottom":f=1,h=0;break;case"bottom-left":f=1,h=-1;break;case"left":f=0,h=-1;break;default:xB.Util.error("Unknown emboss direction: "+r)}do{let y=(g-1)*u,v=f;g+v<1&&(v=0),g+v>l&&(v=0);let D=(g-1+v)*a*4,S=a;do{let w=y+(S-1)*4,M=h;S+M<1&&(M=0),S+M>a&&(M=0);let A=D+(S-1+M)*4,T=o[w]-o[A],O=o[w+1]-o[A+1],L=o[w+2]-o[A+2],U=T,Y=U>0?U:-U,G=O>0?O:-O,fe=L>0?L:-L;if(G>Y&&(U=O),fe>Y&&(U=L),U*=e,i){let W=o[w]+U,Q=o[w+1]+U,q=o[w+2]+U;o[w]=W>255?255:W<0?0:W,o[w+1]=Q>255?255:Q<0?0:Q,o[w+2]=q>255?255:q<0?0:q}else{let W=n-U;W<0?W=0:W>255&&(W=255),o[w]=o[w+1]=o[w+2]=W}}while(--S)}while(--g)};Gp.Emboss=RB;Zo.Factory.addGetterSetter(Hp.Node,"embossStrength",.5,(0,SM.getNumberValidator)(),Zo.Factory.afterSetFilter);Zo.Factory.addGetterSetter(Hp.Node,"embossWhiteLevel",.5,(0,SM.getNumberValidator)(),Zo.Factory.afterSetFilter);Zo.Factory.addGetterSetter(Hp.Node,"embossDirection","top-left",void 0,Zo.Factory.afterSetFilter);Zo.Factory.addGetterSetter(Hp.Node,"embossBlend",!1,void 0,Zo.Factory.afterSetFilter)});var MM=de($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.Enhance=void 0;var TM=Ge(),NB=Mt(),OB=ze();function T1(t,e,n,r,i){let o=n-e,a=i-r;if(o===0)return r+a/2;if(a===0)return r;let l=(t-e)/o;return l=a*l+r,l}var kB=function(t){let e=t.data,n=e.length,r=e[0],i=r,o,a=e[1],l=a,u,f=e[2],h=f,g,y=this.enhance();if(y===0)return;for(let T=0;T<n;T+=4)o=e[T+0],o<r?r=o:o>i&&(i=o),u=e[T+1],u<a?a=u:u>l&&(l=u),g=e[T+2],g<f?f=g:g>h&&(h=g);i===r&&(i=255,r=0),l===a&&(l=255,a=0),h===f&&(h=255,f=0);let v,D,S,w,M,A;if(y>0)v=i+y*(255-i),D=r-y*(r-0),S=l+y*(255-l),w=a-y*(a-0),M=h+y*(255-h),A=f-y*(f-0);else{let T=(i+r)*.5;v=i+y*(i-T),D=r+y*(r-T);let O=(l+a)*.5;S=l+y*(l-O),w=a+y*(a-O);let L=(h+f)*.5;M=h+y*(h-L),A=f+y*(f-L)}for(let T=0;T<n;T+=4)e[T+0]=T1(e[T+0],r,i,D,v),e[T+1]=T1(e[T+1],a,l,w,S),e[T+2]=T1(e[T+2],f,h,A,M)};$p.Enhance=kB;TM.Factory.addGetterSetter(NB.Node,"enhance",0,(0,OB.getNumberValidator)(),TM.Factory.afterSetFilter)});var AM=de(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.Grayscale=void 0;var PB=function(t){let e=t.data,n=e.length;for(let r=0;r<n;r+=4){let i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};qp.Grayscale=PB});var xM=de(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.HSL=void 0;var _c=Ge(),M1=Mt(),A1=ze();_c.Factory.addGetterSetter(M1.Node,"hue",0,(0,A1.getNumberValidator)(),_c.Factory.afterSetFilter);_c.Factory.addGetterSetter(M1.Node,"saturation",0,(0,A1.getNumberValidator)(),_c.Factory.afterSetFilter);_c.Factory.addGetterSetter(M1.Node,"luminance",0,(0,A1.getNumberValidator)(),_c.Factory.afterSetFilter);var FB=function(t){let e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,a=this.luminance()*127,l=r*i*Math.cos(o*Math.PI/180),u=r*i*Math.sin(o*Math.PI/180),f=.299*r+.701*l+.167*u,h=.587*r-.587*l+.33*u,g=.114*r-.114*l-.497*u,y=.299*r-.299*l-.328*u,v=.587*r+.413*l+.035*u,D=.114*r-.114*l+.293*u,S=.299*r-.3*l+1.25*u,w=.587*r-.586*l-1.05*u,M=.114*r+.886*l-.2*u,A,T,O,L;for(let U=0;U<n;U+=4)A=e[U+0],T=e[U+1],O=e[U+2],L=e[U+3],e[U+0]=f*A+h*T+g*O+a,e[U+1]=y*A+v*T+D*O+a,e[U+2]=S*A+w*T+M*O+a,e[U+3]=L};zp.HSL=FB});var RM=de(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.HSV=void 0;var Dc=Ge(),x1=Mt(),R1=ze(),LB=function(t){let e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,a=r*i*Math.cos(o*Math.PI/180),l=r*i*Math.sin(o*Math.PI/180),u=.299*r+.701*a+.167*l,f=.587*r-.587*a+.33*l,h=.114*r-.114*a-.497*l,g=.299*r-.299*a-.328*l,y=.587*r+.413*a+.035*l,v=.114*r-.114*a+.293*l,D=.299*r-.3*a+1.25*l,S=.587*r-.586*a-1.05*l,w=.114*r+.886*a-.2*l;for(let M=0;M<n;M+=4){let A=e[M+0],T=e[M+1],O=e[M+2],L=e[M+3];e[M+0]=u*A+f*T+h*O,e[M+1]=g*A+y*T+v*O,e[M+2]=D*A+S*T+w*O,e[M+3]=L}};Wp.HSV=LB;Dc.Factory.addGetterSetter(x1.Node,"hue",0,(0,R1.getNumberValidator)(),Dc.Factory.afterSetFilter);Dc.Factory.addGetterSetter(x1.Node,"saturation",0,(0,R1.getNumberValidator)(),Dc.Factory.afterSetFilter);Dc.Factory.addGetterSetter(x1.Node,"value",0,(0,R1.getNumberValidator)(),Dc.Factory.afterSetFilter)});var NM=de(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.Invert=void 0;var VB=function(t){let e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};Yp.Invert=VB});var FM=de(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.Kaleidoscope=void 0;var Zp=Ge(),kM=Mt(),OM=bt(),PM=ze(),jB=function(t,e,n){let r=t.data,i=e.data,o=t.width,a=t.height,l=n.polarCenterX||o/2,u=n.polarCenterY||a/2,f=Math.sqrt(l*l+u*u),h=o-l,g=a-u,y=Math.sqrt(h*h+g*g);f=y>f?y:f;let v=a,D=o,S=360/D*Math.PI/180;for(let w=0;w<D;w+=1){let M=Math.sin(w*S),A=Math.cos(w*S);for(let T=0;T<v;T+=1){h=Math.floor(l+f*T/v*A),g=Math.floor(u+f*T/v*M);let O=(g*o+h)*4,L=r[O+0],U=r[O+1],Y=r[O+2],G=r[O+3];O=(w+T*o)*4,i[O+0]=L,i[O+1]=U,i[O+2]=Y,i[O+3]=G}}},UB=function(t,e,n){let r=t.data,i=e.data,o=t.width,a=t.height,l=n.polarCenterX||o/2,u=n.polarCenterY||a/2,f=Math.sqrt(l*l+u*u),h=o-l,g=a-u,y=Math.sqrt(h*h+g*g);f=y>f?y:f;let v=a,D=o,S=n.polarRotation||0,w,M;for(h=0;h<o;h+=1)for(g=0;g<a;g+=1){let A=h-l,T=g-u,O=Math.sqrt(A*A+T*T)*v/f,L=(Math.atan2(T,A)*180/Math.PI+360+S)%360;L=L*D/360,w=Math.floor(L),M=Math.floor(O);let U=(M*o+w)*4,Y=r[U+0],G=r[U+1],fe=r[U+2],W=r[U+3];U=(g*o+h)*4,i[U+0]=Y,i[U+1]=G,i[U+2]=fe,i[U+3]=W}},BB=function(t){let e=t.width,n=t.height,r,i,o,a,l,u,f,h,g,y,v=Math.round(this.kaleidoscopePower()),D=Math.round(this.kaleidoscopeAngle()),S=Math.floor(e*(D%360)/360);if(v<1)return;let w=OM.Util.createCanvasElement();w.width=e,w.height=n;let M=w.getContext("2d").getImageData(0,0,e,n);OM.Util.releaseCanvas(w),jB(t,M,{polarCenterX:e/2,polarCenterY:n/2});let A=e/Math.pow(2,v);for(;A<=8;)A=A*2,v-=1;A=Math.ceil(A);let T=A,O=0,L=T,U=1;for(S+A>e&&(O=T,L=0,U=-1),i=0;i<n;i+=1)for(r=O;r!==L;r+=U)o=Math.round(r+S)%e,g=(e*i+o)*4,l=M.data[g+0],u=M.data[g+1],f=M.data[g+2],h=M.data[g+3],y=(e*i+r)*4,M.data[y+0]=l,M.data[y+1]=u,M.data[y+2]=f,M.data[y+3]=h;for(i=0;i<n;i+=1)for(T=Math.floor(A),a=0;a<v;a+=1){for(r=0;r<T+1;r+=1)g=(e*i+r)*4,l=M.data[g+0],u=M.data[g+1],f=M.data[g+2],h=M.data[g+3],y=(e*i+T*2-r-1)*4,M.data[y+0]=l,M.data[y+1]=u,M.data[y+2]=f,M.data[y+3]=h;T*=2}UB(M,t,{polarRotation:0})};Kp.Kaleidoscope=BB;Zp.Factory.addGetterSetter(kM.Node,"kaleidoscopePower",2,(0,PM.getNumberValidator)(),Zp.Factory.afterSetFilter);Zp.Factory.addGetterSetter(kM.Node,"kaleidoscopeAngle",0,(0,PM.getNumberValidator)(),Zp.Factory.afterSetFilter)});var VM=de(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Mask=void 0;var LM=Ge(),HB=Mt(),GB=ze();function Xp(t,e,n){let r=(n*t.width+e)*4,i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function bu(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function $B(t){let e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function qB(t,e){let n=Xp(t,0,0),r=Xp(t,t.width-1,0),i=Xp(t,0,t.height-1),o=Xp(t,t.width-1,t.height-1),a=e||10;if(bu(n,r)<a&&bu(r,o)<a&&bu(o,i)<a&&bu(i,n)<a){let l=$B([r,n,o,i]),u=[];for(let f=0;f<t.width*t.height;f++){let h=bu(l,[t.data[f*4],t.data[f*4+1],t.data[f*4+2]]);u[f]=h<a?0:255}return u}}function zB(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function WB(t,e,n){let r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){let f=l*e+u,h=0;for(let g=0;g<i;g++)for(let y=0;y<i;y++){let v=l+g-o,D=u+y-o;if(v>=0&&v<n&&D>=0&&D<e){let S=v*e+D,w=r[g*i+y];h+=t[S]*w}}a[f]=h===2040?255:0}return a}function YB(t,e,n){let r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){let f=l*e+u,h=0;for(let g=0;g<i;g++)for(let y=0;y<i;y++){let v=l+g-o,D=u+y-o;if(v>=0&&v<n&&D>=0&&D<e){let S=v*e+D,w=r[g*i+y];h+=t[S]*w}}a[f]=h>=1020?255:0}return a}function ZB(t,e,n){let r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){let f=l*e+u,h=0;for(let g=0;g<i;g++)for(let y=0;y<i;y++){let v=l+g-o,D=u+y-o;if(v>=0&&v<n&&D>=0&&D<e){let S=v*e+D,w=r[g*i+y];h+=t[S]*w}}a[f]=h}return a}var KB=function(t){let e=this.threshold(),n=qB(t,e);return n&&(n=WB(n,t.width,t.height),n=YB(n,t.width,t.height),n=ZB(n,t.width,t.height),zB(t,n)),t};Qp.Mask=KB;LM.Factory.addGetterSetter(HB.Node,"threshold",0,(0,GB.getNumberValidator)(),LM.Factory.afterSetFilter)});var UM=de(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.Noise=void 0;var jM=Ge(),XB=Mt(),QB=ze(),JB=function(t){let e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let o=0;o<r;o+=4)n[o+0]+=i-2*i*Math.random(),n[o+1]+=i-2*i*Math.random(),n[o+2]+=i-2*i*Math.random()};Jp.Noise=JB;jM.Factory.addGetterSetter(XB.Node,"noise",.2,(0,QB.getNumberValidator)(),jM.Factory.afterSetFilter)});var HM=de(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.Pixelate=void 0;var BM=Ge(),eH=bt(),tH=Mt(),nH=ze(),rH=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),o=Math.ceil(r/e),a=t.data;if(e<=0){eH.Util.error("pixelSize value can not be <= 0");return}for(let l=0;l<i;l+=1)for(let u=0;u<o;u+=1){let f=0,h=0,g=0,y=0,v=l*e,D=v+e,S=u*e,w=S+e,M=0;for(let A=v;A<D;A+=1)if(!(A>=n))for(let T=S;T<w;T+=1){if(T>=r)continue;let O=(n*T+A)*4;f+=a[O+0],h+=a[O+1],g+=a[O+2],y+=a[O+3],M+=1}f=f/M,h=h/M,g=g/M,y=y/M;for(let A=v;A<D;A+=1)if(!(A>=n))for(let T=S;T<w;T+=1){if(T>=r)continue;let O=(n*T+A)*4;a[O+0]=f,a[O+1]=h,a[O+2]=g,a[O+3]=y}}};eg.Pixelate=rH;BM.Factory.addGetterSetter(tH.Node,"pixelSize",8,(0,nH.getNumberValidator)(),BM.Factory.afterSetFilter)});var $M=de(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.Posterize=void 0;var GM=Ge(),iH=Mt(),oH=ze(),sH=function(t){let e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let o=0;o<r;o+=1)n[o]=Math.floor(n[o]/i)*i};tg.Posterize=sH;GM.Factory.addGetterSetter(iH.Node,"levels",.5,(0,oH.getNumberValidator)(),GM.Factory.afterSetFilter)});var qM=de(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.RGB=void 0;var ng=Ge(),N1=Mt(),aH=ze(),cH=function(t){let e=t.data,n=e.length,r=this.red(),i=this.green(),o=this.blue();for(let a=0;a<n;a+=4){let l=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255;e[a]=l*r,e[a+1]=l*i,e[a+2]=l*o,e[a+3]=e[a+3]}};rg.RGB=cH;ng.Factory.addGetterSetter(N1.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ng.Factory.addGetterSetter(N1.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ng.Factory.addGetterSetter(N1.Node,"blue",0,aH.RGBComponent,ng.Factory.afterSetFilter)});var zM=de(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.RGBA=void 0;var Su=Ge(),ig=Mt(),lH=ze(),uH=function(t){let e=t.data,n=e.length,r=this.red(),i=this.green(),o=this.blue(),a=this.alpha();for(let l=0;l<n;l+=4){let u=1-a;e[l]=r*a+e[l]*u,e[l+1]=i*a+e[l+1]*u,e[l+2]=o*a+e[l+2]*u}};og.RGBA=uH;Su.Factory.addGetterSetter(ig.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Su.Factory.addGetterSetter(ig.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Su.Factory.addGetterSetter(ig.Node,"blue",0,lH.RGBComponent,Su.Factory.afterSetFilter);Su.Factory.addGetterSetter(ig.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})});var WM=de(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.Sepia=void 0;var dH=function(t){let e=t.data,n=e.length;for(let r=0;r<n;r+=4){let i=e[r+0],o=e[r+1],a=e[r+2];e[r+0]=Math.min(255,i*.393+o*.769+a*.189),e[r+1]=Math.min(255,i*.349+o*.686+a*.168),e[r+2]=Math.min(255,i*.272+o*.534+a*.131)}};sg.Sepia=dH});var YM=de(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.Solarize=void 0;var fH=function(t){let e=t.data,n=t.width,r=t.height,i=n*4,o=r;do{let a=(o-1)*i,l=n;do{let u=a+(l-1)*4,f=e[u],h=e[u+1],g=e[u+2];f>127&&(f=255-f),h>127&&(h=255-h),g>127&&(g=255-g),e[u]=f,e[u+1]=h,e[u+2]=g}while(--l)}while(--o)};ag.Solarize=fH});var KM=de(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.Threshold=void 0;var ZM=Ge(),hH=Mt(),pH=ze(),gH=function(t){let e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};cg.Threshold=gH;ZM.Factory.addGetterSetter(hH.Node,"threshold",.5,(0,pH.getNumberValidator)(),ZM.Factory.afterSetFilter)});var JM=de(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.Konva=void 0;var XM=dp(),mH=Q_(),yH=t1(),vH=n1(),_H=i1(),DH=s1(),QM=f1(),EH=yp(),CH=vu(),wH=Ip(),bH=h1(),SH=p1(),IH=XT(),TH=y1(),MH=Op(),AH=b1(),xH=mM(),RH=I1(),NH=DM(),OH=CM(),kH=bM(),PH=IM(),FH=MM(),LH=AM(),VH=xM(),jH=RM(),UH=NM(),BH=FM(),HH=VM(),GH=UM(),$H=HM(),qH=$M(),zH=qM(),WH=zM(),YH=WM(),ZH=YM(),KH=KM();lg.Konva=XM.Konva.Util._assign(XM.Konva,{Arc:mH.Arc,Arrow:yH.Arrow,Circle:vH.Circle,Ellipse:_H.Ellipse,Image:DH.Image,Label:QM.Label,Tag:QM.Tag,Line:EH.Line,Path:CH.Path,Rect:wH.Rect,RegularPolygon:bH.RegularPolygon,Ring:SH.Ring,Sprite:IH.Sprite,Star:TH.Star,Text:MH.Text,TextPath:AH.TextPath,Transformer:xH.Transformer,Wedge:RH.Wedge,Filters:{Blur:NH.Blur,Brighten:OH.Brighten,Contrast:kH.Contrast,Emboss:PH.Emboss,Enhance:FH.Enhance,Grayscale:LH.Grayscale,HSL:VH.HSL,HSV:jH.HSV,Invert:UH.Invert,Kaleidoscope:BH.Kaleidoscope,Mask:HH.Mask,Noise:GH.Noise,Pixelate:$H.Pixelate,Posterize:qH.Posterize,RGB:zH.RGB,RGBA:WH.RGBA,Sepia:YH.Sepia,Solarize:ZH.Solarize,Threshold:KH.Threshold}})});var nA=de((eA,tA)=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});var XH=JM();tA.exports=XH.Konva});var iA=de((Ec,Iu)=>{"use strict";(function(){var t,e="4.17.21",n=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,g=4,y=1,v=2,D=1,S=2,w=4,M=8,A=16,T=32,O=64,L=128,U=256,Y=512,G=30,fe="...",W=800,Q=16,q=1,ee=2,Je=3,we=1/0,se=9007199254740991,re=17976931348623157e292,I=NaN,x=4294967295,te=x-1,ce=x>>>1,Le=[["ary",L],["bind",D],["bindKey",S],["curry",M],["curryRight",A],["flip",Y],["partial",T],["partialRight",O],["rearg",U]],ge="[object Arguments]",$n="[object Array]",Ar="[object AsyncFunction]",mn="[object Boolean]",en="[object Date]",X="[object DOMException]",z="[object Error]",k="[object Function]",Z="[object GeneratorFunction]",ie="[object Map]",ye="[object Number]",he="[object Null]",_e="[object Object]",Ne="[object Promise]",Oe="[object Proxy]",et="[object RegExp]",Be="[object Set]",An="[object String]",yn="[object Symbol]",co="[object Undefined]",Ei="[object WeakMap]",Gu="[object WeakSet]",Qo="[object ArrayBuffer]",Kr="[object DataView]",Zs="[object Float32Array]",Xr="[object Float64Array]",Ks="[object Int8Array]",lo="[object Int16Array]",Xs="[object Int32Array]",Qs="[object Uint8Array]",Ci="[object Uint8ClampedArray]",vn="[object Uint16Array]",xn="[object Uint32Array]",rx=/\b__p \+= '';/g,ix=/\b(__p \+=) '' \+/g,ox=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ED=/&(?:amp|lt|gt|quot|#39);/g,CD=/[&<>"']/g,sx=RegExp(ED.source),ax=RegExp(CD.source),cx=/<%-([\s\S]+?)%>/g,lx=/<%([\s\S]+?)%>/g,wD=/<%=([\s\S]+?)%>/g,ux=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dx=/^\w*$/,fx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pg=/[\\^$.*+?()[\]{}|]/g,hx=RegExp(Pg.source),Fg=/^\s+/,px=/\s/,gx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mx=/\{\n\/\* \[wrapped with (.+)\] \*/,yx=/,? & /,vx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_x=/[()=,{}\[\]\/\s]/,Dx=/\\(\\)?/g,Ex=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bD=/\w*$/,Cx=/^[-+]0x[0-9a-f]+$/i,wx=/^0b[01]+$/i,bx=/^\[object .+?Constructor\]$/,Sx=/^0o[0-7]+$/i,Ix=/^(?:0|[1-9]\d*)$/,Tx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$u=/($^)/,Mx=/['\n\r\u2028\u2029\\]/g,qu="\\ud800-\\udfff",Ax="\\u0300-\\u036f",xx="\\ufe20-\\ufe2f",Rx="\\u20d0-\\u20ff",SD=Ax+xx+Rx,ID="\\u2700-\\u27bf",TD="a-z\\xdf-\\xf6\\xf8-\\xff",Nx="\\xac\\xb1\\xd7\\xf7",Ox="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kx="\\u2000-\\u206f",Px=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",MD="A-Z\\xc0-\\xd6\\xd8-\\xde",AD="\\ufe0e\\ufe0f",xD=Nx+Ox+kx+Px,Lg="['\u2019]",Fx="["+qu+"]",RD="["+xD+"]",zu="["+SD+"]",ND="\\d+",Lx="["+ID+"]",OD="["+TD+"]",kD="[^"+qu+xD+ND+ID+TD+MD+"]",Vg="\\ud83c[\\udffb-\\udfff]",Vx="(?:"+zu+"|"+Vg+")",PD="[^"+qu+"]",jg="(?:\\ud83c[\\udde6-\\uddff]){2}",Ug="[\\ud800-\\udbff][\\udc00-\\udfff]",Js="["+MD+"]",FD="\\u200d",LD="(?:"+OD+"|"+kD+")",jx="(?:"+Js+"|"+kD+")",VD="(?:"+Lg+"(?:d|ll|m|re|s|t|ve))?",jD="(?:"+Lg+"(?:D|LL|M|RE|S|T|VE))?",UD=Vx+"?",BD="["+AD+"]?",Ux="(?:"+FD+"(?:"+[PD,jg,Ug].join("|")+")"+BD+UD+")*",Bx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",HD=BD+UD+Ux,Gx="(?:"+[Lx,jg,Ug].join("|")+")"+HD,$x="(?:"+[PD+zu+"?",zu,jg,Ug,Fx].join("|")+")",qx=RegExp(Lg,"g"),zx=RegExp(zu,"g"),Bg=RegExp(Vg+"(?="+Vg+")|"+$x+HD,"g"),Wx=RegExp([Js+"?"+OD+"+"+VD+"(?="+[RD,Js,"$"].join("|")+")",jx+"+"+jD+"(?="+[RD,Js+LD,"$"].join("|")+")",Js+"?"+LD+"+"+VD,Js+"+"+jD,Hx,Bx,ND,Gx].join("|"),"g"),Yx=RegExp("["+FD+qu+SD+AD+"]"),Zx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xx=-1,yt={};yt[Zs]=yt[Xr]=yt[Ks]=yt[lo]=yt[Xs]=yt[Qs]=yt[Ci]=yt[vn]=yt[xn]=!0,yt[ge]=yt[$n]=yt[Qo]=yt[mn]=yt[Kr]=yt[en]=yt[z]=yt[k]=yt[ie]=yt[ye]=yt[_e]=yt[et]=yt[Be]=yt[An]=yt[Ei]=!1;var gt={};gt[ge]=gt[$n]=gt[Qo]=gt[Kr]=gt[mn]=gt[en]=gt[Zs]=gt[Xr]=gt[Ks]=gt[lo]=gt[Xs]=gt[ie]=gt[ye]=gt[_e]=gt[et]=gt[Be]=gt[An]=gt[yn]=gt[Qs]=gt[Ci]=gt[vn]=gt[xn]=!0,gt[z]=gt[k]=gt[Ei]=!1;var Qx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Jx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eR={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nR=parseFloat,rR=parseInt,GD=typeof global=="object"&&global&&global.Object===Object&&global,iR=typeof self=="object"&&self&&self.Object===Object&&self,Zt=GD||iR||Function("return this")(),Hg=typeof Ec=="object"&&Ec&&!Ec.nodeType&&Ec,Jo=Hg&&typeof Iu=="object"&&Iu&&!Iu.nodeType&&Iu,$D=Jo&&Jo.exports===Hg,Gg=$D&&GD.process,or=(function(){try{var R=Jo&&Jo.require&&Jo.require("util").types;return R||Gg&&Gg.binding&&Gg.binding("util")}catch{}})(),qD=or&&or.isArrayBuffer,zD=or&&or.isDate,WD=or&&or.isMap,YD=or&&or.isRegExp,ZD=or&&or.isSet,KD=or&&or.isTypedArray;function qn(R,F,P){switch(P.length){case 0:return R.call(F);case 1:return R.call(F,P[0]);case 2:return R.call(F,P[0],P[1]);case 3:return R.call(F,P[0],P[1],P[2])}return R.apply(F,P)}function oR(R,F,P,ne){for(var Me=-1,tt=R==null?0:R.length;++Me<tt;){var jt=R[Me];F(ne,jt,P(jt),R)}return ne}function sr(R,F){for(var P=-1,ne=R==null?0:R.length;++P<ne&&F(R[P],P,R)!==!1;);return R}function sR(R,F){for(var P=R==null?0:R.length;P--&&F(R[P],P,R)!==!1;);return R}function XD(R,F){for(var P=-1,ne=R==null?0:R.length;++P<ne;)if(!F(R[P],P,R))return!1;return!0}function uo(R,F){for(var P=-1,ne=R==null?0:R.length,Me=0,tt=[];++P<ne;){var jt=R[P];F(jt,P,R)&&(tt[Me++]=jt)}return tt}function Wu(R,F){var P=R==null?0:R.length;return!!P&&ea(R,F,0)>-1}function $g(R,F,P){for(var ne=-1,Me=R==null?0:R.length;++ne<Me;)if(P(F,R[ne]))return!0;return!1}function _t(R,F){for(var P=-1,ne=R==null?0:R.length,Me=Array(ne);++P<ne;)Me[P]=F(R[P],P,R);return Me}function fo(R,F){for(var P=-1,ne=F.length,Me=R.length;++P<ne;)R[Me+P]=F[P];return R}function qg(R,F,P,ne){var Me=-1,tt=R==null?0:R.length;for(ne&&tt&&(P=R[++Me]);++Me<tt;)P=F(P,R[Me],Me,R);return P}function aR(R,F,P,ne){var Me=R==null?0:R.length;for(ne&&Me&&(P=R[--Me]);Me--;)P=F(P,R[Me],Me,R);return P}function zg(R,F){for(var P=-1,ne=R==null?0:R.length;++P<ne;)if(F(R[P],P,R))return!0;return!1}var cR=Wg("length");function lR(R){return R.split("")}function uR(R){return R.match(vx)||[]}function QD(R,F,P){var ne;return P(R,function(Me,tt,jt){if(F(Me,tt,jt))return ne=tt,!1}),ne}function Yu(R,F,P,ne){for(var Me=R.length,tt=P+(ne?1:-1);ne?tt--:++tt<Me;)if(F(R[tt],tt,R))return tt;return-1}function ea(R,F,P){return F===F?CR(R,F,P):Yu(R,JD,P)}function dR(R,F,P,ne){for(var Me=P-1,tt=R.length;++Me<tt;)if(ne(R[Me],F))return Me;return-1}function JD(R){return R!==R}function eE(R,F){var P=R==null?0:R.length;return P?Zg(R,F)/P:I}function Wg(R){return function(F){return F==null?t:F[R]}}function Yg(R){return function(F){return R==null?t:R[F]}}function tE(R,F,P,ne,Me){return Me(R,function(tt,jt,dt){P=ne?(ne=!1,tt):F(P,tt,jt,dt)}),P}function fR(R,F){var P=R.length;for(R.sort(F);P--;)R[P]=R[P].value;return R}function Zg(R,F){for(var P,ne=-1,Me=R.length;++ne<Me;){var tt=F(R[ne]);tt!==t&&(P=P===t?tt:P+tt)}return P}function Kg(R,F){for(var P=-1,ne=Array(R);++P<R;)ne[P]=F(P);return ne}function hR(R,F){return _t(F,function(P){return[P,R[P]]})}function nE(R){return R&&R.slice(0,sE(R)+1).replace(Fg,"")}function zn(R){return function(F){return R(F)}}function Xg(R,F){return _t(F,function(P){return R[P]})}function Pc(R,F){return R.has(F)}function rE(R,F){for(var P=-1,ne=R.length;++P<ne&&ea(F,R[P],0)>-1;);return P}function iE(R,F){for(var P=R.length;P--&&ea(F,R[P],0)>-1;);return P}function pR(R,F){for(var P=R.length,ne=0;P--;)R[P]===F&&++ne;return ne}var gR=Yg(Qx),mR=Yg(Jx);function yR(R){return"\\"+tR[R]}function vR(R,F){return R==null?t:R[F]}function ta(R){return Yx.test(R)}function _R(R){return Zx.test(R)}function DR(R){for(var F,P=[];!(F=R.next()).done;)P.push(F.value);return P}function Qg(R){var F=-1,P=Array(R.size);return R.forEach(function(ne,Me){P[++F]=[Me,ne]}),P}function oE(R,F){return function(P){return R(F(P))}}function ho(R,F){for(var P=-1,ne=R.length,Me=0,tt=[];++P<ne;){var jt=R[P];(jt===F||jt===u)&&(R[P]=u,tt[Me++]=P)}return tt}function Zu(R){var F=-1,P=Array(R.size);return R.forEach(function(ne){P[++F]=ne}),P}function ER(R){var F=-1,P=Array(R.size);return R.forEach(function(ne){P[++F]=[ne,ne]}),P}function CR(R,F,P){for(var ne=P-1,Me=R.length;++ne<Me;)if(R[ne]===F)return ne;return-1}function wR(R,F,P){for(var ne=P+1;ne--;)if(R[ne]===F)return ne;return ne}function na(R){return ta(R)?SR(R):cR(R)}function xr(R){return ta(R)?IR(R):lR(R)}function sE(R){for(var F=R.length;F--&&px.test(R.charAt(F)););return F}var bR=Yg(eR);function SR(R){for(var F=Bg.lastIndex=0;Bg.test(R);)++F;return F}function IR(R){return R.match(Bg)||[]}function TR(R){return R.match(Wx)||[]}var MR=function R(F){F=F==null?Zt:po.defaults(Zt.Object(),F,po.pick(Zt,Kx));var P=F.Array,ne=F.Date,Me=F.Error,tt=F.Function,jt=F.Math,dt=F.Object,Jg=F.RegExp,AR=F.String,ar=F.TypeError,Ku=P.prototype,xR=tt.prototype,ra=dt.prototype,Xu=F["__core-js_shared__"],Qu=xR.toString,at=ra.hasOwnProperty,RR=0,aE=(function(){var s=/[^.]+$/.exec(Xu&&Xu.keys&&Xu.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})(),Ju=ra.toString,NR=Qu.call(dt),OR=Zt._,kR=Jg("^"+Qu.call(at).replace(Pg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ed=$D?F.Buffer:t,go=F.Symbol,td=F.Uint8Array,cE=ed?ed.allocUnsafe:t,nd=oE(dt.getPrototypeOf,dt),lE=dt.create,uE=ra.propertyIsEnumerable,rd=Ku.splice,dE=go?go.isConcatSpreadable:t,Fc=go?go.iterator:t,es=go?go.toStringTag:t,id=(function(){try{var s=os(dt,"defineProperty");return s({},"",{}),s}catch{}})(),PR=F.clearTimeout!==Zt.clearTimeout&&F.clearTimeout,FR=ne&&ne.now!==Zt.Date.now&&ne.now,LR=F.setTimeout!==Zt.setTimeout&&F.setTimeout,od=jt.ceil,sd=jt.floor,em=dt.getOwnPropertySymbols,VR=ed?ed.isBuffer:t,fE=F.isFinite,jR=Ku.join,UR=oE(dt.keys,dt),Ut=jt.max,un=jt.min,BR=ne.now,HR=F.parseInt,hE=jt.random,GR=Ku.reverse,tm=os(F,"DataView"),Lc=os(F,"Map"),nm=os(F,"Promise"),ia=os(F,"Set"),Vc=os(F,"WeakMap"),jc=os(dt,"create"),ad=Vc&&new Vc,oa={},$R=ss(tm),qR=ss(Lc),zR=ss(nm),WR=ss(ia),YR=ss(Vc),cd=go?go.prototype:t,Uc=cd?cd.valueOf:t,pE=cd?cd.toString:t;function _(s){if(St(s)&&!Ae(s)&&!(s instanceof Ye)){if(s instanceof cr)return s;if(at.call(s,"__wrapped__"))return gC(s)}return new cr(s)}var sa=(function(){function s(){}return function(c){if(!Et(c))return{};if(lE)return lE(c);s.prototype=c;var d=new s;return s.prototype=t,d}})();function ld(){}function cr(s,c){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}_.templateSettings={escape:cx,evaluate:lx,interpolate:wD,variable:"",imports:{_}},_.prototype=ld.prototype,_.prototype.constructor=_,cr.prototype=sa(ld.prototype),cr.prototype.constructor=cr;function Ye(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=x,this.__views__=[]}function ZR(){var s=new Ye(this.__wrapped__);return s.__actions__=Rn(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Rn(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Rn(this.__views__),s}function KR(){if(this.__filtered__){var s=new Ye(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function XR(){var s=this.__wrapped__.value(),c=this.__dir__,d=Ae(s),p=c<0,m=d?s.length:0,E=lO(0,m,this.__views__),C=E.start,b=E.end,N=b-C,V=p?b:C-1,j=this.__iteratees__,B=j.length,J=0,ue=un(N,this.__takeCount__);if(!d||!p&&m==N&&ue==N)return VE(s,this.__actions__);var De=[];e:for(;N--&&J<ue;){V+=c;for(var Ve=-1,Ee=s[V];++Ve<B;){var $e=j[Ve],Xe=$e.iteratee,Zn=$e.type,En=Xe(Ee);if(Zn==ee)Ee=En;else if(!En){if(Zn==q)continue e;break e}}De[J++]=Ee}return De}Ye.prototype=sa(ld.prototype),Ye.prototype.constructor=Ye;function ts(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var p=s[c];this.set(p[0],p[1])}}function QR(){this.__data__=jc?jc(null):{},this.size=0}function JR(s){var c=this.has(s)&&delete this.__data__[s];return this.size-=c?1:0,c}function eN(s){var c=this.__data__;if(jc){var d=c[s];return d===a?t:d}return at.call(c,s)?c[s]:t}function tN(s){var c=this.__data__;return jc?c[s]!==t:at.call(c,s)}function nN(s,c){var d=this.__data__;return this.size+=this.has(s)?0:1,d[s]=jc&&c===t?a:c,this}ts.prototype.clear=QR,ts.prototype.delete=JR,ts.prototype.get=eN,ts.prototype.has=tN,ts.prototype.set=nN;function wi(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var p=s[c];this.set(p[0],p[1])}}function rN(){this.__data__=[],this.size=0}function iN(s){var c=this.__data__,d=ud(c,s);if(d<0)return!1;var p=c.length-1;return d==p?c.pop():rd.call(c,d,1),--this.size,!0}function oN(s){var c=this.__data__,d=ud(c,s);return d<0?t:c[d][1]}function sN(s){return ud(this.__data__,s)>-1}function aN(s,c){var d=this.__data__,p=ud(d,s);return p<0?(++this.size,d.push([s,c])):d[p][1]=c,this}wi.prototype.clear=rN,wi.prototype.delete=iN,wi.prototype.get=oN,wi.prototype.has=sN,wi.prototype.set=aN;function bi(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var p=s[c];this.set(p[0],p[1])}}function cN(){this.size=0,this.__data__={hash:new ts,map:new(Lc||wi),string:new ts}}function lN(s){var c=Cd(this,s).delete(s);return this.size-=c?1:0,c}function uN(s){return Cd(this,s).get(s)}function dN(s){return Cd(this,s).has(s)}function fN(s,c){var d=Cd(this,s),p=d.size;return d.set(s,c),this.size+=d.size==p?0:1,this}bi.prototype.clear=cN,bi.prototype.delete=lN,bi.prototype.get=uN,bi.prototype.has=dN,bi.prototype.set=fN;function ns(s){var c=-1,d=s==null?0:s.length;for(this.__data__=new bi;++c<d;)this.add(s[c])}function hN(s){return this.__data__.set(s,a),this}function pN(s){return this.__data__.has(s)}ns.prototype.add=ns.prototype.push=hN,ns.prototype.has=pN;function Rr(s){var c=this.__data__=new wi(s);this.size=c.size}function gN(){this.__data__=new wi,this.size=0}function mN(s){var c=this.__data__,d=c.delete(s);return this.size=c.size,d}function yN(s){return this.__data__.get(s)}function vN(s){return this.__data__.has(s)}function _N(s,c){var d=this.__data__;if(d instanceof wi){var p=d.__data__;if(!Lc||p.length<n-1)return p.push([s,c]),this.size=++d.size,this;d=this.__data__=new bi(p)}return d.set(s,c),this.size=d.size,this}Rr.prototype.clear=gN,Rr.prototype.delete=mN,Rr.prototype.get=yN,Rr.prototype.has=vN,Rr.prototype.set=_N;function gE(s,c){var d=Ae(s),p=!d&&as(s),m=!d&&!p&&Do(s),E=!d&&!p&&!m&&ua(s),C=d||p||m||E,b=C?Kg(s.length,AR):[],N=b.length;for(var V in s)(c||at.call(s,V))&&!(C&&(V=="length"||m&&(V=="offset"||V=="parent")||E&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||Mi(V,N)))&&b.push(V);return b}function mE(s){var c=s.length;return c?s[hm(0,c-1)]:t}function DN(s,c){return wd(Rn(s),rs(c,0,s.length))}function EN(s){return wd(Rn(s))}function rm(s,c,d){(d!==t&&!Nr(s[c],d)||d===t&&!(c in s))&&Si(s,c,d)}function Bc(s,c,d){var p=s[c];(!(at.call(s,c)&&Nr(p,d))||d===t&&!(c in s))&&Si(s,c,d)}function ud(s,c){for(var d=s.length;d--;)if(Nr(s[d][0],c))return d;return-1}function CN(s,c,d,p){return mo(s,function(m,E,C){c(p,m,d(m),C)}),p}function yE(s,c){return s&&Jr(c,Kt(c),s)}function wN(s,c){return s&&Jr(c,On(c),s)}function Si(s,c,d){c=="__proto__"&&id?id(s,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):s[c]=d}function im(s,c){for(var d=-1,p=c.length,m=P(p),E=s==null;++d<p;)m[d]=E?t:Vm(s,c[d]);return m}function rs(s,c,d){return s===s&&(d!==t&&(s=s<=d?s:d),c!==t&&(s=s>=c?s:c)),s}function lr(s,c,d,p,m,E){var C,b=c&f,N=c&h,V=c&g;if(d&&(C=m?d(s,p,m,E):d(s)),C!==t)return C;if(!Et(s))return s;var j=Ae(s);if(j){if(C=dO(s),!b)return Rn(s,C)}else{var B=dn(s),J=B==k||B==Z;if(Do(s))return BE(s,b);if(B==_e||B==ge||J&&!m){if(C=N||J?{}:sC(s),!b)return N?eO(s,wN(C,s)):JN(s,yE(C,s))}else{if(!gt[B])return m?s:{};C=fO(s,B,b)}}E||(E=new Rr);var ue=E.get(s);if(ue)return ue;E.set(s,C),PC(s)?s.forEach(function(Ee){C.add(lr(Ee,c,d,Ee,s,E))}):OC(s)&&s.forEach(function(Ee,$e){C.set($e,lr(Ee,c,d,$e,s,E))});var De=V?N?bm:wm:N?On:Kt,Ve=j?t:De(s);return sr(Ve||s,function(Ee,$e){Ve&&($e=Ee,Ee=s[$e]),Bc(C,$e,lr(Ee,c,d,$e,s,E))}),C}function bN(s){var c=Kt(s);return function(d){return vE(d,s,c)}}function vE(s,c,d){var p=d.length;if(s==null)return!p;for(s=dt(s);p--;){var m=d[p],E=c[m],C=s[m];if(C===t&&!(m in s)||!E(C))return!1}return!0}function _E(s,c,d){if(typeof s!="function")throw new ar(i);return Yc(function(){s.apply(t,d)},c)}function Hc(s,c,d,p){var m=-1,E=Wu,C=!0,b=s.length,N=[],V=c.length;if(!b)return N;d&&(c=_t(c,zn(d))),p?(E=$g,C=!1):c.length>=n&&(E=Pc,C=!1,c=new ns(c));e:for(;++m<b;){var j=s[m],B=d==null?j:d(j);if(j=p||j!==0?j:0,C&&B===B){for(var J=V;J--;)if(c[J]===B)continue e;N.push(j)}else E(c,B,p)||N.push(j)}return N}var mo=zE(Qr),DE=zE(sm,!0);function SN(s,c){var d=!0;return mo(s,function(p,m,E){return d=!!c(p,m,E),d}),d}function dd(s,c,d){for(var p=-1,m=s.length;++p<m;){var E=s[p],C=c(E);if(C!=null&&(b===t?C===C&&!Yn(C):d(C,b)))var b=C,N=E}return N}function IN(s,c,d,p){var m=s.length;for(d=ke(d),d<0&&(d=-d>m?0:m+d),p=p===t||p>m?m:ke(p),p<0&&(p+=m),p=d>p?0:LC(p);d<p;)s[d++]=c;return s}function EE(s,c){var d=[];return mo(s,function(p,m,E){c(p,m,E)&&d.push(p)}),d}function tn(s,c,d,p,m){var E=-1,C=s.length;for(d||(d=pO),m||(m=[]);++E<C;){var b=s[E];c>0&&d(b)?c>1?tn(b,c-1,d,p,m):fo(m,b):p||(m[m.length]=b)}return m}var om=WE(),CE=WE(!0);function Qr(s,c){return s&&om(s,c,Kt)}function sm(s,c){return s&&CE(s,c,Kt)}function fd(s,c){return uo(c,function(d){return Ai(s[d])})}function is(s,c){c=vo(c,s);for(var d=0,p=c.length;s!=null&&d<p;)s=s[ei(c[d++])];return d&&d==p?s:t}function wE(s,c,d){var p=c(s);return Ae(s)?p:fo(p,d(s))}function _n(s){return s==null?s===t?co:he:es&&es in dt(s)?cO(s):EO(s)}function am(s,c){return s>c}function TN(s,c){return s!=null&&at.call(s,c)}function MN(s,c){return s!=null&&c in dt(s)}function AN(s,c,d){return s>=un(c,d)&&s<Ut(c,d)}function cm(s,c,d){for(var p=d?$g:Wu,m=s[0].length,E=s.length,C=E,b=P(E),N=1/0,V=[];C--;){var j=s[C];C&&c&&(j=_t(j,zn(c))),N=un(j.length,N),b[C]=!d&&(c||m>=120&&j.length>=120)?new ns(C&&j):t}j=s[0];var B=-1,J=b[0];e:for(;++B<m&&V.length<N;){var ue=j[B],De=c?c(ue):ue;if(ue=d||ue!==0?ue:0,!(J?Pc(J,De):p(V,De,d))){for(C=E;--C;){var Ve=b[C];if(!(Ve?Pc(Ve,De):p(s[C],De,d)))continue e}J&&J.push(De),V.push(ue)}}return V}function xN(s,c,d,p){return Qr(s,function(m,E,C){c(p,d(m),E,C)}),p}function Gc(s,c,d){c=vo(c,s),s=uC(s,c);var p=s==null?s:s[ei(dr(c))];return p==null?t:qn(p,s,d)}function bE(s){return St(s)&&_n(s)==ge}function RN(s){return St(s)&&_n(s)==Qo}function NN(s){return St(s)&&_n(s)==en}function $c(s,c,d,p,m){return s===c?!0:s==null||c==null||!St(s)&&!St(c)?s!==s&&c!==c:ON(s,c,d,p,$c,m)}function ON(s,c,d,p,m,E){var C=Ae(s),b=Ae(c),N=C?$n:dn(s),V=b?$n:dn(c);N=N==ge?_e:N,V=V==ge?_e:V;var j=N==_e,B=V==_e,J=N==V;if(J&&Do(s)){if(!Do(c))return!1;C=!0,j=!1}if(J&&!j)return E||(E=new Rr),C||ua(s)?rC(s,c,d,p,m,E):sO(s,c,N,d,p,m,E);if(!(d&y)){var ue=j&&at.call(s,"__wrapped__"),De=B&&at.call(c,"__wrapped__");if(ue||De){var Ve=ue?s.value():s,Ee=De?c.value():c;return E||(E=new Rr),m(Ve,Ee,d,p,E)}}return J?(E||(E=new Rr),aO(s,c,d,p,m,E)):!1}function kN(s){return St(s)&&dn(s)==ie}function lm(s,c,d,p){var m=d.length,E=m,C=!p;if(s==null)return!E;for(s=dt(s);m--;){var b=d[m];if(C&&b[2]?b[1]!==s[b[0]]:!(b[0]in s))return!1}for(;++m<E;){b=d[m];var N=b[0],V=s[N],j=b[1];if(C&&b[2]){if(V===t&&!(N in s))return!1}else{var B=new Rr;if(p)var J=p(V,j,N,s,c,B);if(!(J===t?$c(j,V,y|v,p,B):J))return!1}}return!0}function SE(s){if(!Et(s)||mO(s))return!1;var c=Ai(s)?kR:bx;return c.test(ss(s))}function PN(s){return St(s)&&_n(s)==et}function FN(s){return St(s)&&dn(s)==Be}function LN(s){return St(s)&&Ad(s.length)&&!!yt[_n(s)]}function IE(s){return typeof s=="function"?s:s==null?kn:typeof s=="object"?Ae(s)?AE(s[0],s[1]):ME(s):YC(s)}function um(s){if(!Wc(s))return UR(s);var c=[];for(var d in dt(s))at.call(s,d)&&d!="constructor"&&c.push(d);return c}function VN(s){if(!Et(s))return DO(s);var c=Wc(s),d=[];for(var p in s)p=="constructor"&&(c||!at.call(s,p))||d.push(p);return d}function dm(s,c){return s<c}function TE(s,c){var d=-1,p=Nn(s)?P(s.length):[];return mo(s,function(m,E,C){p[++d]=c(m,E,C)}),p}function ME(s){var c=Im(s);return c.length==1&&c[0][2]?cC(c[0][0],c[0][1]):function(d){return d===s||lm(d,s,c)}}function AE(s,c){return Mm(s)&&aC(c)?cC(ei(s),c):function(d){var p=Vm(d,s);return p===t&&p===c?jm(d,s):$c(c,p,y|v)}}function hd(s,c,d,p,m){s!==c&&om(c,function(E,C){if(m||(m=new Rr),Et(E))jN(s,c,C,d,hd,p,m);else{var b=p?p(xm(s,C),E,C+"",s,c,m):t;b===t&&(b=E),rm(s,C,b)}},On)}function jN(s,c,d,p,m,E,C){var b=xm(s,d),N=xm(c,d),V=C.get(N);if(V){rm(s,d,V);return}var j=E?E(b,N,d+"",s,c,C):t,B=j===t;if(B){var J=Ae(N),ue=!J&&Do(N),De=!J&&!ue&&ua(N);j=N,J||ue||De?Ae(b)?j=b:At(b)?j=Rn(b):ue?(B=!1,j=BE(N,!0)):De?(B=!1,j=HE(N,!0)):j=[]:Zc(N)||as(N)?(j=b,as(b)?j=VC(b):(!Et(b)||Ai(b))&&(j=sC(N))):B=!1}B&&(C.set(N,j),m(j,N,p,E,C),C.delete(N)),rm(s,d,j)}function xE(s,c){var d=s.length;if(d)return c+=c<0?d:0,Mi(c,d)?s[c]:t}function RE(s,c,d){c.length?c=_t(c,function(E){return Ae(E)?function(C){return is(C,E.length===1?E[0]:E)}:E}):c=[kn];var p=-1;c=_t(c,zn(ve()));var m=TE(s,function(E,C,b){var N=_t(c,function(V){return V(E)});return{criteria:N,index:++p,value:E}});return fR(m,function(E,C){return QN(E,C,d)})}function UN(s,c){return NE(s,c,function(d,p){return jm(s,p)})}function NE(s,c,d){for(var p=-1,m=c.length,E={};++p<m;){var C=c[p],b=is(s,C);d(b,C)&&qc(E,vo(C,s),b)}return E}function BN(s){return function(c){return is(c,s)}}function fm(s,c,d,p){var m=p?dR:ea,E=-1,C=c.length,b=s;for(s===c&&(c=Rn(c)),d&&(b=_t(s,zn(d)));++E<C;)for(var N=0,V=c[E],j=d?d(V):V;(N=m(b,j,N,p))>-1;)b!==s&&rd.call(b,N,1),rd.call(s,N,1);return s}function OE(s,c){for(var d=s?c.length:0,p=d-1;d--;){var m=c[d];if(d==p||m!==E){var E=m;Mi(m)?rd.call(s,m,1):mm(s,m)}}return s}function hm(s,c){return s+sd(hE()*(c-s+1))}function HN(s,c,d,p){for(var m=-1,E=Ut(od((c-s)/(d||1)),0),C=P(E);E--;)C[p?E:++m]=s,s+=d;return C}function pm(s,c){var d="";if(!s||c<1||c>se)return d;do c%2&&(d+=s),c=sd(c/2),c&&(s+=s);while(c);return d}function je(s,c){return Rm(lC(s,c,kn),s+"")}function GN(s){return mE(da(s))}function $N(s,c){var d=da(s);return wd(d,rs(c,0,d.length))}function qc(s,c,d,p){if(!Et(s))return s;c=vo(c,s);for(var m=-1,E=c.length,C=E-1,b=s;b!=null&&++m<E;){var N=ei(c[m]),V=d;if(N==="__proto__"||N==="constructor"||N==="prototype")return s;if(m!=C){var j=b[N];V=p?p(j,N,b):t,V===t&&(V=Et(j)?j:Mi(c[m+1])?[]:{})}Bc(b,N,V),b=b[N]}return s}var kE=ad?function(s,c){return ad.set(s,c),s}:kn,qN=id?function(s,c){return id(s,"toString",{configurable:!0,enumerable:!1,value:Bm(c),writable:!0})}:kn;function zN(s){return wd(da(s))}function ur(s,c,d){var p=-1,m=s.length;c<0&&(c=-c>m?0:m+c),d=d>m?m:d,d<0&&(d+=m),m=c>d?0:d-c>>>0,c>>>=0;for(var E=P(m);++p<m;)E[p]=s[p+c];return E}function WN(s,c){var d;return mo(s,function(p,m,E){return d=c(p,m,E),!d}),!!d}function pd(s,c,d){var p=0,m=s==null?p:s.length;if(typeof c=="number"&&c===c&&m<=ce){for(;p<m;){var E=p+m>>>1,C=s[E];C!==null&&!Yn(C)&&(d?C<=c:C<c)?p=E+1:m=E}return m}return gm(s,c,kn,d)}function gm(s,c,d,p){var m=0,E=s==null?0:s.length;if(E===0)return 0;c=d(c);for(var C=c!==c,b=c===null,N=Yn(c),V=c===t;m<E;){var j=sd((m+E)/2),B=d(s[j]),J=B!==t,ue=B===null,De=B===B,Ve=Yn(B);if(C)var Ee=p||De;else V?Ee=De&&(p||J):b?Ee=De&&J&&(p||!ue):N?Ee=De&&J&&!ue&&(p||!Ve):ue||Ve?Ee=!1:Ee=p?B<=c:B<c;Ee?m=j+1:E=j}return un(E,te)}function PE(s,c){for(var d=-1,p=s.length,m=0,E=[];++d<p;){var C=s[d],b=c?c(C):C;if(!d||!Nr(b,N)){var N=b;E[m++]=C===0?0:C}}return E}function FE(s){return typeof s=="number"?s:Yn(s)?I:+s}function Wn(s){if(typeof s=="string")return s;if(Ae(s))return _t(s,Wn)+"";if(Yn(s))return pE?pE.call(s):"";var c=s+"";return c=="0"&&1/s==-we?"-0":c}function yo(s,c,d){var p=-1,m=Wu,E=s.length,C=!0,b=[],N=b;if(d)C=!1,m=$g;else if(E>=n){var V=c?null:iO(s);if(V)return Zu(V);C=!1,m=Pc,N=new ns}else N=c?[]:b;e:for(;++p<E;){var j=s[p],B=c?c(j):j;if(j=d||j!==0?j:0,C&&B===B){for(var J=N.length;J--;)if(N[J]===B)continue e;c&&N.push(B),b.push(j)}else m(N,B,d)||(N!==b&&N.push(B),b.push(j))}return b}function mm(s,c){return c=vo(c,s),s=uC(s,c),s==null||delete s[ei(dr(c))]}function LE(s,c,d,p){return qc(s,c,d(is(s,c)),p)}function gd(s,c,d,p){for(var m=s.length,E=p?m:-1;(p?E--:++E<m)&&c(s[E],E,s););return d?ur(s,p?0:E,p?E+1:m):ur(s,p?E+1:0,p?m:E)}function VE(s,c){var d=s;return d instanceof Ye&&(d=d.value()),qg(c,function(p,m){return m.func.apply(m.thisArg,fo([p],m.args))},d)}function ym(s,c,d){var p=s.length;if(p<2)return p?yo(s[0]):[];for(var m=-1,E=P(p);++m<p;)for(var C=s[m],b=-1;++b<p;)b!=m&&(E[m]=Hc(E[m]||C,s[b],c,d));return yo(tn(E,1),c,d)}function jE(s,c,d){for(var p=-1,m=s.length,E=c.length,C={};++p<m;){var b=p<E?c[p]:t;d(C,s[p],b)}return C}function vm(s){return At(s)?s:[]}function _m(s){return typeof s=="function"?s:kn}function vo(s,c){return Ae(s)?s:Mm(s,c)?[s]:pC(rt(s))}var YN=je;function _o(s,c,d){var p=s.length;return d=d===t?p:d,!c&&d>=p?s:ur(s,c,d)}var UE=PR||function(s){return Zt.clearTimeout(s)};function BE(s,c){if(c)return s.slice();var d=s.length,p=cE?cE(d):new s.constructor(d);return s.copy(p),p}function Dm(s){var c=new s.constructor(s.byteLength);return new td(c).set(new td(s)),c}function ZN(s,c){var d=c?Dm(s.buffer):s.buffer;return new s.constructor(d,s.byteOffset,s.byteLength)}function KN(s){var c=new s.constructor(s.source,bD.exec(s));return c.lastIndex=s.lastIndex,c}function XN(s){return Uc?dt(Uc.call(s)):{}}function HE(s,c){var d=c?Dm(s.buffer):s.buffer;return new s.constructor(d,s.byteOffset,s.length)}function GE(s,c){if(s!==c){var d=s!==t,p=s===null,m=s===s,E=Yn(s),C=c!==t,b=c===null,N=c===c,V=Yn(c);if(!b&&!V&&!E&&s>c||E&&C&&N&&!b&&!V||p&&C&&N||!d&&N||!m)return 1;if(!p&&!E&&!V&&s<c||V&&d&&m&&!p&&!E||b&&d&&m||!C&&m||!N)return-1}return 0}function QN(s,c,d){for(var p=-1,m=s.criteria,E=c.criteria,C=m.length,b=d.length;++p<C;){var N=GE(m[p],E[p]);if(N){if(p>=b)return N;var V=d[p];return N*(V=="desc"?-1:1)}}return s.index-c.index}function $E(s,c,d,p){for(var m=-1,E=s.length,C=d.length,b=-1,N=c.length,V=Ut(E-C,0),j=P(N+V),B=!p;++b<N;)j[b]=c[b];for(;++m<C;)(B||m<E)&&(j[d[m]]=s[m]);for(;V--;)j[b++]=s[m++];return j}function qE(s,c,d,p){for(var m=-1,E=s.length,C=-1,b=d.length,N=-1,V=c.length,j=Ut(E-b,0),B=P(j+V),J=!p;++m<j;)B[m]=s[m];for(var ue=m;++N<V;)B[ue+N]=c[N];for(;++C<b;)(J||m<E)&&(B[ue+d[C]]=s[m++]);return B}function Rn(s,c){var d=-1,p=s.length;for(c||(c=P(p));++d<p;)c[d]=s[d];return c}function Jr(s,c,d,p){var m=!d;d||(d={});for(var E=-1,C=c.length;++E<C;){var b=c[E],N=p?p(d[b],s[b],b,d,s):t;N===t&&(N=s[b]),m?Si(d,b,N):Bc(d,b,N)}return d}function JN(s,c){return Jr(s,Tm(s),c)}function eO(s,c){return Jr(s,iC(s),c)}function md(s,c){return function(d,p){var m=Ae(d)?oR:CN,E=c?c():{};return m(d,s,ve(p,2),E)}}function aa(s){return je(function(c,d){var p=-1,m=d.length,E=m>1?d[m-1]:t,C=m>2?d[2]:t;for(E=s.length>3&&typeof E=="function"?(m--,E):t,C&&Dn(d[0],d[1],C)&&(E=m<3?t:E,m=1),c=dt(c);++p<m;){var b=d[p];b&&s(c,b,p,E)}return c})}function zE(s,c){return function(d,p){if(d==null)return d;if(!Nn(d))return s(d,p);for(var m=d.length,E=c?m:-1,C=dt(d);(c?E--:++E<m)&&p(C[E],E,C)!==!1;);return d}}function WE(s){return function(c,d,p){for(var m=-1,E=dt(c),C=p(c),b=C.length;b--;){var N=C[s?b:++m];if(d(E[N],N,E)===!1)break}return c}}function tO(s,c,d){var p=c&D,m=zc(s);function E(){var C=this&&this!==Zt&&this instanceof E?m:s;return C.apply(p?d:this,arguments)}return E}function YE(s){return function(c){c=rt(c);var d=ta(c)?xr(c):t,p=d?d[0]:c.charAt(0),m=d?_o(d,1).join(""):c.slice(1);return p[s]()+m}}function ca(s){return function(c){return qg(zC(qC(c).replace(qx,"")),s,"")}}function zc(s){return function(){var c=arguments;switch(c.length){case 0:return new s;case 1:return new s(c[0]);case 2:return new s(c[0],c[1]);case 3:return new s(c[0],c[1],c[2]);case 4:return new s(c[0],c[1],c[2],c[3]);case 5:return new s(c[0],c[1],c[2],c[3],c[4]);case 6:return new s(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new s(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=sa(s.prototype),p=s.apply(d,c);return Et(p)?p:d}}function nO(s,c,d){var p=zc(s);function m(){for(var E=arguments.length,C=P(E),b=E,N=la(m);b--;)C[b]=arguments[b];var V=E<3&&C[0]!==N&&C[E-1]!==N?[]:ho(C,N);if(E-=V.length,E<d)return JE(s,c,yd,m.placeholder,t,C,V,t,t,d-E);var j=this&&this!==Zt&&this instanceof m?p:s;return qn(j,this,C)}return m}function ZE(s){return function(c,d,p){var m=dt(c);if(!Nn(c)){var E=ve(d,3);c=Kt(c),d=function(b){return E(m[b],b,m)}}var C=s(c,d,p);return C>-1?m[E?c[C]:C]:t}}function KE(s){return Ti(function(c){var d=c.length,p=d,m=cr.prototype.thru;for(s&&c.reverse();p--;){var E=c[p];if(typeof E!="function")throw new ar(i);if(m&&!C&&Ed(E)=="wrapper")var C=new cr([],!0)}for(p=C?p:d;++p<d;){E=c[p];var b=Ed(E),N=b=="wrapper"?Sm(E):t;N&&Am(N[0])&&N[1]==(L|M|T|U)&&!N[4].length&&N[9]==1?C=C[Ed(N[0])].apply(C,N[3]):C=E.length==1&&Am(E)?C[b]():C.thru(E)}return function(){var V=arguments,j=V[0];if(C&&V.length==1&&Ae(j))return C.plant(j).value();for(var B=0,J=d?c[B].apply(this,V):j;++B<d;)J=c[B].call(this,J);return J}})}function yd(s,c,d,p,m,E,C,b,N,V){var j=c&L,B=c&D,J=c&S,ue=c&(M|A),De=c&Y,Ve=J?t:zc(s);function Ee(){for(var $e=arguments.length,Xe=P($e),Zn=$e;Zn--;)Xe[Zn]=arguments[Zn];if(ue)var En=la(Ee),Kn=pR(Xe,En);if(p&&(Xe=$E(Xe,p,m,ue)),E&&(Xe=qE(Xe,E,C,ue)),$e-=Kn,ue&&$e<V){var xt=ho(Xe,En);return JE(s,c,yd,Ee.placeholder,d,Xe,xt,b,N,V-$e)}var Or=B?d:this,Ri=J?Or[s]:s;return $e=Xe.length,b?Xe=CO(Xe,b):De&&$e>1&&Xe.reverse(),j&&N<$e&&(Xe.length=N),this&&this!==Zt&&this instanceof Ee&&(Ri=Ve||zc(Ri)),Ri.apply(Or,Xe)}return Ee}function XE(s,c){return function(d,p){return xN(d,s,c(p),{})}}function vd(s,c){return function(d,p){var m;if(d===t&&p===t)return c;if(d!==t&&(m=d),p!==t){if(m===t)return p;typeof d=="string"||typeof p=="string"?(d=Wn(d),p=Wn(p)):(d=FE(d),p=FE(p)),m=s(d,p)}return m}}function Em(s){return Ti(function(c){return c=_t(c,zn(ve())),je(function(d){var p=this;return s(c,function(m){return qn(m,p,d)})})})}function _d(s,c){c=c===t?" ":Wn(c);var d=c.length;if(d<2)return d?pm(c,s):c;var p=pm(c,od(s/na(c)));return ta(c)?_o(xr(p),0,s).join(""):p.slice(0,s)}function rO(s,c,d,p){var m=c&D,E=zc(s);function C(){for(var b=-1,N=arguments.length,V=-1,j=p.length,B=P(j+N),J=this&&this!==Zt&&this instanceof C?E:s;++V<j;)B[V]=p[V];for(;N--;)B[V++]=arguments[++b];return qn(J,m?d:this,B)}return C}function QE(s){return function(c,d,p){return p&&typeof p!="number"&&Dn(c,d,p)&&(d=p=t),c=xi(c),d===t?(d=c,c=0):d=xi(d),p=p===t?c<d?1:-1:xi(p),HN(c,d,p,s)}}function Dd(s){return function(c,d){return typeof c=="string"&&typeof d=="string"||(c=fr(c),d=fr(d)),s(c,d)}}function JE(s,c,d,p,m,E,C,b,N,V){var j=c&M,B=j?C:t,J=j?t:C,ue=j?E:t,De=j?t:E;c|=j?T:O,c&=~(j?O:T),c&w||(c&=~(D|S));var Ve=[s,c,m,ue,B,De,J,b,N,V],Ee=d.apply(t,Ve);return Am(s)&&dC(Ee,Ve),Ee.placeholder=p,fC(Ee,s,c)}function Cm(s){var c=jt[s];return function(d,p){if(d=fr(d),p=p==null?0:un(ke(p),292),p&&fE(d)){var m=(rt(d)+"e").split("e"),E=c(m[0]+"e"+(+m[1]+p));return m=(rt(E)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return c(d)}}var iO=ia&&1/Zu(new ia([,-0]))[1]==we?function(s){return new ia(s)}:$m;function eC(s){return function(c){var d=dn(c);return d==ie?Qg(c):d==Be?ER(c):hR(c,s(c))}}function Ii(s,c,d,p,m,E,C,b){var N=c&S;if(!N&&typeof s!="function")throw new ar(i);var V=p?p.length:0;if(V||(c&=~(T|O),p=m=t),C=C===t?C:Ut(ke(C),0),b=b===t?b:ke(b),V-=m?m.length:0,c&O){var j=p,B=m;p=m=t}var J=N?t:Sm(s),ue=[s,c,d,p,m,j,B,E,C,b];if(J&&_O(ue,J),s=ue[0],c=ue[1],d=ue[2],p=ue[3],m=ue[4],b=ue[9]=ue[9]===t?N?0:s.length:Ut(ue[9]-V,0),!b&&c&(M|A)&&(c&=~(M|A)),!c||c==D)var De=tO(s,c,d);else c==M||c==A?De=nO(s,c,b):(c==T||c==(D|T))&&!m.length?De=rO(s,c,d,p):De=yd.apply(t,ue);var Ve=J?kE:dC;return fC(Ve(De,ue),s,c)}function tC(s,c,d,p){return s===t||Nr(s,ra[d])&&!at.call(p,d)?c:s}function nC(s,c,d,p,m,E){return Et(s)&&Et(c)&&(E.set(c,s),hd(s,c,t,nC,E),E.delete(c)),s}function oO(s){return Zc(s)?t:s}function rC(s,c,d,p,m,E){var C=d&y,b=s.length,N=c.length;if(b!=N&&!(C&&N>b))return!1;var V=E.get(s),j=E.get(c);if(V&&j)return V==c&&j==s;var B=-1,J=!0,ue=d&v?new ns:t;for(E.set(s,c),E.set(c,s);++B<b;){var De=s[B],Ve=c[B];if(p)var Ee=C?p(Ve,De,B,c,s,E):p(De,Ve,B,s,c,E);if(Ee!==t){if(Ee)continue;J=!1;break}if(ue){if(!zg(c,function($e,Xe){if(!Pc(ue,Xe)&&(De===$e||m(De,$e,d,p,E)))return ue.push(Xe)})){J=!1;break}}else if(!(De===Ve||m(De,Ve,d,p,E))){J=!1;break}}return E.delete(s),E.delete(c),J}function sO(s,c,d,p,m,E,C){switch(d){case Kr:if(s.byteLength!=c.byteLength||s.byteOffset!=c.byteOffset)return!1;s=s.buffer,c=c.buffer;case Qo:return!(s.byteLength!=c.byteLength||!E(new td(s),new td(c)));case mn:case en:case ye:return Nr(+s,+c);case z:return s.name==c.name&&s.message==c.message;case et:case An:return s==c+"";case ie:var b=Qg;case Be:var N=p&y;if(b||(b=Zu),s.size!=c.size&&!N)return!1;var V=C.get(s);if(V)return V==c;p|=v,C.set(s,c);var j=rC(b(s),b(c),p,m,E,C);return C.delete(s),j;case yn:if(Uc)return Uc.call(s)==Uc.call(c)}return!1}function aO(s,c,d,p,m,E){var C=d&y,b=wm(s),N=b.length,V=wm(c),j=V.length;if(N!=j&&!C)return!1;for(var B=N;B--;){var J=b[B];if(!(C?J in c:at.call(c,J)))return!1}var ue=E.get(s),De=E.get(c);if(ue&&De)return ue==c&&De==s;var Ve=!0;E.set(s,c),E.set(c,s);for(var Ee=C;++B<N;){J=b[B];var $e=s[J],Xe=c[J];if(p)var Zn=C?p(Xe,$e,J,c,s,E):p($e,Xe,J,s,c,E);if(!(Zn===t?$e===Xe||m($e,Xe,d,p,E):Zn)){Ve=!1;break}Ee||(Ee=J=="constructor")}if(Ve&&!Ee){var En=s.constructor,Kn=c.constructor;En!=Kn&&"constructor"in s&&"constructor"in c&&!(typeof En=="function"&&En instanceof En&&typeof Kn=="function"&&Kn instanceof Kn)&&(Ve=!1)}return E.delete(s),E.delete(c),Ve}function Ti(s){return Rm(lC(s,t,vC),s+"")}function wm(s){return wE(s,Kt,Tm)}function bm(s){return wE(s,On,iC)}var Sm=ad?function(s){return ad.get(s)}:$m;function Ed(s){for(var c=s.name+"",d=oa[c],p=at.call(oa,c)?d.length:0;p--;){var m=d[p],E=m.func;if(E==null||E==s)return m.name}return c}function la(s){var c=at.call(_,"placeholder")?_:s;return c.placeholder}function ve(){var s=_.iteratee||Hm;return s=s===Hm?IE:s,arguments.length?s(arguments[0],arguments[1]):s}function Cd(s,c){var d=s.__data__;return gO(c)?d[typeof c=="string"?"string":"hash"]:d.map}function Im(s){for(var c=Kt(s),d=c.length;d--;){var p=c[d],m=s[p];c[d]=[p,m,aC(m)]}return c}function os(s,c){var d=vR(s,c);return SE(d)?d:t}function cO(s){var c=at.call(s,es),d=s[es];try{s[es]=t;var p=!0}catch{}var m=Ju.call(s);return p&&(c?s[es]=d:delete s[es]),m}var Tm=em?function(s){return s==null?[]:(s=dt(s),uo(em(s),function(c){return uE.call(s,c)}))}:qm,iC=em?function(s){for(var c=[];s;)fo(c,Tm(s)),s=nd(s);return c}:qm,dn=_n;(tm&&dn(new tm(new ArrayBuffer(1)))!=Kr||Lc&&dn(new Lc)!=ie||nm&&dn(nm.resolve())!=Ne||ia&&dn(new ia)!=Be||Vc&&dn(new Vc)!=Ei)&&(dn=function(s){var c=_n(s),d=c==_e?s.constructor:t,p=d?ss(d):"";if(p)switch(p){case $R:return Kr;case qR:return ie;case zR:return Ne;case WR:return Be;case YR:return Ei}return c});function lO(s,c,d){for(var p=-1,m=d.length;++p<m;){var E=d[p],C=E.size;switch(E.type){case"drop":s+=C;break;case"dropRight":c-=C;break;case"take":c=un(c,s+C);break;case"takeRight":s=Ut(s,c-C);break}}return{start:s,end:c}}function uO(s){var c=s.match(mx);return c?c[1].split(yx):[]}function oC(s,c,d){c=vo(c,s);for(var p=-1,m=c.length,E=!1;++p<m;){var C=ei(c[p]);if(!(E=s!=null&&d(s,C)))break;s=s[C]}return E||++p!=m?E:(m=s==null?0:s.length,!!m&&Ad(m)&&Mi(C,m)&&(Ae(s)||as(s)))}function dO(s){var c=s.length,d=new s.constructor(c);return c&&typeof s[0]=="string"&&at.call(s,"index")&&(d.index=s.index,d.input=s.input),d}function sC(s){return typeof s.constructor=="function"&&!Wc(s)?sa(nd(s)):{}}function fO(s,c,d){var p=s.constructor;switch(c){case Qo:return Dm(s);case mn:case en:return new p(+s);case Kr:return ZN(s,d);case Zs:case Xr:case Ks:case lo:case Xs:case Qs:case Ci:case vn:case xn:return HE(s,d);case ie:return new p;case ye:case An:return new p(s);case et:return KN(s);case Be:return new p;case yn:return XN(s)}}function hO(s,c){var d=c.length;if(!d)return s;var p=d-1;return c[p]=(d>1?"& ":"")+c[p],c=c.join(d>2?", ":" "),s.replace(gx,`{
/* [wrapped with `+c+`] */
`)}function pO(s){return Ae(s)||as(s)||!!(dE&&s&&s[dE])}function Mi(s,c){var d=typeof s;return c=c??se,!!c&&(d=="number"||d!="symbol"&&Ix.test(s))&&s>-1&&s%1==0&&s<c}function Dn(s,c,d){if(!Et(d))return!1;var p=typeof c;return(p=="number"?Nn(d)&&Mi(c,d.length):p=="string"&&c in d)?Nr(d[c],s):!1}function Mm(s,c){if(Ae(s))return!1;var d=typeof s;return d=="number"||d=="symbol"||d=="boolean"||s==null||Yn(s)?!0:dx.test(s)||!ux.test(s)||c!=null&&s in dt(c)}function gO(s){var c=typeof s;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?s!=="__proto__":s===null}function Am(s){var c=Ed(s),d=_[c];if(typeof d!="function"||!(c in Ye.prototype))return!1;if(s===d)return!0;var p=Sm(d);return!!p&&s===p[0]}function mO(s){return!!aE&&aE in s}var yO=Xu?Ai:zm;function Wc(s){var c=s&&s.constructor,d=typeof c=="function"&&c.prototype||ra;return s===d}function aC(s){return s===s&&!Et(s)}function cC(s,c){return function(d){return d==null?!1:d[s]===c&&(c!==t||s in dt(d))}}function vO(s){var c=Td(s,function(p){return d.size===l&&d.clear(),p}),d=c.cache;return c}function _O(s,c){var d=s[1],p=c[1],m=d|p,E=m<(D|S|L),C=p==L&&d==M||p==L&&d==U&&s[7].length<=c[8]||p==(L|U)&&c[7].length<=c[8]&&d==M;if(!(E||C))return s;p&D&&(s[2]=c[2],m|=d&D?0:w);var b=c[3];if(b){var N=s[3];s[3]=N?$E(N,b,c[4]):b,s[4]=N?ho(s[3],u):c[4]}return b=c[5],b&&(N=s[5],s[5]=N?qE(N,b,c[6]):b,s[6]=N?ho(s[5],u):c[6]),b=c[7],b&&(s[7]=b),p&L&&(s[8]=s[8]==null?c[8]:un(s[8],c[8])),s[9]==null&&(s[9]=c[9]),s[0]=c[0],s[1]=m,s}function DO(s){var c=[];if(s!=null)for(var d in dt(s))c.push(d);return c}function EO(s){return Ju.call(s)}function lC(s,c,d){return c=Ut(c===t?s.length-1:c,0),function(){for(var p=arguments,m=-1,E=Ut(p.length-c,0),C=P(E);++m<E;)C[m]=p[c+m];m=-1;for(var b=P(c+1);++m<c;)b[m]=p[m];return b[c]=d(C),qn(s,this,b)}}function uC(s,c){return c.length<2?s:is(s,ur(c,0,-1))}function CO(s,c){for(var d=s.length,p=un(c.length,d),m=Rn(s);p--;){var E=c[p];s[p]=Mi(E,d)?m[E]:t}return s}function xm(s,c){if(!(c==="constructor"&&typeof s[c]=="function")&&c!="__proto__")return s[c]}var dC=hC(kE),Yc=LR||function(s,c){return Zt.setTimeout(s,c)},Rm=hC(qN);function fC(s,c,d){var p=c+"";return Rm(s,hO(p,wO(uO(p),d)))}function hC(s){var c=0,d=0;return function(){var p=BR(),m=Q-(p-d);if(d=p,m>0){if(++c>=W)return arguments[0]}else c=0;return s.apply(t,arguments)}}function wd(s,c){var d=-1,p=s.length,m=p-1;for(c=c===t?p:c;++d<c;){var E=hm(d,m),C=s[E];s[E]=s[d],s[d]=C}return s.length=c,s}var pC=vO(function(s){var c=[];return s.charCodeAt(0)===46&&c.push(""),s.replace(fx,function(d,p,m,E){c.push(m?E.replace(Dx,"$1"):p||d)}),c});function ei(s){if(typeof s=="string"||Yn(s))return s;var c=s+"";return c=="0"&&1/s==-we?"-0":c}function ss(s){if(s!=null){try{return Qu.call(s)}catch{}try{return s+""}catch{}}return""}function wO(s,c){return sr(Le,function(d){var p="_."+d[0];c&d[1]&&!Wu(s,p)&&s.push(p)}),s.sort()}function gC(s){if(s instanceof Ye)return s.clone();var c=new cr(s.__wrapped__,s.__chain__);return c.__actions__=Rn(s.__actions__),c.__index__=s.__index__,c.__values__=s.__values__,c}function bO(s,c,d){(d?Dn(s,c,d):c===t)?c=1:c=Ut(ke(c),0);var p=s==null?0:s.length;if(!p||c<1)return[];for(var m=0,E=0,C=P(od(p/c));m<p;)C[E++]=ur(s,m,m+=c);return C}function SO(s){for(var c=-1,d=s==null?0:s.length,p=0,m=[];++c<d;){var E=s[c];E&&(m[p++]=E)}return m}function IO(){var s=arguments.length;if(!s)return[];for(var c=P(s-1),d=arguments[0],p=s;p--;)c[p-1]=arguments[p];return fo(Ae(d)?Rn(d):[d],tn(c,1))}var TO=je(function(s,c){return At(s)?Hc(s,tn(c,1,At,!0)):[]}),MO=je(function(s,c){var d=dr(c);return At(d)&&(d=t),At(s)?Hc(s,tn(c,1,At,!0),ve(d,2)):[]}),AO=je(function(s,c){var d=dr(c);return At(d)&&(d=t),At(s)?Hc(s,tn(c,1,At,!0),t,d):[]});function xO(s,c,d){var p=s==null?0:s.length;return p?(c=d||c===t?1:ke(c),ur(s,c<0?0:c,p)):[]}function RO(s,c,d){var p=s==null?0:s.length;return p?(c=d||c===t?1:ke(c),c=p-c,ur(s,0,c<0?0:c)):[]}function NO(s,c){return s&&s.length?gd(s,ve(c,3),!0,!0):[]}function OO(s,c){return s&&s.length?gd(s,ve(c,3),!0):[]}function kO(s,c,d,p){var m=s==null?0:s.length;return m?(d&&typeof d!="number"&&Dn(s,c,d)&&(d=0,p=m),IN(s,c,d,p)):[]}function mC(s,c,d){var p=s==null?0:s.length;if(!p)return-1;var m=d==null?0:ke(d);return m<0&&(m=Ut(p+m,0)),Yu(s,ve(c,3),m)}function yC(s,c,d){var p=s==null?0:s.length;if(!p)return-1;var m=p-1;return d!==t&&(m=ke(d),m=d<0?Ut(p+m,0):un(m,p-1)),Yu(s,ve(c,3),m,!0)}function vC(s){var c=s==null?0:s.length;return c?tn(s,1):[]}function PO(s){var c=s==null?0:s.length;return c?tn(s,we):[]}function FO(s,c){var d=s==null?0:s.length;return d?(c=c===t?1:ke(c),tn(s,c)):[]}function LO(s){for(var c=-1,d=s==null?0:s.length,p={};++c<d;){var m=s[c];p[m[0]]=m[1]}return p}function _C(s){return s&&s.length?s[0]:t}function VO(s,c,d){var p=s==null?0:s.length;if(!p)return-1;var m=d==null?0:ke(d);return m<0&&(m=Ut(p+m,0)),ea(s,c,m)}function jO(s){var c=s==null?0:s.length;return c?ur(s,0,-1):[]}var UO=je(function(s){var c=_t(s,vm);return c.length&&c[0]===s[0]?cm(c):[]}),BO=je(function(s){var c=dr(s),d=_t(s,vm);return c===dr(d)?c=t:d.pop(),d.length&&d[0]===s[0]?cm(d,ve(c,2)):[]}),HO=je(function(s){var c=dr(s),d=_t(s,vm);return c=typeof c=="function"?c:t,c&&d.pop(),d.length&&d[0]===s[0]?cm(d,t,c):[]});function GO(s,c){return s==null?"":jR.call(s,c)}function dr(s){var c=s==null?0:s.length;return c?s[c-1]:t}function $O(s,c,d){var p=s==null?0:s.length;if(!p)return-1;var m=p;return d!==t&&(m=ke(d),m=m<0?Ut(p+m,0):un(m,p-1)),c===c?wR(s,c,m):Yu(s,JD,m,!0)}function qO(s,c){return s&&s.length?xE(s,ke(c)):t}var zO=je(DC);function DC(s,c){return s&&s.length&&c&&c.length?fm(s,c):s}function WO(s,c,d){return s&&s.length&&c&&c.length?fm(s,c,ve(d,2)):s}function YO(s,c,d){return s&&s.length&&c&&c.length?fm(s,c,t,d):s}var ZO=Ti(function(s,c){var d=s==null?0:s.length,p=im(s,c);return OE(s,_t(c,function(m){return Mi(m,d)?+m:m}).sort(GE)),p});function KO(s,c){var d=[];if(!(s&&s.length))return d;var p=-1,m=[],E=s.length;for(c=ve(c,3);++p<E;){var C=s[p];c(C,p,s)&&(d.push(C),m.push(p))}return OE(s,m),d}function Nm(s){return s==null?s:GR.call(s)}function XO(s,c,d){var p=s==null?0:s.length;return p?(d&&typeof d!="number"&&Dn(s,c,d)?(c=0,d=p):(c=c==null?0:ke(c),d=d===t?p:ke(d)),ur(s,c,d)):[]}function QO(s,c){return pd(s,c)}function JO(s,c,d){return gm(s,c,ve(d,2))}function e3(s,c){var d=s==null?0:s.length;if(d){var p=pd(s,c);if(p<d&&Nr(s[p],c))return p}return-1}function t3(s,c){return pd(s,c,!0)}function n3(s,c,d){return gm(s,c,ve(d,2),!0)}function r3(s,c){var d=s==null?0:s.length;if(d){var p=pd(s,c,!0)-1;if(Nr(s[p],c))return p}return-1}function i3(s){return s&&s.length?PE(s):[]}function o3(s,c){return s&&s.length?PE(s,ve(c,2)):[]}function s3(s){var c=s==null?0:s.length;return c?ur(s,1,c):[]}function a3(s,c,d){return s&&s.length?(c=d||c===t?1:ke(c),ur(s,0,c<0?0:c)):[]}function c3(s,c,d){var p=s==null?0:s.length;return p?(c=d||c===t?1:ke(c),c=p-c,ur(s,c<0?0:c,p)):[]}function l3(s,c){return s&&s.length?gd(s,ve(c,3),!1,!0):[]}function u3(s,c){return s&&s.length?gd(s,ve(c,3)):[]}var d3=je(function(s){return yo(tn(s,1,At,!0))}),f3=je(function(s){var c=dr(s);return At(c)&&(c=t),yo(tn(s,1,At,!0),ve(c,2))}),h3=je(function(s){var c=dr(s);return c=typeof c=="function"?c:t,yo(tn(s,1,At,!0),t,c)});function p3(s){return s&&s.length?yo(s):[]}function g3(s,c){return s&&s.length?yo(s,ve(c,2)):[]}function m3(s,c){return c=typeof c=="function"?c:t,s&&s.length?yo(s,t,c):[]}function Om(s){if(!(s&&s.length))return[];var c=0;return s=uo(s,function(d){if(At(d))return c=Ut(d.length,c),!0}),Kg(c,function(d){return _t(s,Wg(d))})}function EC(s,c){if(!(s&&s.length))return[];var d=Om(s);return c==null?d:_t(d,function(p){return qn(c,t,p)})}var y3=je(function(s,c){return At(s)?Hc(s,c):[]}),v3=je(function(s){return ym(uo(s,At))}),_3=je(function(s){var c=dr(s);return At(c)&&(c=t),ym(uo(s,At),ve(c,2))}),D3=je(function(s){var c=dr(s);return c=typeof c=="function"?c:t,ym(uo(s,At),t,c)}),E3=je(Om);function C3(s,c){return jE(s||[],c||[],Bc)}function w3(s,c){return jE(s||[],c||[],qc)}var b3=je(function(s){var c=s.length,d=c>1?s[c-1]:t;return d=typeof d=="function"?(s.pop(),d):t,EC(s,d)});function CC(s){var c=_(s);return c.__chain__=!0,c}function S3(s,c){return c(s),s}function bd(s,c){return c(s)}var I3=Ti(function(s){var c=s.length,d=c?s[0]:0,p=this.__wrapped__,m=function(E){return im(E,s)};return c>1||this.__actions__.length||!(p instanceof Ye)||!Mi(d)?this.thru(m):(p=p.slice(d,+d+(c?1:0)),p.__actions__.push({func:bd,args:[m],thisArg:t}),new cr(p,this.__chain__).thru(function(E){return c&&!E.length&&E.push(t),E}))});function T3(){return CC(this)}function M3(){return new cr(this.value(),this.__chain__)}function A3(){this.__values__===t&&(this.__values__=FC(this.value()));var s=this.__index__>=this.__values__.length,c=s?t:this.__values__[this.__index__++];return{done:s,value:c}}function x3(){return this}function R3(s){for(var c,d=this;d instanceof ld;){var p=gC(d);p.__index__=0,p.__values__=t,c?m.__wrapped__=p:c=p;var m=p;d=d.__wrapped__}return m.__wrapped__=s,c}function N3(){var s=this.__wrapped__;if(s instanceof Ye){var c=s;return this.__actions__.length&&(c=new Ye(this)),c=c.reverse(),c.__actions__.push({func:bd,args:[Nm],thisArg:t}),new cr(c,this.__chain__)}return this.thru(Nm)}function O3(){return VE(this.__wrapped__,this.__actions__)}var k3=md(function(s,c,d){at.call(s,d)?++s[d]:Si(s,d,1)});function P3(s,c,d){var p=Ae(s)?XD:SN;return d&&Dn(s,c,d)&&(c=t),p(s,ve(c,3))}function F3(s,c){var d=Ae(s)?uo:EE;return d(s,ve(c,3))}var L3=ZE(mC),V3=ZE(yC);function j3(s,c){return tn(Sd(s,c),1)}function U3(s,c){return tn(Sd(s,c),we)}function B3(s,c,d){return d=d===t?1:ke(d),tn(Sd(s,c),d)}function wC(s,c){var d=Ae(s)?sr:mo;return d(s,ve(c,3))}function bC(s,c){var d=Ae(s)?sR:DE;return d(s,ve(c,3))}var H3=md(function(s,c,d){at.call(s,d)?s[d].push(c):Si(s,d,[c])});function G3(s,c,d,p){s=Nn(s)?s:da(s),d=d&&!p?ke(d):0;var m=s.length;return d<0&&(d=Ut(m+d,0)),xd(s)?d<=m&&s.indexOf(c,d)>-1:!!m&&ea(s,c,d)>-1}var $3=je(function(s,c,d){var p=-1,m=typeof c=="function",E=Nn(s)?P(s.length):[];return mo(s,function(C){E[++p]=m?qn(c,C,d):Gc(C,c,d)}),E}),q3=md(function(s,c,d){Si(s,d,c)});function Sd(s,c){var d=Ae(s)?_t:TE;return d(s,ve(c,3))}function z3(s,c,d,p){return s==null?[]:(Ae(c)||(c=c==null?[]:[c]),d=p?t:d,Ae(d)||(d=d==null?[]:[d]),RE(s,c,d))}var W3=md(function(s,c,d){s[d?0:1].push(c)},function(){return[[],[]]});function Y3(s,c,d){var p=Ae(s)?qg:tE,m=arguments.length<3;return p(s,ve(c,4),d,m,mo)}function Z3(s,c,d){var p=Ae(s)?aR:tE,m=arguments.length<3;return p(s,ve(c,4),d,m,DE)}function K3(s,c){var d=Ae(s)?uo:EE;return d(s,Md(ve(c,3)))}function X3(s){var c=Ae(s)?mE:GN;return c(s)}function Q3(s,c,d){(d?Dn(s,c,d):c===t)?c=1:c=ke(c);var p=Ae(s)?DN:$N;return p(s,c)}function J3(s){var c=Ae(s)?EN:zN;return c(s)}function ek(s){if(s==null)return 0;if(Nn(s))return xd(s)?na(s):s.length;var c=dn(s);return c==ie||c==Be?s.size:um(s).length}function tk(s,c,d){var p=Ae(s)?zg:WN;return d&&Dn(s,c,d)&&(c=t),p(s,ve(c,3))}var nk=je(function(s,c){if(s==null)return[];var d=c.length;return d>1&&Dn(s,c[0],c[1])?c=[]:d>2&&Dn(c[0],c[1],c[2])&&(c=[c[0]]),RE(s,tn(c,1),[])}),Id=FR||function(){return Zt.Date.now()};function rk(s,c){if(typeof c!="function")throw new ar(i);return s=ke(s),function(){if(--s<1)return c.apply(this,arguments)}}function SC(s,c,d){return c=d?t:c,c=s&&c==null?s.length:c,Ii(s,L,t,t,t,t,c)}function IC(s,c){var d;if(typeof c!="function")throw new ar(i);return s=ke(s),function(){return--s>0&&(d=c.apply(this,arguments)),s<=1&&(c=t),d}}var km=je(function(s,c,d){var p=D;if(d.length){var m=ho(d,la(km));p|=T}return Ii(s,p,c,d,m)}),TC=je(function(s,c,d){var p=D|S;if(d.length){var m=ho(d,la(TC));p|=T}return Ii(c,p,s,d,m)});function MC(s,c,d){c=d?t:c;var p=Ii(s,M,t,t,t,t,t,c);return p.placeholder=MC.placeholder,p}function AC(s,c,d){c=d?t:c;var p=Ii(s,A,t,t,t,t,t,c);return p.placeholder=AC.placeholder,p}function xC(s,c,d){var p,m,E,C,b,N,V=0,j=!1,B=!1,J=!0;if(typeof s!="function")throw new ar(i);c=fr(c)||0,Et(d)&&(j=!!d.leading,B="maxWait"in d,E=B?Ut(fr(d.maxWait)||0,c):E,J="trailing"in d?!!d.trailing:J);function ue(xt){var Or=p,Ri=m;return p=m=t,V=xt,C=s.apply(Ri,Or),C}function De(xt){return V=xt,b=Yc($e,c),j?ue(xt):C}function Ve(xt){var Or=xt-N,Ri=xt-V,ZC=c-Or;return B?un(ZC,E-Ri):ZC}function Ee(xt){var Or=xt-N,Ri=xt-V;return N===t||Or>=c||Or<0||B&&Ri>=E}function $e(){var xt=Id();if(Ee(xt))return Xe(xt);b=Yc($e,Ve(xt))}function Xe(xt){return b=t,J&&p?ue(xt):(p=m=t,C)}function Zn(){b!==t&&UE(b),V=0,p=N=m=b=t}function En(){return b===t?C:Xe(Id())}function Kn(){var xt=Id(),Or=Ee(xt);if(p=arguments,m=this,N=xt,Or){if(b===t)return De(N);if(B)return UE(b),b=Yc($e,c),ue(N)}return b===t&&(b=Yc($e,c)),C}return Kn.cancel=Zn,Kn.flush=En,Kn}var ik=je(function(s,c){return _E(s,1,c)}),ok=je(function(s,c,d){return _E(s,fr(c)||0,d)});function sk(s){return Ii(s,Y)}function Td(s,c){if(typeof s!="function"||c!=null&&typeof c!="function")throw new ar(i);var d=function(){var p=arguments,m=c?c.apply(this,p):p[0],E=d.cache;if(E.has(m))return E.get(m);var C=s.apply(this,p);return d.cache=E.set(m,C)||E,C};return d.cache=new(Td.Cache||bi),d}Td.Cache=bi;function Md(s){if(typeof s!="function")throw new ar(i);return function(){var c=arguments;switch(c.length){case 0:return!s.call(this);case 1:return!s.call(this,c[0]);case 2:return!s.call(this,c[0],c[1]);case 3:return!s.call(this,c[0],c[1],c[2])}return!s.apply(this,c)}}function ak(s){return IC(2,s)}var ck=YN(function(s,c){c=c.length==1&&Ae(c[0])?_t(c[0],zn(ve())):_t(tn(c,1),zn(ve()));var d=c.length;return je(function(p){for(var m=-1,E=un(p.length,d);++m<E;)p[m]=c[m].call(this,p[m]);return qn(s,this,p)})}),Pm=je(function(s,c){var d=ho(c,la(Pm));return Ii(s,T,t,c,d)}),RC=je(function(s,c){var d=ho(c,la(RC));return Ii(s,O,t,c,d)}),lk=Ti(function(s,c){return Ii(s,U,t,t,t,c)});function uk(s,c){if(typeof s!="function")throw new ar(i);return c=c===t?c:ke(c),je(s,c)}function dk(s,c){if(typeof s!="function")throw new ar(i);return c=c==null?0:Ut(ke(c),0),je(function(d){var p=d[c],m=_o(d,0,c);return p&&fo(m,p),qn(s,this,m)})}function fk(s,c,d){var p=!0,m=!0;if(typeof s!="function")throw new ar(i);return Et(d)&&(p="leading"in d?!!d.leading:p,m="trailing"in d?!!d.trailing:m),xC(s,c,{leading:p,maxWait:c,trailing:m})}function hk(s){return SC(s,1)}function pk(s,c){return Pm(_m(c),s)}function gk(){if(!arguments.length)return[];var s=arguments[0];return Ae(s)?s:[s]}function mk(s){return lr(s,g)}function yk(s,c){return c=typeof c=="function"?c:t,lr(s,g,c)}function vk(s){return lr(s,f|g)}function _k(s,c){return c=typeof c=="function"?c:t,lr(s,f|g,c)}function Dk(s,c){return c==null||vE(s,c,Kt(c))}function Nr(s,c){return s===c||s!==s&&c!==c}var Ek=Dd(am),Ck=Dd(function(s,c){return s>=c}),as=bE((function(){return arguments})())?bE:function(s){return St(s)&&at.call(s,"callee")&&!uE.call(s,"callee")},Ae=P.isArray,wk=qD?zn(qD):RN;function Nn(s){return s!=null&&Ad(s.length)&&!Ai(s)}function At(s){return St(s)&&Nn(s)}function bk(s){return s===!0||s===!1||St(s)&&_n(s)==mn}var Do=VR||zm,Sk=zD?zn(zD):NN;function Ik(s){return St(s)&&s.nodeType===1&&!Zc(s)}function Tk(s){if(s==null)return!0;if(Nn(s)&&(Ae(s)||typeof s=="string"||typeof s.splice=="function"||Do(s)||ua(s)||as(s)))return!s.length;var c=dn(s);if(c==ie||c==Be)return!s.size;if(Wc(s))return!um(s).length;for(var d in s)if(at.call(s,d))return!1;return!0}function Mk(s,c){return $c(s,c)}function Ak(s,c,d){d=typeof d=="function"?d:t;var p=d?d(s,c):t;return p===t?$c(s,c,t,d):!!p}function Fm(s){if(!St(s))return!1;var c=_n(s);return c==z||c==X||typeof s.message=="string"&&typeof s.name=="string"&&!Zc(s)}function xk(s){return typeof s=="number"&&fE(s)}function Ai(s){if(!Et(s))return!1;var c=_n(s);return c==k||c==Z||c==Ar||c==Oe}function NC(s){return typeof s=="number"&&s==ke(s)}function Ad(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=se}function Et(s){var c=typeof s;return s!=null&&(c=="object"||c=="function")}function St(s){return s!=null&&typeof s=="object"}var OC=WD?zn(WD):kN;function Rk(s,c){return s===c||lm(s,c,Im(c))}function Nk(s,c,d){return d=typeof d=="function"?d:t,lm(s,c,Im(c),d)}function Ok(s){return kC(s)&&s!=+s}function kk(s){if(yO(s))throw new Me(r);return SE(s)}function Pk(s){return s===null}function Fk(s){return s==null}function kC(s){return typeof s=="number"||St(s)&&_n(s)==ye}function Zc(s){if(!St(s)||_n(s)!=_e)return!1;var c=nd(s);if(c===null)return!0;var d=at.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d instanceof d&&Qu.call(d)==NR}var Lm=YD?zn(YD):PN;function Lk(s){return NC(s)&&s>=-se&&s<=se}var PC=ZD?zn(ZD):FN;function xd(s){return typeof s=="string"||!Ae(s)&&St(s)&&_n(s)==An}function Yn(s){return typeof s=="symbol"||St(s)&&_n(s)==yn}var ua=KD?zn(KD):LN;function Vk(s){return s===t}function jk(s){return St(s)&&dn(s)==Ei}function Uk(s){return St(s)&&_n(s)==Gu}var Bk=Dd(dm),Hk=Dd(function(s,c){return s<=c});function FC(s){if(!s)return[];if(Nn(s))return xd(s)?xr(s):Rn(s);if(Fc&&s[Fc])return DR(s[Fc]());var c=dn(s),d=c==ie?Qg:c==Be?Zu:da;return d(s)}function xi(s){if(!s)return s===0?s:0;if(s=fr(s),s===we||s===-we){var c=s<0?-1:1;return c*re}return s===s?s:0}function ke(s){var c=xi(s),d=c%1;return c===c?d?c-d:c:0}function LC(s){return s?rs(ke(s),0,x):0}function fr(s){if(typeof s=="number")return s;if(Yn(s))return I;if(Et(s)){var c=typeof s.valueOf=="function"?s.valueOf():s;s=Et(c)?c+"":c}if(typeof s!="string")return s===0?s:+s;s=nE(s);var d=wx.test(s);return d||Sx.test(s)?rR(s.slice(2),d?2:8):Cx.test(s)?I:+s}function VC(s){return Jr(s,On(s))}function Gk(s){return s?rs(ke(s),-se,se):s===0?s:0}function rt(s){return s==null?"":Wn(s)}var $k=aa(function(s,c){if(Wc(c)||Nn(c)){Jr(c,Kt(c),s);return}for(var d in c)at.call(c,d)&&Bc(s,d,c[d])}),jC=aa(function(s,c){Jr(c,On(c),s)}),Rd=aa(function(s,c,d,p){Jr(c,On(c),s,p)}),qk=aa(function(s,c,d,p){Jr(c,Kt(c),s,p)}),zk=Ti(im);function Wk(s,c){var d=sa(s);return c==null?d:yE(d,c)}var Yk=je(function(s,c){s=dt(s);var d=-1,p=c.length,m=p>2?c[2]:t;for(m&&Dn(c[0],c[1],m)&&(p=1);++d<p;)for(var E=c[d],C=On(E),b=-1,N=C.length;++b<N;){var V=C[b],j=s[V];(j===t||Nr(j,ra[V])&&!at.call(s,V))&&(s[V]=E[V])}return s}),Zk=je(function(s){return s.push(t,nC),qn(UC,t,s)});function Kk(s,c){return QD(s,ve(c,3),Qr)}function Xk(s,c){return QD(s,ve(c,3),sm)}function Qk(s,c){return s==null?s:om(s,ve(c,3),On)}function Jk(s,c){return s==null?s:CE(s,ve(c,3),On)}function eP(s,c){return s&&Qr(s,ve(c,3))}function tP(s,c){return s&&sm(s,ve(c,3))}function nP(s){return s==null?[]:fd(s,Kt(s))}function rP(s){return s==null?[]:fd(s,On(s))}function Vm(s,c,d){var p=s==null?t:is(s,c);return p===t?d:p}function iP(s,c){return s!=null&&oC(s,c,TN)}function jm(s,c){return s!=null&&oC(s,c,MN)}var oP=XE(function(s,c,d){c!=null&&typeof c.toString!="function"&&(c=Ju.call(c)),s[c]=d},Bm(kn)),sP=XE(function(s,c,d){c!=null&&typeof c.toString!="function"&&(c=Ju.call(c)),at.call(s,c)?s[c].push(d):s[c]=[d]},ve),aP=je(Gc);function Kt(s){return Nn(s)?gE(s):um(s)}function On(s){return Nn(s)?gE(s,!0):VN(s)}function cP(s,c){var d={};return c=ve(c,3),Qr(s,function(p,m,E){Si(d,c(p,m,E),p)}),d}function lP(s,c){var d={};return c=ve(c,3),Qr(s,function(p,m,E){Si(d,m,c(p,m,E))}),d}var uP=aa(function(s,c,d){hd(s,c,d)}),UC=aa(function(s,c,d,p){hd(s,c,d,p)}),dP=Ti(function(s,c){var d={};if(s==null)return d;var p=!1;c=_t(c,function(E){return E=vo(E,s),p||(p=E.length>1),E}),Jr(s,bm(s),d),p&&(d=lr(d,f|h|g,oO));for(var m=c.length;m--;)mm(d,c[m]);return d});function fP(s,c){return BC(s,Md(ve(c)))}var hP=Ti(function(s,c){return s==null?{}:UN(s,c)});function BC(s,c){if(s==null)return{};var d=_t(bm(s),function(p){return[p]});return c=ve(c),NE(s,d,function(p,m){return c(p,m[0])})}function pP(s,c,d){c=vo(c,s);var p=-1,m=c.length;for(m||(m=1,s=t);++p<m;){var E=s==null?t:s[ei(c[p])];E===t&&(p=m,E=d),s=Ai(E)?E.call(s):E}return s}function gP(s,c,d){return s==null?s:qc(s,c,d)}function mP(s,c,d,p){return p=typeof p=="function"?p:t,s==null?s:qc(s,c,d,p)}var HC=eC(Kt),GC=eC(On);function yP(s,c,d){var p=Ae(s),m=p||Do(s)||ua(s);if(c=ve(c,4),d==null){var E=s&&s.constructor;m?d=p?new E:[]:Et(s)?d=Ai(E)?sa(nd(s)):{}:d={}}return(m?sr:Qr)(s,function(C,b,N){return c(d,C,b,N)}),d}function vP(s,c){return s==null?!0:mm(s,c)}function _P(s,c,d){return s==null?s:LE(s,c,_m(d))}function DP(s,c,d,p){return p=typeof p=="function"?p:t,s==null?s:LE(s,c,_m(d),p)}function da(s){return s==null?[]:Xg(s,Kt(s))}function EP(s){return s==null?[]:Xg(s,On(s))}function CP(s,c,d){return d===t&&(d=c,c=t),d!==t&&(d=fr(d),d=d===d?d:0),c!==t&&(c=fr(c),c=c===c?c:0),rs(fr(s),c,d)}function wP(s,c,d){return c=xi(c),d===t?(d=c,c=0):d=xi(d),s=fr(s),AN(s,c,d)}function bP(s,c,d){if(d&&typeof d!="boolean"&&Dn(s,c,d)&&(c=d=t),d===t&&(typeof c=="boolean"?(d=c,c=t):typeof s=="boolean"&&(d=s,s=t)),s===t&&c===t?(s=0,c=1):(s=xi(s),c===t?(c=s,s=0):c=xi(c)),s>c){var p=s;s=c,c=p}if(d||s%1||c%1){var m=hE();return un(s+m*(c-s+nR("1e-"+((m+"").length-1))),c)}return hm(s,c)}var SP=ca(function(s,c,d){return c=c.toLowerCase(),s+(d?$C(c):c)});function $C(s){return Um(rt(s).toLowerCase())}function qC(s){return s=rt(s),s&&s.replace(Tx,gR).replace(zx,"")}function IP(s,c,d){s=rt(s),c=Wn(c);var p=s.length;d=d===t?p:rs(ke(d),0,p);var m=d;return d-=c.length,d>=0&&s.slice(d,m)==c}function TP(s){return s=rt(s),s&&ax.test(s)?s.replace(CD,mR):s}function MP(s){return s=rt(s),s&&hx.test(s)?s.replace(Pg,"\\$&"):s}var AP=ca(function(s,c,d){return s+(d?"-":"")+c.toLowerCase()}),xP=ca(function(s,c,d){return s+(d?" ":"")+c.toLowerCase()}),RP=YE("toLowerCase");function NP(s,c,d){s=rt(s),c=ke(c);var p=c?na(s):0;if(!c||p>=c)return s;var m=(c-p)/2;return _d(sd(m),d)+s+_d(od(m),d)}function OP(s,c,d){s=rt(s),c=ke(c);var p=c?na(s):0;return c&&p<c?s+_d(c-p,d):s}function kP(s,c,d){s=rt(s),c=ke(c);var p=c?na(s):0;return c&&p<c?_d(c-p,d)+s:s}function PP(s,c,d){return d||c==null?c=0:c&&(c=+c),HR(rt(s).replace(Fg,""),c||0)}function FP(s,c,d){return(d?Dn(s,c,d):c===t)?c=1:c=ke(c),pm(rt(s),c)}function LP(){var s=arguments,c=rt(s[0]);return s.length<3?c:c.replace(s[1],s[2])}var VP=ca(function(s,c,d){return s+(d?"_":"")+c.toLowerCase()});function jP(s,c,d){return d&&typeof d!="number"&&Dn(s,c,d)&&(c=d=t),d=d===t?x:d>>>0,d?(s=rt(s),s&&(typeof c=="string"||c!=null&&!Lm(c))&&(c=Wn(c),!c&&ta(s))?_o(xr(s),0,d):s.split(c,d)):[]}var UP=ca(function(s,c,d){return s+(d?" ":"")+Um(c)});function BP(s,c,d){return s=rt(s),d=d==null?0:rs(ke(d),0,s.length),c=Wn(c),s.slice(d,d+c.length)==c}function HP(s,c,d){var p=_.templateSettings;d&&Dn(s,c,d)&&(c=t),s=rt(s),c=Rd({},c,p,tC);var m=Rd({},c.imports,p.imports,tC),E=Kt(m),C=Xg(m,E),b,N,V=0,j=c.interpolate||$u,B="__p += '",J=Jg((c.escape||$u).source+"|"+j.source+"|"+(j===wD?Ex:$u).source+"|"+(c.evaluate||$u).source+"|$","g"),ue="//# sourceURL="+(at.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xx+"]")+`
`;s.replace(J,function(Ee,$e,Xe,Zn,En,Kn){return Xe||(Xe=Zn),B+=s.slice(V,Kn).replace(Mx,yR),$e&&(b=!0,B+=`' +
__e(`+$e+`) +
'`),En&&(N=!0,B+=`';
`+En+`;
__p += '`),Xe&&(B+=`' +
((__t = (`+Xe+`)) == null ? '' : __t) +
'`),V=Kn+Ee.length,Ee}),B+=`';
`;var De=at.call(c,"variable")&&c.variable;if(!De)B=`with (obj) {
`+B+`
}
`;else if(_x.test(De))throw new Me(o);B=(N?B.replace(rx,""):B).replace(ix,"$1").replace(ox,"$1;"),B="function("+(De||"obj")+`) {
`+(De?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+B+`return __p
}`;var Ve=WC(function(){return tt(E,ue+"return "+B).apply(t,C)});if(Ve.source=B,Fm(Ve))throw Ve;return Ve}function GP(s){return rt(s).toLowerCase()}function $P(s){return rt(s).toUpperCase()}function qP(s,c,d){if(s=rt(s),s&&(d||c===t))return nE(s);if(!s||!(c=Wn(c)))return s;var p=xr(s),m=xr(c),E=rE(p,m),C=iE(p,m)+1;return _o(p,E,C).join("")}function zP(s,c,d){if(s=rt(s),s&&(d||c===t))return s.slice(0,sE(s)+1);if(!s||!(c=Wn(c)))return s;var p=xr(s),m=iE(p,xr(c))+1;return _o(p,0,m).join("")}function WP(s,c,d){if(s=rt(s),s&&(d||c===t))return s.replace(Fg,"");if(!s||!(c=Wn(c)))return s;var p=xr(s),m=rE(p,xr(c));return _o(p,m).join("")}function YP(s,c){var d=G,p=fe;if(Et(c)){var m="separator"in c?c.separator:m;d="length"in c?ke(c.length):d,p="omission"in c?Wn(c.omission):p}s=rt(s);var E=s.length;if(ta(s)){var C=xr(s);E=C.length}if(d>=E)return s;var b=d-na(p);if(b<1)return p;var N=C?_o(C,0,b).join(""):s.slice(0,b);if(m===t)return N+p;if(C&&(b+=N.length-b),Lm(m)){if(s.slice(b).search(m)){var V,j=N;for(m.global||(m=Jg(m.source,rt(bD.exec(m))+"g")),m.lastIndex=0;V=m.exec(j);)var B=V.index;N=N.slice(0,B===t?b:B)}}else if(s.indexOf(Wn(m),b)!=b){var J=N.lastIndexOf(m);J>-1&&(N=N.slice(0,J))}return N+p}function ZP(s){return s=rt(s),s&&sx.test(s)?s.replace(ED,bR):s}var KP=ca(function(s,c,d){return s+(d?" ":"")+c.toUpperCase()}),Um=YE("toUpperCase");function zC(s,c,d){return s=rt(s),c=d?t:c,c===t?_R(s)?TR(s):uR(s):s.match(c)||[]}var WC=je(function(s,c){try{return qn(s,t,c)}catch(d){return Fm(d)?d:new Me(d)}}),XP=Ti(function(s,c){return sr(c,function(d){d=ei(d),Si(s,d,km(s[d],s))}),s});function QP(s){var c=s==null?0:s.length,d=ve();return s=c?_t(s,function(p){if(typeof p[1]!="function")throw new ar(i);return[d(p[0]),p[1]]}):[],je(function(p){for(var m=-1;++m<c;){var E=s[m];if(qn(E[0],this,p))return qn(E[1],this,p)}})}function JP(s){return bN(lr(s,f))}function Bm(s){return function(){return s}}function e5(s,c){return s==null||s!==s?c:s}var t5=KE(),n5=KE(!0);function kn(s){return s}function Hm(s){return IE(typeof s=="function"?s:lr(s,f))}function r5(s){return ME(lr(s,f))}function i5(s,c){return AE(s,lr(c,f))}var o5=je(function(s,c){return function(d){return Gc(d,s,c)}}),s5=je(function(s,c){return function(d){return Gc(s,d,c)}});function Gm(s,c,d){var p=Kt(c),m=fd(c,p);d==null&&!(Et(c)&&(m.length||!p.length))&&(d=c,c=s,s=this,m=fd(c,Kt(c)));var E=!(Et(d)&&"chain"in d)||!!d.chain,C=Ai(s);return sr(m,function(b){var N=c[b];s[b]=N,C&&(s.prototype[b]=function(){var V=this.__chain__;if(E||V){var j=s(this.__wrapped__),B=j.__actions__=Rn(this.__actions__);return B.push({func:N,args:arguments,thisArg:s}),j.__chain__=V,j}return N.apply(s,fo([this.value()],arguments))})}),s}function a5(){return Zt._===this&&(Zt._=OR),this}function $m(){}function c5(s){return s=ke(s),je(function(c){return xE(c,s)})}var l5=Em(_t),u5=Em(XD),d5=Em(zg);function YC(s){return Mm(s)?Wg(ei(s)):BN(s)}function f5(s){return function(c){return s==null?t:is(s,c)}}var h5=QE(),p5=QE(!0);function qm(){return[]}function zm(){return!1}function g5(){return{}}function m5(){return""}function y5(){return!0}function v5(s,c){if(s=ke(s),s<1||s>se)return[];var d=x,p=un(s,x);c=ve(c),s-=x;for(var m=Kg(p,c);++d<s;)c(d);return m}function _5(s){return Ae(s)?_t(s,ei):Yn(s)?[s]:Rn(pC(rt(s)))}function D5(s){var c=++RR;return rt(s)+c}var E5=vd(function(s,c){return s+c},0),C5=Cm("ceil"),w5=vd(function(s,c){return s/c},1),b5=Cm("floor");function S5(s){return s&&s.length?dd(s,kn,am):t}function I5(s,c){return s&&s.length?dd(s,ve(c,2),am):t}function T5(s){return eE(s,kn)}function M5(s,c){return eE(s,ve(c,2))}function A5(s){return s&&s.length?dd(s,kn,dm):t}function x5(s,c){return s&&s.length?dd(s,ve(c,2),dm):t}var R5=vd(function(s,c){return s*c},1),N5=Cm("round"),O5=vd(function(s,c){return s-c},0);function k5(s){return s&&s.length?Zg(s,kn):0}function P5(s,c){return s&&s.length?Zg(s,ve(c,2)):0}return _.after=rk,_.ary=SC,_.assign=$k,_.assignIn=jC,_.assignInWith=Rd,_.assignWith=qk,_.at=zk,_.before=IC,_.bind=km,_.bindAll=XP,_.bindKey=TC,_.castArray=gk,_.chain=CC,_.chunk=bO,_.compact=SO,_.concat=IO,_.cond=QP,_.conforms=JP,_.constant=Bm,_.countBy=k3,_.create=Wk,_.curry=MC,_.curryRight=AC,_.debounce=xC,_.defaults=Yk,_.defaultsDeep=Zk,_.defer=ik,_.delay=ok,_.difference=TO,_.differenceBy=MO,_.differenceWith=AO,_.drop=xO,_.dropRight=RO,_.dropRightWhile=NO,_.dropWhile=OO,_.fill=kO,_.filter=F3,_.flatMap=j3,_.flatMapDeep=U3,_.flatMapDepth=B3,_.flatten=vC,_.flattenDeep=PO,_.flattenDepth=FO,_.flip=sk,_.flow=t5,_.flowRight=n5,_.fromPairs=LO,_.functions=nP,_.functionsIn=rP,_.groupBy=H3,_.initial=jO,_.intersection=UO,_.intersectionBy=BO,_.intersectionWith=HO,_.invert=oP,_.invertBy=sP,_.invokeMap=$3,_.iteratee=Hm,_.keyBy=q3,_.keys=Kt,_.keysIn=On,_.map=Sd,_.mapKeys=cP,_.mapValues=lP,_.matches=r5,_.matchesProperty=i5,_.memoize=Td,_.merge=uP,_.mergeWith=UC,_.method=o5,_.methodOf=s5,_.mixin=Gm,_.negate=Md,_.nthArg=c5,_.omit=dP,_.omitBy=fP,_.once=ak,_.orderBy=z3,_.over=l5,_.overArgs=ck,_.overEvery=u5,_.overSome=d5,_.partial=Pm,_.partialRight=RC,_.partition=W3,_.pick=hP,_.pickBy=BC,_.property=YC,_.propertyOf=f5,_.pull=zO,_.pullAll=DC,_.pullAllBy=WO,_.pullAllWith=YO,_.pullAt=ZO,_.range=h5,_.rangeRight=p5,_.rearg=lk,_.reject=K3,_.remove=KO,_.rest=uk,_.reverse=Nm,_.sampleSize=Q3,_.set=gP,_.setWith=mP,_.shuffle=J3,_.slice=XO,_.sortBy=nk,_.sortedUniq=i3,_.sortedUniqBy=o3,_.split=jP,_.spread=dk,_.tail=s3,_.take=a3,_.takeRight=c3,_.takeRightWhile=l3,_.takeWhile=u3,_.tap=S3,_.throttle=fk,_.thru=bd,_.toArray=FC,_.toPairs=HC,_.toPairsIn=GC,_.toPath=_5,_.toPlainObject=VC,_.transform=yP,_.unary=hk,_.union=d3,_.unionBy=f3,_.unionWith=h3,_.uniq=p3,_.uniqBy=g3,_.uniqWith=m3,_.unset=vP,_.unzip=Om,_.unzipWith=EC,_.update=_P,_.updateWith=DP,_.values=da,_.valuesIn=EP,_.without=y3,_.words=zC,_.wrap=pk,_.xor=v3,_.xorBy=_3,_.xorWith=D3,_.zip=E3,_.zipObject=C3,_.zipObjectDeep=w3,_.zipWith=b3,_.entries=HC,_.entriesIn=GC,_.extend=jC,_.extendWith=Rd,Gm(_,_),_.add=E5,_.attempt=WC,_.camelCase=SP,_.capitalize=$C,_.ceil=C5,_.clamp=CP,_.clone=mk,_.cloneDeep=vk,_.cloneDeepWith=_k,_.cloneWith=yk,_.conformsTo=Dk,_.deburr=qC,_.defaultTo=e5,_.divide=w5,_.endsWith=IP,_.eq=Nr,_.escape=TP,_.escapeRegExp=MP,_.every=P3,_.find=L3,_.findIndex=mC,_.findKey=Kk,_.findLast=V3,_.findLastIndex=yC,_.findLastKey=Xk,_.floor=b5,_.forEach=wC,_.forEachRight=bC,_.forIn=Qk,_.forInRight=Jk,_.forOwn=eP,_.forOwnRight=tP,_.get=Vm,_.gt=Ek,_.gte=Ck,_.has=iP,_.hasIn=jm,_.head=_C,_.identity=kn,_.includes=G3,_.indexOf=VO,_.inRange=wP,_.invoke=aP,_.isArguments=as,_.isArray=Ae,_.isArrayBuffer=wk,_.isArrayLike=Nn,_.isArrayLikeObject=At,_.isBoolean=bk,_.isBuffer=Do,_.isDate=Sk,_.isElement=Ik,_.isEmpty=Tk,_.isEqual=Mk,_.isEqualWith=Ak,_.isError=Fm,_.isFinite=xk,_.isFunction=Ai,_.isInteger=NC,_.isLength=Ad,_.isMap=OC,_.isMatch=Rk,_.isMatchWith=Nk,_.isNaN=Ok,_.isNative=kk,_.isNil=Fk,_.isNull=Pk,_.isNumber=kC,_.isObject=Et,_.isObjectLike=St,_.isPlainObject=Zc,_.isRegExp=Lm,_.isSafeInteger=Lk,_.isSet=PC,_.isString=xd,_.isSymbol=Yn,_.isTypedArray=ua,_.isUndefined=Vk,_.isWeakMap=jk,_.isWeakSet=Uk,_.join=GO,_.kebabCase=AP,_.last=dr,_.lastIndexOf=$O,_.lowerCase=xP,_.lowerFirst=RP,_.lt=Bk,_.lte=Hk,_.max=S5,_.maxBy=I5,_.mean=T5,_.meanBy=M5,_.min=A5,_.minBy=x5,_.stubArray=qm,_.stubFalse=zm,_.stubObject=g5,_.stubString=m5,_.stubTrue=y5,_.multiply=R5,_.nth=qO,_.noConflict=a5,_.noop=$m,_.now=Id,_.pad=NP,_.padEnd=OP,_.padStart=kP,_.parseInt=PP,_.random=bP,_.reduce=Y3,_.reduceRight=Z3,_.repeat=FP,_.replace=LP,_.result=pP,_.round=N5,_.runInContext=R,_.sample=X3,_.size=ek,_.snakeCase=VP,_.some=tk,_.sortedIndex=QO,_.sortedIndexBy=JO,_.sortedIndexOf=e3,_.sortedLastIndex=t3,_.sortedLastIndexBy=n3,_.sortedLastIndexOf=r3,_.startCase=UP,_.startsWith=BP,_.subtract=O5,_.sum=k5,_.sumBy=P5,_.template=HP,_.times=v5,_.toFinite=xi,_.toInteger=ke,_.toLength=LC,_.toLower=GP,_.toNumber=fr,_.toSafeInteger=Gk,_.toString=rt,_.toUpper=$P,_.trim=qP,_.trimEnd=zP,_.trimStart=WP,_.truncate=YP,_.unescape=ZP,_.uniqueId=D5,_.upperCase=KP,_.upperFirst=Um,_.each=wC,_.eachRight=bC,_.first=_C,Gm(_,(function(){var s={};return Qr(_,function(c,d){at.call(_.prototype,d)||(s[d]=c)}),s})(),{chain:!1}),_.VERSION=e,sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){_[s].placeholder=_}),sr(["drop","take"],function(s,c){Ye.prototype[s]=function(d){d=d===t?1:Ut(ke(d),0);var p=this.__filtered__&&!c?new Ye(this):this.clone();return p.__filtered__?p.__takeCount__=un(d,p.__takeCount__):p.__views__.push({size:un(d,x),type:s+(p.__dir__<0?"Right":"")}),p},Ye.prototype[s+"Right"]=function(d){return this.reverse()[s](d).reverse()}}),sr(["filter","map","takeWhile"],function(s,c){var d=c+1,p=d==q||d==Je;Ye.prototype[s]=function(m){var E=this.clone();return E.__iteratees__.push({iteratee:ve(m,3),type:d}),E.__filtered__=E.__filtered__||p,E}}),sr(["head","last"],function(s,c){var d="take"+(c?"Right":"");Ye.prototype[s]=function(){return this[d](1).value()[0]}}),sr(["initial","tail"],function(s,c){var d="drop"+(c?"":"Right");Ye.prototype[s]=function(){return this.__filtered__?new Ye(this):this[d](1)}}),Ye.prototype.compact=function(){return this.filter(kn)},Ye.prototype.find=function(s){return this.filter(s).head()},Ye.prototype.findLast=function(s){return this.reverse().find(s)},Ye.prototype.invokeMap=je(function(s,c){return typeof s=="function"?new Ye(this):this.map(function(d){return Gc(d,s,c)})}),Ye.prototype.reject=function(s){return this.filter(Md(ve(s)))},Ye.prototype.slice=function(s,c){s=ke(s);var d=this;return d.__filtered__&&(s>0||c<0)?new Ye(d):(s<0?d=d.takeRight(-s):s&&(d=d.drop(s)),c!==t&&(c=ke(c),d=c<0?d.dropRight(-c):d.take(c-s)),d)},Ye.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Ye.prototype.toArray=function(){return this.take(x)},Qr(Ye.prototype,function(s,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),p=/^(?:head|last)$/.test(c),m=_[p?"take"+(c=="last"?"Right":""):c],E=p||/^find/.test(c);m&&(_.prototype[c]=function(){var C=this.__wrapped__,b=p?[1]:arguments,N=C instanceof Ye,V=b[0],j=N||Ae(C),B=function($e){var Xe=m.apply(_,fo([$e],b));return p&&J?Xe[0]:Xe};j&&d&&typeof V=="function"&&V.length!=1&&(N=j=!1);var J=this.__chain__,ue=!!this.__actions__.length,De=E&&!J,Ve=N&&!ue;if(!E&&j){C=Ve?C:new Ye(this);var Ee=s.apply(C,b);return Ee.__actions__.push({func:bd,args:[B],thisArg:t}),new cr(Ee,J)}return De&&Ve?s.apply(this,b):(Ee=this.thru(B),De?p?Ee.value()[0]:Ee.value():Ee)})}),sr(["pop","push","shift","sort","splice","unshift"],function(s){var c=Ku[s],d=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",p=/^(?:pop|shift)$/.test(s);_.prototype[s]=function(){var m=arguments;if(p&&!this.__chain__){var E=this.value();return c.apply(Ae(E)?E:[],m)}return this[d](function(C){return c.apply(Ae(C)?C:[],m)})}}),Qr(Ye.prototype,function(s,c){var d=_[c];if(d){var p=d.name+"";at.call(oa,p)||(oa[p]=[]),oa[p].push({name:c,func:d})}}),oa[yd(t,S).name]=[{name:"wrapper",func:t}],Ye.prototype.clone=ZR,Ye.prototype.reverse=KR,Ye.prototype.value=XR,_.prototype.at=I3,_.prototype.chain=T3,_.prototype.commit=M3,_.prototype.next=A3,_.prototype.plant=R3,_.prototype.reverse=N3,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=O3,_.prototype.first=_.prototype.head,Fc&&(_.prototype[Fc]=x3),_},po=MR();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Zt._=po,define(function(){return po})):Jo?((Jo.exports=po)._=po,Hg._=po):Zt._=po}).call(Ec)});var sA=de((dg,oA)=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.Konva=void 0;var tG=dp();Object.defineProperty(dg,"Konva",{enumerable:!0,get:function(){return tG.Konva}});var nG=dp();oA.exports=nG.Konva});var ti=globalThis;function hr(t){return(ti.__Zone_symbol_prefix||"__zone_symbol__")+t}function G5(){let t=ti.performance;function e(se){t&&t.mark&&t.mark(se)}function n(se,re){t&&t.measure&&t.measure(se,re)}e("Zone");let r=(()=>{class se{static __symbol__=hr;static assertZonePatched(){if(ti.Promise!==W.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let I=se.current;for(;I.parent;)I=I.parent;return I}static get current(){return q.zone}static get currentTask(){return ee}static __load_patch(I,x,te=!1){if(W.hasOwnProperty(I)){let ce=ti[hr("forceDuplicateZoneCheck")]===!0;if(!te&&ce)throw Error("Already loaded patch: "+I)}else if(!ti["__Zone_disable_"+I]){let ce="Zone:"+I;e(ce),W[I]=x(ti,se,Q),n(ce,ce)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(I,x){this._parent=I,this._name=x?x.name||"unnamed":"<root>",this._properties=x&&x.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,x)}get(I){let x=this.getZoneWith(I);if(x)return x._properties[I]}getZoneWith(I){let x=this;for(;x;){if(x._properties.hasOwnProperty(I))return x;x=x._parent}return null}fork(I){if(!I)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,I)}wrap(I,x){if(typeof I!="function")throw new Error("Expecting function got: "+I);let te=this._zoneDelegate.intercept(this,I,x),ce=this;return function(){return ce.runGuarded(te,this,arguments,x)}}run(I,x,te,ce){q={parent:q,zone:this};try{return this._zoneDelegate.invoke(this,I,x,te,ce)}finally{q=q.parent}}runGuarded(I,x=null,te,ce){q={parent:q,zone:this};try{try{return this._zoneDelegate.invoke(this,I,x,te,ce)}catch(Le){if(this._zoneDelegate.handleError(this,Le))throw Le}}finally{q=q.parent}}runTask(I,x,te){if(I.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(I.zone||w).name+"; Execution: "+this.name+")");let ce=I,{type:Le,data:{isPeriodic:ge=!1,isRefreshable:$n=!1}={}}=I;if(I.state===M&&(Le===fe||Le===G))return;let Ar=I.state!=O;Ar&&ce._transitionTo(O,T);let mn=ee;ee=ce,q={parent:q,zone:this};try{Le==G&&I.data&&!ge&&!$n&&(I.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,ce,x,te)}catch(en){if(this._zoneDelegate.handleError(this,en))throw en}}finally{let en=I.state;if(en!==M&&en!==U)if(Le==fe||ge||$n&&en===A)Ar&&ce._transitionTo(T,O,A);else{let X=ce._zoneDelegates;this._updateTaskCount(ce,-1),Ar&&ce._transitionTo(M,O,M),$n&&(ce._zoneDelegates=X)}q=q.parent,ee=mn}}scheduleTask(I){if(I.zone&&I.zone!==this){let te=this;for(;te;){if(te===I.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${I.zone.name}`);te=te.parent}}I._transitionTo(A,M);let x=[];I._zoneDelegates=x,I._zone=this;try{I=this._zoneDelegate.scheduleTask(this,I)}catch(te){throw I._transitionTo(U,A,M),this._zoneDelegate.handleError(this,te),te}return I._zoneDelegates===x&&this._updateTaskCount(I,1),I.state==A&&I._transitionTo(T,A),I}scheduleMicroTask(I,x,te,ce){return this.scheduleTask(new a(Y,I,x,te,ce,void 0))}scheduleMacroTask(I,x,te,ce,Le){return this.scheduleTask(new a(G,I,x,te,ce,Le))}scheduleEventTask(I,x,te,ce,Le){return this.scheduleTask(new a(fe,I,x,te,ce,Le))}cancelTask(I){if(I.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(I.zone||w).name+"; Execution: "+this.name+")");if(!(I.state!==T&&I.state!==O)){I._transitionTo(L,T,O);try{this._zoneDelegate.cancelTask(this,I)}catch(x){throw I._transitionTo(U,L),this._zoneDelegate.handleError(this,x),x}return this._updateTaskCount(I,-1),I._transitionTo(M,L),I.runCount=-1,I}}_updateTaskCount(I,x){let te=I._zoneDelegates;x==-1&&(I._zoneDelegates=null);for(let ce=0;ce<te.length;ce++)te[ce]._updateTaskCount(I.type,x)}}return se})(),i={name:"",onHasTask:(se,re,I,x)=>se.hasTask(I,x),onScheduleTask:(se,re,I,x)=>se.scheduleTask(I,x),onInvokeTask:(se,re,I,x,te,ce)=>se.invokeTask(I,x,te,ce),onCancelTask:(se,re,I,x)=>se.cancelTask(I,x)};class o{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(re,I,x){this._zone=re,this._parentDelegate=I,this._forkZS=x&&(x&&x.onFork?x:I._forkZS),this._forkDlgt=x&&(x.onFork?I:I._forkDlgt),this._forkCurrZone=x&&(x.onFork?this._zone:I._forkCurrZone),this._interceptZS=x&&(x.onIntercept?x:I._interceptZS),this._interceptDlgt=x&&(x.onIntercept?I:I._interceptDlgt),this._interceptCurrZone=x&&(x.onIntercept?this._zone:I._interceptCurrZone),this._invokeZS=x&&(x.onInvoke?x:I._invokeZS),this._invokeDlgt=x&&(x.onInvoke?I:I._invokeDlgt),this._invokeCurrZone=x&&(x.onInvoke?this._zone:I._invokeCurrZone),this._handleErrorZS=x&&(x.onHandleError?x:I._handleErrorZS),this._handleErrorDlgt=x&&(x.onHandleError?I:I._handleErrorDlgt),this._handleErrorCurrZone=x&&(x.onHandleError?this._zone:I._handleErrorCurrZone),this._scheduleTaskZS=x&&(x.onScheduleTask?x:I._scheduleTaskZS),this._scheduleTaskDlgt=x&&(x.onScheduleTask?I:I._scheduleTaskDlgt),this._scheduleTaskCurrZone=x&&(x.onScheduleTask?this._zone:I._scheduleTaskCurrZone),this._invokeTaskZS=x&&(x.onInvokeTask?x:I._invokeTaskZS),this._invokeTaskDlgt=x&&(x.onInvokeTask?I:I._invokeTaskDlgt),this._invokeTaskCurrZone=x&&(x.onInvokeTask?this._zone:I._invokeTaskCurrZone),this._cancelTaskZS=x&&(x.onCancelTask?x:I._cancelTaskZS),this._cancelTaskDlgt=x&&(x.onCancelTask?I:I._cancelTaskDlgt),this._cancelTaskCurrZone=x&&(x.onCancelTask?this._zone:I._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let te=x&&x.onHasTask,ce=I&&I._hasTaskZS;(te||ce)&&(this._hasTaskZS=te?x:i,this._hasTaskDlgt=I,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,x.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=I,this._scheduleTaskCurrZone=this._zone),x.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=I,this._invokeTaskCurrZone=this._zone),x.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=I,this._cancelTaskCurrZone=this._zone))}fork(re,I){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,re,I):new r(re,I)}intercept(re,I,x){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,re,I,x):I}invoke(re,I,x,te,ce){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,re,I,x,te,ce):I.apply(x,te)}handleError(re,I){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,re,I):!0}scheduleTask(re,I){let x=I;if(this._scheduleTaskZS)this._hasTaskZS&&x._zoneDelegates.push(this._hasTaskDlgtOwner),x=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,re,I),x||(x=I);else if(I.scheduleFn)I.scheduleFn(I);else if(I.type==Y)D(I);else throw new Error("Task is missing scheduleFn.");return x}invokeTask(re,I,x,te){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,re,I,x,te):I.callback.apply(x,te)}cancelTask(re,I){let x;if(this._cancelTaskZS)x=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,re,I);else{if(!I.cancelFn)throw Error("Task is not cancelable");x=I.cancelFn(I)}return x}hasTask(re,I){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,re,I)}catch(x){this.handleError(re,x)}}_updateTaskCount(re,I){let x=this._taskCounts,te=x[re],ce=x[re]=te+I;if(ce<0)throw new Error("More tasks executed then were scheduled.");if(te==0||ce==0){let Le={microTask:x.microTask>0,macroTask:x.macroTask>0,eventTask:x.eventTask>0,change:re};this.hasTask(this._zone,Le)}}}class a{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(re,I,x,te,ce,Le){if(this.type=re,this.source=I,this.data=te,this.scheduleFn=ce,this.cancelFn=Le,!x)throw new Error("callback is not defined");this.callback=x;let ge=this;re===fe&&te&&te.useG?this.invoke=a.invokeTask:this.invoke=function(){return a.invokeTask.call(ti,ge,this,arguments)}}static invokeTask(re,I,x){re||(re=this),Je++;try{return re.runCount++,re.zone.runTask(re,I,x)}finally{Je==1&&S(),Je--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(M,A)}_transitionTo(re,I,x){if(this._state===I||this._state===x)this._state=re,re==M&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${re}', expecting state '${I}'${x?" or '"+x+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let l=hr("setTimeout"),u=hr("Promise"),f=hr("then"),h=[],g=!1,y;function v(se){if(y||ti[u]&&(y=ti[u].resolve(0)),y){let re=y[f];re||(re=y.then),re.call(y,se)}else ti[l](se,0)}function D(se){Je===0&&h.length===0&&v(S),se&&h.push(se)}function S(){if(!g){for(g=!0;h.length;){let se=h;h=[];for(let re=0;re<se.length;re++){let I=se[re];try{I.zone.runTask(I,null,null)}catch(x){Q.onUnhandledError(x)}}}Q.microtaskDrainDone(),g=!1}}let w={name:"NO ZONE"},M="notScheduled",A="scheduling",T="scheduled",O="running",L="canceling",U="unknown",Y="microTask",G="macroTask",fe="eventTask",W={},Q={symbol:hr,currentZoneFrame:()=>q,onUnhandledError:we,microtaskDrainDone:we,scheduleMicroTask:D,showUncaughtError:()=>!r[hr("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:we,patchMethod:()=>we,bindArguments:()=>[],patchThen:()=>we,patchMacroTask:()=>we,patchEventPrototype:()=>we,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>we,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>we,wrapWithCurrentZone:()=>we,filterProperties:()=>[],attachOriginToPatched:()=>we,_redefineProperty:()=>we,patchCallbacks:()=>we,nativeScheduleMicroTask:v},q={parent:null,zone:new r(null,null)},ee=null,Je=0;function we(){}return n("Zone","Zone"),r}function $5(){let t=globalThis,e=t[hr("forceDuplicateZoneCheck")]===!0;if(t.Zone&&(e||typeof t.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return t.Zone??=G5(),t.Zone}var Xc=Object.getOwnPropertyDescriptor,e0=Object.defineProperty,t0=Object.getPrototypeOf,q5=Object.create,z5=Array.prototype.slice,n0="addEventListener",r0="removeEventListener",Km=hr(n0),Xm=hr(r0),Ni="true",Oi="false",Qc=hr("");function i0(t,e){return Zone.current.wrap(t,e)}function o0(t,e,n,r,i){return Zone.current.scheduleMacroTask(t,e,n,r,i)}var it=hr,Pd=typeof window<"u",Jc=Pd?window:void 0,Bt=Pd&&Jc||globalThis,W5="removeAttribute";function s0(t,e){for(let n=t.length-1;n>=0;n--)typeof t[n]=="function"&&(t[n]=i0(t[n],e+"_"+n));return t}function Y5(t,e){let n=t.constructor.name;for(let r=0;r<e.length;r++){let i=e[r],o=t[i];if(o){let a=Xc(t,i);if(!iw(a))continue;t[i]=(l=>{let u=function(){return l.apply(this,s0(arguments,n+"."+i))};return Pi(u,l),u})(o)}}}function iw(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}var ow=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Fd=!("nw"in Bt)&&typeof Bt.process<"u"&&Bt.process.toString()==="[object process]",a0=!Fd&&!ow&&!!(Pd&&Jc.HTMLElement),sw=typeof Bt.process<"u"&&Bt.process.toString()==="[object process]"&&!ow&&!!(Pd&&Jc.HTMLElement),kd={},Z5=it("enable_beforeunload"),QC=function(t){if(t=t||Bt.event,!t)return;let e=kd[t.type];e||(e=kd[t.type]=it("ON_PROPERTY"+t.type));let n=this||t.target||Bt,r=n[e],i;if(a0&&n===Jc&&t.type==="error"){let o=t;i=r&&r.call(this,o.message,o.filename,o.lineno,o.colno,o.error),i===!0&&t.preventDefault()}else i=r&&r.apply(this,arguments),t.type==="beforeunload"&&Bt[Z5]&&typeof i=="string"?t.returnValue=i:i!=null&&!i&&t.preventDefault();return i};function JC(t,e,n){let r=Xc(t,e);if(!r&&n&&Xc(n,e)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let i=it("on"+e+"patched");if(t.hasOwnProperty(i)&&t[i])return;delete r.writable,delete r.value;let o=r.get,a=r.set,l=e.slice(2),u=kd[l];u||(u=kd[l]=it("ON_PROPERTY"+l)),r.set=function(f){let h=this;if(!h&&t===Bt&&(h=Bt),!h)return;typeof h[u]=="function"&&h.removeEventListener(l,QC),a?.call(h,null),h[u]=f,typeof f=="function"&&h.addEventListener(l,QC,!1)},r.get=function(){let f=this;if(!f&&t===Bt&&(f=Bt),!f)return null;let h=f[u];if(h)return h;if(o){let g=o.call(this);if(g)return r.set.call(this,g),typeof f[W5]=="function"&&f.removeAttribute(e),g}return null},e0(t,e,r),t[i]=!0}function aw(t,e,n){if(e)for(let r=0;r<e.length;r++)JC(t,"on"+e[r],n);else{let r=[];for(let i in t)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)JC(t,r[i],n)}}var kr=it("originalInstance");function Kc(t){let e=Bt[t];if(!e)return;Bt[it(t)]=e,Bt[t]=function(){let i=s0(arguments,t);switch(i.length){case 0:this[kr]=new e;break;case 1:this[kr]=new e(i[0]);break;case 2:this[kr]=new e(i[0],i[1]);break;case 3:this[kr]=new e(i[0],i[1],i[2]);break;case 4:this[kr]=new e(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},Pi(Bt[t],e);let n=new e(function(){}),r;for(r in n)t==="XMLHttpRequest"&&r==="responseBlob"||(function(i){typeof n[i]=="function"?Bt[t].prototype[i]=function(){return this[kr][i].apply(this[kr],arguments)}:e0(Bt[t].prototype,i,{set:function(o){typeof o=="function"?(this[kr][i]=i0(o,t+"."+i),Pi(this[kr][i],o)):this[kr][i]=o},get:function(){return this[kr][i]}})})(r);for(r in e)r!=="prototype"&&e.hasOwnProperty(r)&&(Bt[t][r]=e[r])}function ki(t,e,n){let r=t;for(;r&&!r.hasOwnProperty(e);)r=t0(r);!r&&t[e]&&(r=t);let i=it(e),o=null;if(r&&(!(o=r[i])||!r.hasOwnProperty(i))){o=r[i]=r[e];let a=r&&Xc(r,e);if(iw(a)){let l=n(o,i,e);r[e]=function(){return l(this,arguments)},Pi(r[e],o)}}return o}function K5(t,e,n){let r=null;function i(o){let a=o.data;return a.args[a.cbIdx]=function(){o.invoke.apply(this,arguments)},r.apply(a.target,a.args),o}r=ki(t,e,o=>function(a,l){let u=n(a,l);return u.cbIdx>=0&&typeof l[u.cbIdx]=="function"?o0(u.name,l[u.cbIdx],u,i):o.apply(a,l)})}function Pi(t,e){t[it("OriginalDelegate")]=e}var ew=!1,Qm=!1;function X5(){if(ew)return Qm;ew=!0;try{let t=Jc.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(Qm=!0)}catch{}return Qm}function tw(t){return typeof t=="function"}function nw(t){return typeof t=="number"}var Q5={useG:!0},pr={},cw={},lw=new RegExp("^"+Qc+"(\\w+)(true|false)$"),uw=it("propagationStopped");function dw(t,e){let n=(e?e(t):t)+Oi,r=(e?e(t):t)+Ni,i=Qc+n,o=Qc+r;pr[t]={},pr[t][Oi]=i,pr[t][Ni]=o}function J5(t,e,n,r){let i=r&&r.add||n0,o=r&&r.rm||r0,a=r&&r.listeners||"eventListeners",l=r&&r.rmAll||"removeAllListeners",u=it(i),f="."+i+":",h="prependListener",g="."+h+":",y=function(A,T,O){if(A.isRemoved)return;let L=A.callback;typeof L=="object"&&L.handleEvent&&(A.callback=G=>L.handleEvent(G),A.originalDelegate=L);let U;try{A.invoke(A,T,[O])}catch(G){U=G}let Y=A.options;if(Y&&typeof Y=="object"&&Y.once){let G=A.originalDelegate?A.originalDelegate:A.callback;T[o].call(T,O.type,G,Y)}return U};function v(A,T,O){if(T=T||t.event,!T)return;let L=A||T.target||t,U=L[pr[T.type][O?Ni:Oi]];if(U){let Y=[];if(U.length===1){let G=y(U[0],L,T);G&&Y.push(G)}else{let G=U.slice();for(let fe=0;fe<G.length&&!(T&&T[uw]===!0);fe++){let W=y(G[fe],L,T);W&&Y.push(W)}}if(Y.length===1)throw Y[0];for(let G=0;G<Y.length;G++){let fe=Y[G];e.nativeScheduleMicroTask(()=>{throw fe})}}}let D=function(A){return v(this,A,!1)},S=function(A){return v(this,A,!0)};function w(A,T){if(!A)return!1;let O=!0;T&&T.useG!==void 0&&(O=T.useG);let L=T&&T.vh,U=!0;T&&T.chkDup!==void 0&&(U=T.chkDup);let Y=!1;T&&T.rt!==void 0&&(Y=T.rt);let G=A;for(;G&&!G.hasOwnProperty(i);)G=t0(G);if(!G&&A[i]&&(G=A),!G||G[u])return!1;let fe=T&&T.eventNameToString,W={},Q=G[u]=G[i],q=G[it(o)]=G[o],ee=G[it(a)]=G[a],Je=G[it(l)]=G[l],we;T&&T.prepend&&(we=G[it(T.prepend)]=G[T.prepend]);function se(k,Z){return Z?typeof k=="boolean"?{capture:k,passive:!0}:k?typeof k=="object"&&k.passive!==!1?Ce(H({},k),{passive:!0}):k:{passive:!0}:k}let re=function(k){if(!W.isExisting)return Q.call(W.target,W.eventName,W.capture?S:D,W.options)},I=function(k){if(!k.isRemoved){let Z=pr[k.eventName],ie;Z&&(ie=Z[k.capture?Ni:Oi]);let ye=ie&&k.target[ie];if(ye){for(let he=0;he<ye.length;he++)if(ye[he]===k){ye.splice(he,1),k.isRemoved=!0,k.removeAbortListener&&(k.removeAbortListener(),k.removeAbortListener=null),ye.length===0&&(k.allRemoved=!0,k.target[ie]=null);break}}}if(k.allRemoved)return q.call(k.target,k.eventName,k.capture?S:D,k.options)},x=function(k){return Q.call(W.target,W.eventName,k.invoke,W.options)},te=function(k){return we.call(W.target,W.eventName,k.invoke,W.options)},ce=function(k){return q.call(k.target,k.eventName,k.invoke,k.options)},Le=O?re:x,ge=O?I:ce,$n=function(k,Z){let ie=typeof Z;return ie==="function"&&k.callback===Z||ie==="object"&&k.originalDelegate===Z},Ar=T?.diff||$n,mn=Zone[it("UNPATCHED_EVENTS")],en=t[it("PASSIVE_EVENTS")];function X(k){if(typeof k=="object"&&k!==null){let Z=H({},k);return k.signal&&(Z.signal=k.signal),Z}return k}let z=function(k,Z,ie,ye,he=!1,_e=!1){return function(){let Ne=this||t,Oe=arguments[0];T&&T.transferEventName&&(Oe=T.transferEventName(Oe));let et=arguments[1];if(!et)return k.apply(this,arguments);if(Fd&&Oe==="uncaughtException")return k.apply(this,arguments);let Be=!1;if(typeof et!="function"){if(!et.handleEvent)return k.apply(this,arguments);Be=!0}if(L&&!L(k,et,Ne,arguments))return;let An=!!en&&en.indexOf(Oe)!==-1,yn=X(se(arguments[2],An)),co=yn?.signal;if(co?.aborted)return;if(mn){for(let xn=0;xn<mn.length;xn++)if(Oe===mn[xn])return An?k.call(Ne,Oe,et,yn):k.apply(this,arguments)}let Ei=yn?typeof yn=="boolean"?!0:yn.capture:!1,Gu=yn&&typeof yn=="object"?yn.once:!1,Qo=Zone.current,Kr=pr[Oe];Kr||(dw(Oe,fe),Kr=pr[Oe]);let Zs=Kr[Ei?Ni:Oi],Xr=Ne[Zs],Ks=!1;if(Xr){if(Ks=!0,U){for(let xn=0;xn<Xr.length;xn++)if(Ar(Xr[xn],et))return}}else Xr=Ne[Zs]=[];let lo,Xs=Ne.constructor.name,Qs=cw[Xs];Qs&&(lo=Qs[Oe]),lo||(lo=Xs+Z+(fe?fe(Oe):Oe)),W.options=yn,Gu&&(W.options.once=!1),W.target=Ne,W.capture=Ei,W.eventName=Oe,W.isExisting=Ks;let Ci=O?Q5:void 0;Ci&&(Ci.taskData=W),co&&(W.options.signal=void 0);let vn=Qo.scheduleEventTask(lo,et,Ci,ie,ye);if(co){W.options.signal=co;let xn=()=>vn.zone.cancelTask(vn);k.call(co,"abort",xn,{once:!0}),vn.removeAbortListener=()=>co.removeEventListener("abort",xn)}if(W.target=null,Ci&&(Ci.taskData=null),Gu&&(W.options.once=!0),typeof vn.options!="boolean"&&(vn.options=yn),vn.target=Ne,vn.capture=Ei,vn.eventName=Oe,Be&&(vn.originalDelegate=et),_e?Xr.unshift(vn):Xr.push(vn),he)return Ne}};return G[i]=z(Q,f,Le,ge,Y),we&&(G[h]=z(we,g,te,ge,Y,!0)),G[o]=function(){let k=this||t,Z=arguments[0];T&&T.transferEventName&&(Z=T.transferEventName(Z));let ie=arguments[2],ye=ie?typeof ie=="boolean"?!0:ie.capture:!1,he=arguments[1];if(!he)return q.apply(this,arguments);if(L&&!L(q,he,k,arguments))return;let _e=pr[Z],Ne;_e&&(Ne=_e[ye?Ni:Oi]);let Oe=Ne&&k[Ne];if(Oe)for(let et=0;et<Oe.length;et++){let Be=Oe[et];if(Ar(Be,he)){if(Oe.splice(et,1),Be.isRemoved=!0,Oe.length===0&&(Be.allRemoved=!0,k[Ne]=null,!ye&&typeof Z=="string")){let An=Qc+"ON_PROPERTY"+Z;k[An]=null}return Be.zone.cancelTask(Be),Y?k:void 0}}return q.apply(this,arguments)},G[a]=function(){let k=this||t,Z=arguments[0];T&&T.transferEventName&&(Z=T.transferEventName(Z));let ie=[],ye=fw(k,fe?fe(Z):Z);for(let he=0;he<ye.length;he++){let _e=ye[he],Ne=_e.originalDelegate?_e.originalDelegate:_e.callback;ie.push(Ne)}return ie},G[l]=function(){let k=this||t,Z=arguments[0];if(Z){T&&T.transferEventName&&(Z=T.transferEventName(Z));let ie=pr[Z];if(ie){let ye=ie[Oi],he=ie[Ni],_e=k[ye],Ne=k[he];if(_e){let Oe=_e.slice();for(let et=0;et<Oe.length;et++){let Be=Oe[et],An=Be.originalDelegate?Be.originalDelegate:Be.callback;this[o].call(this,Z,An,Be.options)}}if(Ne){let Oe=Ne.slice();for(let et=0;et<Oe.length;et++){let Be=Oe[et],An=Be.originalDelegate?Be.originalDelegate:Be.callback;this[o].call(this,Z,An,Be.options)}}}}else{let ie=Object.keys(k);for(let ye=0;ye<ie.length;ye++){let he=ie[ye],_e=lw.exec(he),Ne=_e&&_e[1];Ne&&Ne!=="removeListener"&&this[l].call(this,Ne)}this[l].call(this,"removeListener")}if(Y)return this},Pi(G[i],Q),Pi(G[o],q),Je&&Pi(G[l],Je),ee&&Pi(G[a],ee),!0}let M=[];for(let A=0;A<n.length;A++)M[A]=w(n[A],r);return M}function fw(t,e){if(!e){let o=[];for(let a in t){let l=lw.exec(a),u=l&&l[1];if(u&&(!e||u===e)){let f=t[a];if(f)for(let h=0;h<f.length;h++)o.push(f[h])}}return o}let n=pr[e];n||(dw(e),n=pr[e]);let r=t[n[Oi]],i=t[n[Ni]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function e4(t,e){let n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",r=>function(i,o){i[uw]=!0,r&&r.apply(i,o)})}function t4(t,e){e.patchMethod(t,"queueMicrotask",n=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var Od=it("zoneTask");function fa(t,e,n,r){let i=null,o=null;e+=r,n+=r;let a={};function l(f){let h=f.data;h.args[0]=function(){return f.invoke.apply(this,arguments)};let g=i.apply(t,h.args);return nw(g)?h.handleId=g:(h.handle=g,h.isRefreshable=tw(g.refresh)),f}function u(f){let{handle:h,handleId:g}=f.data;return o.call(t,h??g)}i=ki(t,e,f=>function(h,g){if(tw(g[0])){let y={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?g[1]||0:void 0,args:g},v=g[0];g[0]=function(){try{return v.apply(this,arguments)}finally{let{handle:O,handleId:L,isPeriodic:U,isRefreshable:Y}=y;!U&&!Y&&(L?delete a[L]:O&&(O[Od]=null))}};let D=o0(e,g[0],y,l,u);if(!D)return D;let{handleId:S,handle:w,isRefreshable:M,isPeriodic:A}=D.data;if(S)a[S]=D;else if(w&&(w[Od]=D,M&&!A)){let T=w.refresh;w.refresh=function(){let{zone:O,state:L}=D;return L==="notScheduled"?(D._state="scheduled",O._updateTaskCount(D,1)):L==="running"&&(D._state="scheduling"),T.call(this)}}return w??S??D}else return f.apply(t,g)}),o=ki(t,n,f=>function(h,g){let y=g[0],v;nw(y)?(v=a[y],delete a[y]):(v=y?.[Od],v?y[Od]=null:v=y),v?.type?v.cancelFn&&v.zone.cancelTask(v):f.apply(t,g)})}function n4(t,e){let{isBrowser:n,isMix:r}=e.getGlobalObjects();if(!n&&!r||!t.customElements||!("customElements"in t))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",i)}function r4(t,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:a}=e.getGlobalObjects();for(let u=0;u<n.length;u++){let f=n[u],h=f+o,g=f+i,y=a+h,v=a+g;r[f]={},r[f][o]=y,r[f][i]=v}let l=t.EventTarget;if(!(!l||!l.prototype))return e.patchEventTarget(t,e,[l&&l.prototype]),!0}function i4(t,e){e.patchEventPrototype(t,e)}function hw(t,e,n){if(!n||n.length===0)return e;let r=n.filter(o=>o.target===t);if(r.length===0)return e;let i=r[0].ignoreProperties;return e.filter(o=>i.indexOf(o)===-1)}function rw(t,e,n,r){if(!t)return;let i=hw(t,e,n);aw(t,i,r)}function Jm(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function o4(t,e){if(Fd&&!sw||Zone[t.symbol("patchEvents")])return;let n=e.__Zone_ignore_on_properties,r=[];if(a0){let i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let o=[];rw(i,Jm(i),n&&n.concat(o),t0(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){let o=e[r[i]];o?.prototype&&rw(o.prototype,Jm(o.prototype),n)}}function s4(t){t.__load_patch("legacy",e=>{let n=e[t.__symbol__("legacyPatch")];n&&n()}),t.__load_patch("timers",e=>{let r="clear";fa(e,"set",r,"Timeout"),fa(e,"set",r,"Interval"),fa(e,"set",r,"Immediate")}),t.__load_patch("requestAnimationFrame",e=>{fa(e,"request","cancel","AnimationFrame"),fa(e,"mozRequest","mozCancel","AnimationFrame"),fa(e,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(e,n)=>{let r=["alert","prompt","confirm"];for(let i=0;i<r.length;i++){let o=r[i];ki(e,o,(a,l,u)=>function(f,h){return n.current.run(a,e,h,u)})}}),t.__load_patch("EventTarget",(e,n,r)=>{i4(e,r),r4(e,r);let i=e.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(e,r,[i.prototype])}),t.__load_patch("MutationObserver",(e,n,r)=>{Kc("MutationObserver"),Kc("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(e,n,r)=>{Kc("IntersectionObserver")}),t.__load_patch("FileReader",(e,n,r)=>{Kc("FileReader")}),t.__load_patch("on_property",(e,n,r)=>{o4(r,e)}),t.__load_patch("customElements",(e,n,r)=>{n4(e,r)}),t.__load_patch("XHR",(e,n)=>{f(e);let r=it("xhrTask"),i=it("xhrSync"),o=it("xhrListener"),a=it("xhrScheduled"),l=it("xhrURL"),u=it("xhrErrorBeforeScheduled");function f(h){let g=h.XMLHttpRequest;if(!g)return;let y=g.prototype;function v(Q){return Q[r]}let D=y[Km],S=y[Xm];if(!D){let Q=h.XMLHttpRequestEventTarget;if(Q){let q=Q.prototype;D=q[Km],S=q[Xm]}}let w="readystatechange",M="scheduled";function A(Q){let q=Q.data,ee=q.target;ee[a]=!1,ee[u]=!1;let Je=ee[o];D||(D=ee[Km],S=ee[Xm]),Je&&S.call(ee,w,Je);let we=ee[o]=()=>{if(ee.readyState===ee.DONE)if(!q.aborted&&ee[a]&&Q.state===M){let re=ee[n.__symbol__("loadfalse")];if(ee.status!==0&&re&&re.length>0){let I=Q.invoke;Q.invoke=function(){let x=ee[n.__symbol__("loadfalse")];for(let te=0;te<x.length;te++)x[te]===Q&&x.splice(te,1);!q.aborted&&Q.state===M&&I.call(Q)},re.push(Q)}else Q.invoke()}else!q.aborted&&ee[a]===!1&&(ee[u]=!0)};return D.call(ee,w,we),ee[r]||(ee[r]=Q),fe.apply(ee,q.args),ee[a]=!0,Q}function T(){}function O(Q){let q=Q.data;return q.aborted=!0,W.apply(q.target,q.args)}let L=ki(y,"open",()=>function(Q,q){return Q[i]=q[2]==!1,Q[l]=q[1],L.apply(Q,q)}),U="XMLHttpRequest.send",Y=it("fetchTaskAborting"),G=it("fetchTaskScheduling"),fe=ki(y,"send",()=>function(Q,q){if(n.current[G]===!0||Q[i])return fe.apply(Q,q);{let ee={target:Q,url:Q[l],isPeriodic:!1,args:q,aborted:!1},Je=o0(U,T,ee,A,O);Q&&Q[u]===!0&&!ee.aborted&&Je.state===M&&Je.invoke()}}),W=ki(y,"abort",()=>function(Q,q){let ee=v(Q);if(ee&&typeof ee.type=="string"){if(ee.cancelFn==null||ee.data&&ee.data.aborted)return;ee.zone.cancelTask(ee)}else if(n.current[Y]===!0)return W.apply(Q,q)})}}),t.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&Y5(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(e,n)=>{function r(i){return function(o){fw(e,i).forEach(l=>{let u=e.PromiseRejectionEvent;if(u){let f=new u(i,{promise:o.promise,reason:o.rejection});l.invoke(f)}})}}e.PromiseRejectionEvent&&(n[it("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),n[it("rejectionHandledHandler")]=r("rejectionhandled"))}),t.__load_patch("queueMicrotask",(e,n,r)=>{t4(e,r)})}function a4(t){t.__load_patch("ZoneAwarePromise",(e,n,r)=>{let i=Object.getOwnPropertyDescriptor,o=Object.defineProperty;function a(X){if(X&&X.toString===Object.prototype.toString){let z=X.constructor&&X.constructor.name;return(z||"")+": "+JSON.stringify(X)}return X?X.toString():Object.prototype.toString.call(X)}let l=r.symbol,u=[],f=e[l("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,h=l("Promise"),g=l("then"),y="__creationTrace__";r.onUnhandledError=X=>{if(r.showUncaughtError()){let z=X&&X.rejection;z?console.error("Unhandled Promise rejection:",z instanceof Error?z.message:z,"; Zone:",X.zone.name,"; Task:",X.task&&X.task.source,"; Value:",z,z instanceof Error?z.stack:void 0):console.error(X)}},r.microtaskDrainDone=()=>{for(;u.length;){let X=u.shift();try{X.zone.runGuarded(()=>{throw X.throwOriginal?X.rejection:X})}catch(z){D(z)}}};let v=l("unhandledPromiseRejectionHandler");function D(X){r.onUnhandledError(X);try{let z=n[v];typeof z=="function"&&z.call(this,X)}catch{}}function S(X){return X&&typeof X.then=="function"}function w(X){return X}function M(X){return ge.reject(X)}let A=l("state"),T=l("value"),O=l("finally"),L=l("parentPromiseValue"),U=l("parentPromiseState"),Y="Promise.then",G=null,fe=!0,W=!1,Q=0;function q(X,z){return k=>{try{se(X,z,k)}catch(Z){se(X,!1,Z)}}}let ee=function(){let X=!1;return function(k){return function(){X||(X=!0,k.apply(null,arguments))}}},Je="Promise resolved with itself",we=l("currentTaskTrace");function se(X,z,k){let Z=ee();if(X===k)throw new TypeError(Je);if(X[A]===G){let ie=null;try{(typeof k=="object"||typeof k=="function")&&(ie=k&&k.then)}catch(ye){return Z(()=>{se(X,!1,ye)})(),X}if(z!==W&&k instanceof ge&&k.hasOwnProperty(A)&&k.hasOwnProperty(T)&&k[A]!==G)I(k),se(X,k[A],k[T]);else if(z!==W&&typeof ie=="function")try{ie.call(k,Z(q(X,z)),Z(q(X,!1)))}catch(ye){Z(()=>{se(X,!1,ye)})()}else{X[A]=z;let ye=X[T];if(X[T]=k,X[O]===O&&z===fe&&(X[A]=X[U],X[T]=X[L]),z===W&&k instanceof Error){let he=n.currentTask&&n.currentTask.data&&n.currentTask.data[y];he&&o(k,we,{configurable:!0,enumerable:!1,writable:!0,value:he})}for(let he=0;he<ye.length;)x(X,ye[he++],ye[he++],ye[he++],ye[he++]);if(ye.length==0&&z==W){X[A]=Q;let he=k;try{throw new Error("Uncaught (in promise): "+a(k)+(k&&k.stack?`
`+k.stack:""))}catch(_e){he=_e}f&&(he.throwOriginal=!0),he.rejection=k,he.promise=X,he.zone=n.current,he.task=n.currentTask,u.push(he),r.scheduleMicroTask()}}}return X}let re=l("rejectionHandledHandler");function I(X){if(X[A]===Q){try{let z=n[re];z&&typeof z=="function"&&z.call(this,{rejection:X[T],promise:X})}catch{}X[A]=W;for(let z=0;z<u.length;z++)X===u[z].promise&&u.splice(z,1)}}function x(X,z,k,Z,ie){I(X);let ye=X[A],he=ye?typeof Z=="function"?Z:w:typeof ie=="function"?ie:M;z.scheduleMicroTask(Y,()=>{try{let _e=X[T],Ne=!!k&&O===k[O];Ne&&(k[L]=_e,k[U]=ye);let Oe=z.run(he,void 0,Ne&&he!==M&&he!==w?[]:[_e]);se(k,!0,Oe)}catch(_e){se(k,!1,_e)}},k)}let te="function ZoneAwarePromise() { [native code] }",ce=function(){},Le=e.AggregateError;class ge{static toString(){return te}static resolve(z){return z instanceof ge?z:se(new this(null),fe,z)}static reject(z){return se(new this(null),W,z)}static withResolvers(){let z={};return z.promise=new ge((k,Z)=>{z.resolve=k,z.reject=Z}),z}static any(z){if(!z||typeof z[Symbol.iterator]!="function")return Promise.reject(new Le([],"All promises were rejected"));let k=[],Z=0;try{for(let he of z)Z++,k.push(ge.resolve(he))}catch{return Promise.reject(new Le([],"All promises were rejected"))}if(Z===0)return Promise.reject(new Le([],"All promises were rejected"));let ie=!1,ye=[];return new ge((he,_e)=>{for(let Ne=0;Ne<k.length;Ne++)k[Ne].then(Oe=>{ie||(ie=!0,he(Oe))},Oe=>{ye.push(Oe),Z--,Z===0&&(ie=!0,_e(new Le(ye,"All promises were rejected")))})})}static race(z){let k,Z,ie=new this((_e,Ne)=>{k=_e,Z=Ne});function ye(_e){k(_e)}function he(_e){Z(_e)}for(let _e of z)S(_e)||(_e=this.resolve(_e)),_e.then(ye,he);return ie}static all(z){return ge.allWithCallback(z)}static allSettled(z){return(this&&this.prototype instanceof ge?this:ge).allWithCallback(z,{thenCallback:Z=>({status:"fulfilled",value:Z}),errorCallback:Z=>({status:"rejected",reason:Z})})}static allWithCallback(z,k){let Z,ie,ye=new this((Oe,et)=>{Z=Oe,ie=et}),he=2,_e=0,Ne=[];for(let Oe of z){S(Oe)||(Oe=this.resolve(Oe));let et=_e;try{Oe.then(Be=>{Ne[et]=k?k.thenCallback(Be):Be,he--,he===0&&Z(Ne)},Be=>{k?(Ne[et]=k.errorCallback(Be),he--,he===0&&Z(Ne)):ie(Be)})}catch(Be){ie(Be)}he++,_e++}return he-=2,he===0&&Z(Ne),ye}constructor(z){let k=this;if(!(k instanceof ge))throw new Error("Must be an instanceof Promise.");k[A]=G,k[T]=[];try{let Z=ee();z&&z(Z(q(k,fe)),Z(q(k,W)))}catch(Z){se(k,!1,Z)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return ge}then(z,k){let Z=this.constructor?.[Symbol.species];(!Z||typeof Z!="function")&&(Z=this.constructor||ge);let ie=new Z(ce),ye=n.current;return this[A]==G?this[T].push(ye,ie,z,k):x(this,ye,ie,z,k),ie}catch(z){return this.then(null,z)}finally(z){let k=this.constructor?.[Symbol.species];(!k||typeof k!="function")&&(k=ge);let Z=new k(ce);Z[O]=O;let ie=n.current;return this[A]==G?this[T].push(ie,Z,z,z):x(this,ie,Z,z,z),Z}}ge.resolve=ge.resolve,ge.reject=ge.reject,ge.race=ge.race,ge.all=ge.all;let $n=e[h]=e.Promise;e.Promise=ge;let Ar=l("thenPatched");function mn(X){let z=X.prototype,k=i(z,"then");if(k&&(k.writable===!1||!k.configurable))return;let Z=z.then;z[g]=Z,X.prototype.then=function(ie,ye){return new ge((_e,Ne)=>{Z.call(this,_e,Ne)}).then(ie,ye)},X[Ar]=!0}r.patchThen=mn;function en(X){return function(z,k){let Z=X.apply(z,k);if(Z instanceof ge)return Z;let ie=Z.constructor;return ie[Ar]||mn(ie),Z}}return $n&&(mn($n),ki(e,"fetch",X=>en(X))),Promise[n.__symbol__("uncaughtPromiseErrors")]=u,ge})}function c4(t){t.__load_patch("toString",e=>{let n=Function.prototype.toString,r=it("OriginalDelegate"),i=it("Promise"),o=it("Error"),a=function(){if(typeof this=="function"){let h=this[r];if(h)return typeof h=="function"?n.call(h):Object.prototype.toString.call(h);if(this===Promise){let g=e[i];if(g)return n.call(g)}if(this===Error){let g=e[o];if(g)return n.call(g)}}return n.call(this)};a[r]=n,Function.prototype.toString=a;let l=Object.prototype.toString,u="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?u:l.call(this)}})}function l4(t,e,n,r,i){let o=Zone.__symbol__(r);if(e[o])return;let a=e[o]=e[r];e[r]=function(l,u,f){return u&&u.prototype&&i.forEach(function(h){let g=`${n}.${r}::`+h,y=u.prototype;try{if(y.hasOwnProperty(h)){let v=t.ObjectGetOwnPropertyDescriptor(y,h);v&&v.value?(v.value=t.wrapWithCurrentZone(v.value,g),t._redefineProperty(u.prototype,h,v)):y[h]&&(y[h]=t.wrapWithCurrentZone(y[h],g))}else y[h]&&(y[h]=t.wrapWithCurrentZone(y[h],g))}catch{}}),a.call(e,l,u,f)},t.attachOriginToPatched(e[r],a)}function u4(t){t.__load_patch("util",(e,n,r)=>{let i=Jm(e);r.patchOnProperties=aw,r.patchMethod=ki,r.bindArguments=s0,r.patchMacroTask=K5;let o=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[o]=e[a]),e[o]&&(n[o]=n[a]=e[o]),r.patchEventPrototype=e4,r.patchEventTarget=J5,r.isIEOrEdge=X5,r.ObjectDefineProperty=e0,r.ObjectGetOwnPropertyDescriptor=Xc,r.ObjectCreate=q5,r.ArraySlice=z5,r.patchClass=Kc,r.wrapWithCurrentZone=i0,r.filterProperties=hw,r.attachOriginToPatched=Pi,r._redefineProperty=Object.defineProperty,r.patchCallbacks=l4,r.getGlobalObjects=()=>({globalSources:cw,zoneSymbolEventNames:pr,eventNames:i,isBrowser:a0,isMix:sw,isNode:Fd,TRUE_STR:Ni,FALSE_STR:Oi,ZONE_SYMBOL_PREFIX:Qc,ADD_EVENT_LISTENER_STR:n0,REMOVE_EVENT_LISTENER_STR:r0})})}function d4(t){a4(t),c4(t),u4(t)}var pw=$5();d4(pw);s4(pw);var c0;function Ld(){return c0}function ni(t){let e=c0;return c0=t,e}var gw=Symbol("NotFound");function ha(t){return t===gw||t?.name==="\u0275NotFound"}function Hd(t,e){return Object.is(t,e)}var fn=null,Vd=!1,l0=1,f4=null,Cn=Symbol("SIGNAL");function xe(t){let e=fn;return fn=t,e}function Gd(){return fn}var cs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pa(t){if(Vd)throw new Error("");if(fn===null)return;fn.consumerOnSignalRead(t);let e=fn.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=fn.recomputing;if(r&&(n=e!==void 0?e.nextProducer:fn.producers,n!==void 0&&n.producer===t)){fn.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===fn&&(!r||p4(i,fn)))return;let o=ya(fn),a={producer:t,consumer:fn,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};fn.producersTail=a,e!==void 0?e.nextProducer=a:fn.producers=a,o&&yw(t,a)}function mw(){l0++}function $d(t){if(!(ya(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===l0)){if(!t.producerMustRecompute(t)&&!ma(t)){Bd(t);return}t.producerRecomputeValue(t),Bd(t)}}function u0(t){if(t.consumers===void 0)return;let e=Vd;Vd=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||h4(r)}}finally{Vd=e}}function d0(){return fn?.consumerAllowSignalWrites!==!1}function h4(t){t.dirty=!0,u0(t),t.consumerMarkedDirty?.(t)}function Bd(t){t.dirty=!1,t.lastCleanEpoch=l0}function ls(t){return t&&(t.producersTail=void 0,t.recomputing=!0),xe(t)}function ga(t,e){if(xe(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(ya(t))do r=f0(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function ma(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||($d(n),r!==n.version))return!0}return!1}function us(t){if(ya(t)){let e=t.producers;for(;e!==void 0;)e=f0(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function yw(t,e){let n=t.consumersTail,r=ya(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)yw(i.producer,i)}function f0(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ya(e)){let o=e.producers;for(;o!==void 0;)o=f0(o)}return n}function ya(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function qd(t){f4?.(t)}function p4(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function zd(t,e){let n=Object.create(g4);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if($d(n),pa(n),n.value===el)throw n.error;return n.value};return r[Cn]=n,qd(n),r}var jd=Symbol("UNSET"),Ud=Symbol("COMPUTING"),el=Symbol("ERRORED"),g4=Ce(H({},cs),{value:jd,dirty:!0,error:null,equal:Hd,kind:"computed",producerMustRecompute(t){return t.value===jd||t.value===Ud},producerRecomputeValue(t){if(t.value===Ud)throw new Error("");let e=t.value;t.value=Ud;let n=ls(t),r,i=!1;try{r=t.computation(),xe(null),i=e!==jd&&e!==el&&r!==el&&t.equal(e,r)}catch(o){r=el,t.error=o}finally{ga(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function m4(){throw new Error}var vw=m4;function _w(t){vw(t)}function h0(t){vw=t}var y4=null;function p0(t,e){let n=Object.create(Wd);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Dw(n);return r[Cn]=n,qd(n),[r,a=>va(n,a),a=>g0(n,a)]}function Dw(t){return pa(t),t.value}function va(t,e){d0()||_w(t),t.equal(t.value,e)||(t.value=e,v4(t))}function g0(t,e){d0()||_w(t),va(t,e(t.value))}var Wd=Ce(H({},cs),{equal:Hd,value:void 0,kind:"signal"});function v4(t){t.version++,mw(),u0(t),y4?.(t)}function Re(t){return typeof t=="function"}function _a(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Yd=_a(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ds(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var vt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Re(r))try{r()}catch(o){e=o instanceof Yd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ew(o)}catch(a){e=e??[],a instanceof Yd?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Yd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ew(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ds(n,e)}remove(e){let{_finalizers:n}=this;n&&ds(n,e),e instanceof t&&e._removeParent(this)}};vt.EMPTY=(()=>{let t=new vt;return t.closed=!0,t})();var m0=vt.EMPTY;function Zd(t){return t instanceof vt||t&&"closed"in t&&Re(t.remove)&&Re(t.add)&&Re(t.unsubscribe)}function Ew(t){Re(t)?t():t.unsubscribe()}var Pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Da={setTimeout(t,e,...n){let{delegate:r}=Da;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Da;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Kd(t){Da.setTimeout(()=>{let{onUnhandledError:e}=Pr;if(e)e(t);else throw t})}function tl(){}var Cw=y0("C",void 0,void 0);function ww(t){return y0("E",void 0,t)}function bw(t){return y0("N",t,void 0)}function y0(t,e,n){return{kind:t,value:e,error:n}}var fs=null;function Ea(t){if(Pr.useDeprecatedSynchronousErrorHandling){let e=!fs;if(e&&(fs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fs;if(fs=null,n)throw r}}else t()}function Sw(t){Pr.useDeprecatedSynchronousErrorHandling&&fs&&(fs.errorThrown=!0,fs.error=t)}var hs=class extends vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zd(e)&&e.add(this)):this.destination=E4}static create(e,n,r){return new Ca(e,n,r)}next(e){this.isStopped?_0(bw(e),this):this._next(e)}error(e){this.isStopped?_0(ww(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_0(Cw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_4=Function.prototype.bind;function v0(t,e){return _4.call(t,e)}var D0=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xd(r)}else Xd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xd(n)}}},Ca=class extends hs{constructor(e,n,r){super();let i;if(Re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Pr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&v0(e.next,o),error:e.error&&v0(e.error,o),complete:e.complete&&v0(e.complete,o)}):i=e}this.destination=new D0(i)}};function Xd(t){Pr.useDeprecatedSynchronousErrorHandling?Sw(t):Kd(t)}function D4(t){throw t}function _0(t,e){let{onStoppedNotification:n}=Pr;n&&Da.setTimeout(()=>n(t,e))}var E4={closed:!0,next:tl,error:D4,complete:tl};var wa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xn(t){return t}function E0(...t){return C0(t)}function C0(t){return t.length===0?Xn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=w4(n)?n:new Ca(n,r,i);return Ea(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Iw(r),new r((i,o)=>{let a=new Ca({next:l=>{try{n(l)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[wa](){return this}pipe(...n){return C0(n)(this)}toPromise(n){return n=Iw(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function Iw(t){var e;return(e=t??Pr.Promise)!==null&&e!==void 0?e:Promise}function C4(t){return t&&Re(t.next)&&Re(t.error)&&Re(t.complete)}function w4(t){return t&&t instanceof hs||C4(t)&&Zd(t)}function w0(t){return Re(t?.lift)}function Ze(t){return e=>{if(w0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function He(t,e,n,r,i){return new b0(t,e,n,r,i)}var b0=class extends hs{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(u){e.error(u)}}:super._next,this._error=i?function(l){try{i(l)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ba(){return Ze((t,e)=>{let n=null;t._refCount++;let r=He(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Sa=class extends qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,w0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vt;let n=this.getSubject();e.add(this.source.subscribe(He(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vt.EMPTY)}return e}refCount(){return ba()(this)}};var Tw=_a(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Qd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Tw}next(n){Ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?m0:(this.currentObservers=null,o.push(n),new vt(()=>{this.currentObservers=null,ds(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new qe;return n.source=this,n}}return t.create=(e,n)=>new Qd(e,n),t})(),Qd=class extends wt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:m0}};var nn=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var S0={now(){return(S0.delegate||Date).now()},delegate:void 0};var Jd=class extends vt{constructor(e,n){super()}schedule(e,n=0){return this}};var nl={setInterval(t,e,...n){let{delegate:r}=nl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=nl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ef=class extends Jd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return nl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&nl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ds(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ia=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ia.now=S0.now;var tf=class extends Ia{constructor(e,n=Ia.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mw=new tf(ef);var Pn=new qe(t=>t.complete());function Aw(t){return t&&Re(t.schedule)}function xw(t){return t[t.length-1]}function nf(t){return Re(xw(t))?t.pop():void 0}function Eo(t){return Aw(xw(t))?t.pop():void 0}function Nw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(h){try{f(r.next(h))}catch(g){a(g)}}function u(h){try{f(r.throw(h))}catch(g){a(g)}}function f(h){h.done?o(h.value):i(h.value).then(l,u)}f((r=r.apply(t,e||[])).next())})}function Rw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ps(t){return this instanceof ps?(this.v=t,this):new ps(t)}function Ow(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(D){return Promise.resolve(D).then(v,g)}}function l(v,D){r[v]&&(i[v]=function(S){return new Promise(function(w,M){o.push([v,S,w,M])>1||u(v,S)})},D&&(i[v]=D(i[v])))}function u(v,D){try{f(r[v](D))}catch(S){y(o[0][3],S)}}function f(v){v.value instanceof ps?Promise.resolve(v.value.v).then(h,g):y(o[0][2],v)}function h(v){u("next",v)}function g(v){u("throw",v)}function y(v,D){v(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function kw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rw=="function"?Rw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(l,u){a=t[o](a),i(l,u,a.done,a.value)})}}function i(o,a,l,u){Promise.resolve(u).then(function(f){o({value:f,done:l})},a)}}var rf=t=>t&&typeof t.length=="number"&&typeof t!="function";function of(t){return Re(t?.then)}function sf(t){return Re(t[wa])}function af(t){return Symbol.asyncIterator&&Re(t?.[Symbol.asyncIterator])}function cf(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function b4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lf=b4();function uf(t){return Re(t?.[lf])}function df(t){return Ow(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ps(n.read());if(i)return yield ps(void 0);yield yield ps(r)}}finally{n.releaseLock()}})}function ff(t){return Re(t?.getReader)}function Ft(t){if(t instanceof qe)return t;if(t!=null){if(sf(t))return S4(t);if(rf(t))return I4(t);if(of(t))return T4(t);if(af(t))return Pw(t);if(uf(t))return M4(t);if(ff(t))return A4(t)}throw cf(t)}function S4(t){return new qe(e=>{let n=t[wa]();if(Re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function I4(t){return new qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function T4(t){return new qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Kd)})}function M4(t){return new qe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Pw(t){return new qe(e=>{x4(t,e).catch(n=>e.error(n))})}function A4(t){return Pw(df(t))}function x4(t,e){var n,r,i,o;return Nw(this,void 0,void 0,function*(){try{for(n=kw(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Fn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function hf(t,e=0){return Ze((n,r)=>{n.subscribe(He(r,i=>Fn(r,t,()=>r.next(i),e),()=>Fn(r,t,()=>r.complete(),e),i=>Fn(r,t,()=>r.error(i),e)))})}function pf(t,e=0){return Ze((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Fw(t,e){return Ft(t).pipe(pf(e),hf(e))}function Lw(t,e){return Ft(t).pipe(pf(e),hf(e))}function Vw(t,e){return new qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function jw(t,e){return new qe(n=>{let r;return Fn(n,e,()=>{r=t[lf](),Fn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}function gf(t,e){if(!t)throw new Error("Iterable cannot be null");return new qe(n=>{Fn(n,e,()=>{let r=t[Symbol.asyncIterator]();Fn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Uw(t,e){return gf(df(t),e)}function Bw(t,e){if(t!=null){if(sf(t))return Fw(t,e);if(rf(t))return Vw(t,e);if(of(t))return Lw(t,e);if(af(t))return gf(t,e);if(uf(t))return jw(t,e);if(ff(t))return Uw(t,e)}throw cf(t)}function It(t,e){return e?Bw(t,e):Ft(t)}function be(...t){let e=Eo(t);return It(t,e)}function Ta(t,e){let n=Re(t)?t:()=>t,r=i=>i.error(n());return new qe(e?i=>e.schedule(r,0,i):r)}function I0(t){return!!t&&(t instanceof qe||Re(t.lift)&&Re(t.subscribe))}var Fi=_a(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pe(t,e){return Ze((n,r)=>{let i=0;n.subscribe(He(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:R4}=Array;function N4(t,e){return R4(e)?t(...e):t(e)}function mf(t){return Pe(e=>N4(t,e))}var{isArray:O4}=Array,{getPrototypeOf:k4,prototype:P4,keys:F4}=Object;function yf(t){if(t.length===1){let e=t[0];if(O4(e))return{args:e,keys:null};if(L4(e)){let n=F4(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function L4(t){return t&&typeof t=="object"&&k4(t)===P4}function vf(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _f(...t){let e=Eo(t),n=nf(t),{args:r,keys:i}=yf(t);if(r.length===0)return It([],e);let o=new qe(V4(r,e,i?a=>vf(i,a):Xn));return n?o.pipe(mf(n)):o}function V4(t,e,n=Xn){return r=>{Hw(e,()=>{let{length:i}=t,o=new Array(i),a=i,l=i;for(let u=0;u<i;u++)Hw(e,()=>{let f=It(t[u],e),h=!1;f.subscribe(He(r,g=>{o[u]=g,h||(h=!0,l--),l||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Hw(t,e,n){t?Fn(n,t,e):e()}function Gw(t,e,n,r,i,o,a,l){let u=[],f=0,h=0,g=!1,y=()=>{g&&!u.length&&!f&&e.complete()},v=S=>f<r?D(S):u.push(S),D=S=>{o&&e.next(S),f++;let w=!1;Ft(n(S,h++)).subscribe(He(e,M=>{i?.(M),o?v(M):e.next(M)},()=>{w=!0},void 0,()=>{if(w)try{for(f--;u.length&&f<r;){let M=u.shift();a?Fn(e,a,()=>D(M)):D(M)}y()}catch(M){e.error(M)}}))};return t.subscribe(He(e,v,()=>{g=!0,y()})),()=>{l?.()}}function Ht(t,e,n=1/0){return Re(e)?Ht((r,i)=>Pe((o,a)=>e(r,o,i,a))(Ft(t(r,i))),n):(typeof e=="number"&&(n=e),Ze((r,i)=>Gw(r,i,t,n)))}function $w(t=1/0){return Ht(Xn,t)}function qw(){return $w(1)}function Ma(...t){return qw()(It(t,Eo(t)))}function rl(t){return new qe(e=>{Ft(t()).subscribe(e)})}function T0(...t){let e=nf(t),{args:n,keys:r}=yf(t),i=new qe(o=>{let{length:a}=n;if(!a){o.complete();return}let l=new Array(a),u=a,f=a;for(let h=0;h<a;h++){let g=!1;Ft(n[h]).subscribe(He(o,y=>{g||(g=!0,f--),l[h]=y},()=>u--,void 0,()=>{(!u||!g)&&(f||o.next(r?vf(r,l):l),o.complete())}))}});return e?i.pipe(mf(e)):i}function Ln(t,e){return Ze((n,r)=>{let i=0;n.subscribe(He(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Co(t){return Ze((e,n)=>{let r=null,i=!1,o;r=e.subscribe(He(n,void 0,void 0,a=>{o=Ft(t(a,Co(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function zw(t,e,n,r,i){return(o,a)=>{let l=n,u=e,f=0;o.subscribe(He(a,h=>{let g=f++;u=l?t(u,h,g):(l=!0,h),r&&a.next(u)},i&&(()=>{l&&a.next(u),a.complete()})))}}function wo(t,e){return Re(e)?Ht(t,e,1):Ht(t,1)}function Df(t,e=Mw){return Ze((n,r)=>{let i=null,o=null,a=null,l=()=>{if(i){i.unsubscribe(),i=null;let f=o;o=null,r.next(f)}};function u(){let f=a+t,h=e.now();if(h<f){i=this.schedule(void 0,f-h),r.add(i);return}l()}n.subscribe(He(r,f=>{o=f,a=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{l(),r.complete()},void 0,()=>{o=i=null}))})}function bo(t){return Ze((e,n)=>{let r=!1;e.subscribe(He(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Li(t){return t<=0?()=>Pn:Ze((e,n)=>{let r=0;e.subscribe(He(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ef(t=j4){return Ze((e,n)=>{let r=!1;e.subscribe(He(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function j4(){return new Fi}function gs(t){return Ze((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Vi(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ln((i,o)=>t(i,o,r)):Xn,Li(1),n?bo(e):Ef(()=>new Fi))}function Aa(t){return t<=0?()=>Pn:Ze((e,n)=>{let r=[];e.subscribe(He(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function M0(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ln((i,o)=>t(i,o,r)):Xn,Aa(1),n?bo(e):Ef(()=>new Fi))}function A0(t,e){return Ze(zw(t,e,arguments.length>=2,!0))}function x0(...t){let e=Eo(t);return Ze((n,r)=>{(e?Ma(t,n,e):Ma(t,n)).subscribe(r)})}function hn(t,e){return Ze((n,r)=>{let i=null,o=0,a=!1,l=()=>a&&!i&&r.complete();n.subscribe(He(r,u=>{i?.unsubscribe();let f=0,h=o++;Ft(t(u,h)).subscribe(i=He(r,g=>r.next(e?e(u,g,h,f++):g),()=>{i=null,l()}))},()=>{a=!0,l()}))})}function Cf(t){return Ze((e,n)=>{Ft(t).subscribe(He(n,()=>n.complete(),tl)),!n.closed&&e.subscribe(n)})}function Xt(t,e,n){let r=Re(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ze((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let l=!0;i.subscribe(He(o,u=>{var f;(f=r.next)===null||f===void 0||f.call(r,u),o.next(u)},()=>{var u;l=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var f;l=!1,(f=r.error)===null||f===void 0||f.call(r,u),o.error(u)},()=>{var u,f;l&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):Xn}function Ww(t){let e=xe(null);try{return t()}finally{xe(e)}}var Yw=Ce(H({},cs),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function Zw(t){if(t.dirty=!1,t.hasRun&&!ma(t))return;t.hasRun=!0;let e=ls(t);try{t.cleanup(),t.fn()}finally{ga(t,e)}}var B0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ae=class extends Error{code;constructor(e,n){super(Ra(e,n)),this.code=e}};function U4(t){return`NG0${Math.abs(t)}`}function Ra(t,e){return`${U4(t)}${e?": "+e:""}`}function ot(t){for(let e in t)if(t[e]===ot)return e;throw Error("")}function Qw(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ui(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ui).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function H0(t,e){return t?e?`${t} ${e}`:t:e||""}var B4=ot({__forward_ref__:ot});function gr(t){return t.__forward_ref__=gr,t.toString=function(){return Ui(this())},t}function rn(t){return G0(t)?t():t}function G0(t){return typeof t=="function"&&t.hasOwnProperty(B4)&&t.__forward_ref__===gr}function Jw(t,e){t==null&&$0(e,t,null,"!=")}function $0(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ll(t){return H4(t,Tf)}function q0(t){return ll(t)!==null}function H4(t,e){return t.hasOwnProperty(e)&&t[e]||null}function G4(t){let e=t?.[Tf]??null;return e||null}function N0(t){return t&&t.hasOwnProperty(bf)?t[bf]:null}var Tf=ot({\u0275prov:ot}),bf=ot({\u0275inj:ot}),oe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function z0(t){return t&&!!t.\u0275providers}var W0=ot({\u0275cmp:ot}),Y0=ot({\u0275dir:ot}),Z0=ot({\u0275pipe:ot}),K0=ot({\u0275mod:ot}),sl=ot({\u0275fac:ot}),Es=ot({__NG_ELEMENT_ID__:ot}),Kw=ot({__NG_ENV_ID__:ot});function Mf(t){return typeof t=="string"?t:t==null?"":String(t)}function Sf(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Mf(t)}var X0=ot({ngErrorCode:ot}),eb=ot({ngErrorMessage:ot}),ol=ot({ngTokenPath:ot});function Q0(t,e){return tb("",-200,e)}function Af(t,e){throw new ae(-201,!1)}function $4(t,e){t[ol]??=[];let n=t[ol],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Jw(e.provide,"Token with multi: true should have a provide property"),r=Sf(e.provide)):r=Sf(e),n[0]!==r&&t[ol].unshift(r)}function q4(t,e){let n=t[ol],r=t[X0],i=t[eb]||t.message;return t.message=W4(i,r,n,e),t}function tb(t,e,n){let r=new ae(e,t);return r[X0]=e,r[eb]=t,n&&(r[ol]=n),r}function z4(t){return t[X0]}function W4(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Ra(e,`${t}${o}${i}`)}var O0;function nb(){return O0}function Qn(t){let e=O0;return O0=t,e}function J0(t,e,n){let r=ll(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Af(t,"Injector")}var Y4={},ms=Y4,Z4="__NG_DI_FLAG__",k0=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=ys(n)||0;try{return this.injector.get(e,r&8?null:ms,r)}catch(i){if(ha(i))return i;throw i}}};function K4(t,e=0){let n=Ld();if(n===void 0)throw new ae(-203,!1);if(n===null)return J0(t,void 0,e);{let r=X4(e),i=n.retrieve(t,r);if(ha(i)){if(r.optional)return null;throw i}return i}}function me(t,e=0){return(nb()||K4)(rn(t),e)}function $(t,e){return me(t,ys(e))}function ys(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function X4(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function P0(t){let e=[];for(let n=0;n<t.length;n++){let r=rn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ae(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let l=r[a],u=Q4(l);typeof u=="number"?u===-1?i=l.token:o|=u:i=l}e.push(me(i,o))}else e.push(me(r))}return e}function Q4(t){return t[Z4]}function vs(t,e){let n=t.hasOwnProperty(sl);return n?t[sl]:null}function rb(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function ib(t){return t.flat(Number.POSITIVE_INFINITY)}function xf(t,e){t.forEach(n=>Array.isArray(n)?xf(n,e):e(n))}function ey(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ul(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ob(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function sb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ab(t,e,n){let r=Na(t,e);return r>=0?t[r|1]=n:(r=~r,sb(t,r,e,n)),r}function Rf(t,e){let n=Na(t,e);if(n>=0)return t[n|1]}function Na(t,e){return J4(t,e,1)}function J4(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var Io={},Jn=[],To=new oe(""),ty=new oe("",-1),ny=new oe(""),al=class{get(e,n=ms){if(n===ms){let i=tb("",-201);throw i.name="\u0275NotFound",i}return n}};function ry(t){return t[K0]||null}function Mo(t){return t[W0]||null}function iy(t){return t[Y0]||null}function cb(t){return t[Z0]||null}function Oa(t){return{\u0275providers:t}}function lb(...t){return{\u0275providers:oy(!0,t),\u0275fromNgModule:!0}}function oy(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return xf(e,a=>{let l=a;If(l,o,[],r)&&(i||=[],i.push(l))}),i!==void 0&&ub(i,o),n}function ub(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];sy(i,o=>{e(o,r)})}}function If(t,e,n,r){if(t=rn(t),!t)return!1;let i=null,o=N0(t),a=!o&&Mo(t);if(!o&&!a){let u=t.ngModule;if(o=N0(u),o)i=u;else return!1}else{if(a&&!a.standalone)return!1;i=t}let l=r.has(i);if(a){if(l)return!1;if(r.add(i),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of u)If(f,e,n,r)}}else if(o){if(o.imports!=null&&!l){r.add(i);let f;try{xf(o.imports,h=>{If(h,e,n,r)&&(f||=[],f.push(h))})}finally{}f!==void 0&&ub(f,e)}if(!l){let f=vs(i)||(()=>new i);e({provide:i,useFactory:f,deps:Jn},i),e({provide:ny,useValue:i,multi:!0},i),e({provide:To,useValue:()=>me(i),multi:!0},i)}let u=o.providers;if(u!=null&&!l){let f=t;sy(u,h=>{e(h,f)})}}else return!1;return i!==t&&t.providers!==void 0}function sy(t,e){for(let n of t)z0(n)&&(n=n.\u0275providers),Array.isArray(n)?sy(n,e):e(n)}var e8=ot({provide:String,useValue:ot});function db(t){return t!==null&&typeof t=="object"&&e8 in t}function t8(t){return!!(t&&t.useExisting)}function n8(t){return!!(t&&t.useFactory)}function _s(t){return typeof t=="function"}function fb(t){return!!t.useClass}var dl=new oe(""),wf={},Xw={},R0;function fl(){return R0===void 0&&(R0=new al),R0}var Gt=class{},Ds=class extends Gt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,L0(e,a=>this.processProvider(a)),this.records.set(ty,xa(void 0,this)),i.has("environment")&&this.records.set(Gt,xa(void 0,this));let o=this.records.get(dl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ny,Jn,{self:!0}))}retrieve(e,n){let r=ys(n)||0;try{return this.get(e,ms,r)}catch(i){if(ha(i))return i;throw i}}destroy(){il(this),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return il(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){il(this);let n=ni(this),r=Qn(void 0),i;try{return e()}finally{ni(n),Qn(r)}}get(e,n=ms,r){if(il(this),e.hasOwnProperty(Kw))return e[Kw](this);let i=ys(r),o,a=ni(this),l=Qn(void 0);try{if(!(i&4)){let f=this.records.get(e);if(f===void 0){let h=a8(e)&&ll(e);h&&this.injectableDefInScope(h)?f=xa(F0(e),wf):f=null,this.records.set(e,f)}if(f!=null)return this.hydrate(e,f,i)}let u=i&2?fl():this.parent;return n=i&8&&n===ms?null:n,u.get(e,n)}catch(u){let f=z4(u);throw f===-200||f===-201?new ae(f,null):u}finally{Qn(l),ni(a)}}resolveInjectorInitializers(){let e=xe(null),n=ni(this),r=Qn(void 0),i;try{let o=this.get(To,Jn,{self:!0});for(let a of o)a()}finally{ni(n),Qn(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ui(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=rn(e);let n=_s(e)?e:rn(e&&e.provide),r=i8(e);if(!_s(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xa(void 0,wf,!0),i.factory=()=>P0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=xe(null);try{if(n.value===Xw)throw Q0(Ui(e));return n.value===wf&&(n.value=Xw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&s8(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=rn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function F0(t){let e=ll(t),n=e!==null?e.factory:vs(t);if(n!==null)return n;if(t instanceof oe)throw new ae(204,!1);if(t instanceof Function)return r8(t);throw new ae(204,!1)}function r8(t){if(t.length>0)throw new ae(204,!1);let n=G4(t);return n!==null?()=>n.factory(t):()=>new t}function i8(t){if(db(t))return xa(void 0,t.useValue);{let e=ay(t);return xa(e,wf)}}function ay(t,e,n){let r;if(_s(t)){let i=rn(t);return vs(i)||F0(i)}else if(db(t))r=()=>rn(t.useValue);else if(n8(t))r=()=>t.useFactory(...P0(t.deps||[]));else if(t8(t))r=(i,o)=>me(rn(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=rn(t&&(t.useClass||t.provide));if(o8(t))r=()=>new i(...P0(t.deps));else return vs(i)||F0(i)}return r}function il(t){if(t.destroyed)throw new ae(205,!1)}function xa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function o8(t){return!!t.deps}function s8(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function a8(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function L0(t,e){for(let n of t)Array.isArray(n)?L0(n,e):n&&z0(n)?L0(n.\u0275providers,e):e(n)}function on(t,e){let n;t instanceof Ds?(il(t),n=t):n=new k0(t);let r,i=ni(n),o=Qn(void 0);try{return e()}finally{ni(i),Qn(o)}}function hb(){return nb()!==void 0||Ld()!=null}var Lr=0,Ie=1,Se=2,Qt=3,yr=4,wn=5,ka=6,Pa=7,bn=8,Cs=9,Bi=10,Rt=11,Fa=12,cy=13,La=14,Vn=15,Ao=16,ws=17,ii=18,hl=19,ly=20,ji=21,Nf=22,Hi=23,tr=24,Of=25,Sn=26,pb=1;var xo=7,pl=8,bs=9,In=10;function oi(t){return Array.isArray(t)&&typeof t[pb]=="object"}function Vr(t){return Array.isArray(t)&&t[pb]===!0}function uy(t){return(t.flags&4)!==0}function Ro(t){return t.componentOffset>-1}function kf(t){return(t.flags&1)===1}function si(t){return!!t.template}function Va(t){return(t[Se]&512)!==0}function Ss(t){return(t[Se]&256)===256}var gb="svg",mb="math";function vr(t){for(;Array.isArray(t);)t=t[Lr];return t}function dy(t,e){return vr(e[t])}function jr(t,e){return vr(e[t.index])}function Pf(t,e){return t.data[e]}function _r(t,e){let n=e[t];return oi(n)?n:n[Lr]}function yb(t){return(t[Se]&4)===4}function Ff(t){return(t[Se]&128)===128}function vb(t){return Vr(t[Qt])}function Lf(t,e){return e==null?null:t[e]}function fy(t){t[ws]=0}function hy(t){t[Se]&1024||(t[Se]|=1024,Ff(t)&&Is(t))}function gl(t){return!!(t[Se]&9216||t[tr]?.dirty)}function Vf(t){t[Bi].changeDetectionScheduler?.notify(8),t[Se]&64&&(t[Se]|=1024),gl(t)&&Is(t)}function Is(t){t[Bi].changeDetectionScheduler?.notify(0);let e=So(t);for(;e!==null&&!(e[Se]&8192||(e[Se]|=8192,!Ff(e)));)e=So(e)}function py(t,e){if(Ss(t))throw new ae(911,!1);t[ji]===null&&(t[ji]=[]),t[ji].push(e)}function _b(t,e){if(t[ji]===null)return;let n=t[ji].indexOf(e);n!==-1&&t[ji].splice(n,1)}function So(t){let e=t[Qt];return Vr(e)?e[Qt]:e}function gy(t){return t[Pa]??=[]}function my(t){return t.cleanup??=[]}function Db(t,e,n,r){let i=gy(e);i.push(n),t.firstCreatePass&&my(t).push(r,i.length-1)}var Qe={lFrame:Pb(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ml=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})(ml||{}),c8=0,V0=!1;function Eb(){return Qe.lFrame.elementDepthCount}function Cb(){Qe.lFrame.elementDepthCount++}function wb(){Qe.lFrame.elementDepthCount--}function bb(){return Qe.bindingsEnabled}function yy(){return Qe.skipHydrationRootTNode!==null}function Sb(t){return Qe.skipHydrationRootTNode===t}function Ib(){Qe.skipHydrationRootTNode=null}function ct(){return Qe.lFrame.lView}function jn(){return Qe.lFrame.tView}function Dr(t){return Qe.lFrame.contextLView=t,t[bn]}function Er(t){return Qe.lFrame.contextLView=null,t}function Tn(){let t=vy();for(;t!==null&&t.type===64;)t=t.parent;return t}function vy(){return Qe.lFrame.currentTNode}function Tb(){let t=Qe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ja(t,e){let n=Qe.lFrame;n.currentTNode=t,n.isParent=e}function _y(){return Qe.lFrame.isParent}function Dy(){Qe.lFrame.isParent=!1}function Ey(t){$0("Must never be called in production mode"),c8=t}function Cy(){return V0}function Ua(t){let e=V0;return V0=t,e}function Mb(t){return Qe.lFrame.bindingIndex=t}function jf(){return Qe.lFrame.bindingIndex++}function Ab(t){let e=Qe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xb(){return Qe.lFrame.inI18n}function Rb(t,e){let n=Qe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uf(e)}function Nb(){return Qe.lFrame.currentDirectiveIndex}function Uf(t){Qe.lFrame.currentDirectiveIndex=t}function Ob(t){let e=Qe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wy(){return Qe.lFrame.currentQueryIndex}function Bf(t){Qe.lFrame.currentQueryIndex=t}function l8(t){let e=t[Ie];return e.type===2?e.declTNode:e.type===1?t[wn]:null}function by(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=l8(o),i===null||(o=o[La],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Qe.lFrame=kb();return r.currentTNode=e,r.lView=t,!0}function Hf(t){let e=kb(),n=t[Ie];Qe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kb(){let t=Qe.lFrame,e=t===null?null:t.child;return e===null?Pb(t):e}function Pb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Fb(){let t=Qe.lFrame;return Qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Sy=Fb;function Gf(){let t=Fb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ts(){return Qe.lFrame.selectedIndex}function No(t){Qe.lFrame.selectedIndex=t}function Iy(){let t=Qe.lFrame;return Pf(t.tView,t.selectedIndex)}function Lb(){return Qe.lFrame.currentNamespace}var Vb=!0;function $f(){return Vb}function qf(t){Vb=t}var u8={elements:void 0};function zf(){return u8}function j0(t,e=null,n=null,r){let i=Ty(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ty(t,e=null,n=null,r,i=new Set){let o=[n||Jn,lb(t)];return r=r||(typeof t=="object"?void 0:Ui(t)),new Ds(o,e||fl(),r||null,i)}var er=class t{static THROW_IF_NOT_FOUND=ms;static NULL=new al;static create(e,n){if(Array.isArray(e))return j0({name:""},n,e,"");{let r=e.name??"";return j0({name:r},e.parent,e.providers,r)}}static \u0275prov=pe({token:t,providedIn:"any",factory:()=>me(ty)});static __NG_ELEMENT_ID__=-1},$t=new oe(""),ai=(()=>{class t{static __NG_ELEMENT_ID__=d8;static __NG_ENV_ID__=n=>n}return t})(),cl=class extends ai{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ss(this._lView)}onDestroy(e){let n=this._lView;return py(n,e),()=>_b(n,e)}};function d8(){return new cl(ct())}var Fr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Cr=new oe("",{providedIn:"root",factory:()=>{let t=$(Gt),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Fr),e.handleError(n))}}}),jb={provide:To,useValue:()=>void $(Fr),multi:!0};function Nt(t,e){let[n,r,i]=p0(t,e?.equal),o=n,a=o[Cn];return o.set=r,o.update=i,o.asReadonly=My.bind(o),o}function My(){let t=this[Cn];if(t.readonlyFn===void 0){let e=()=>this();e[Cn]=t,t.readonlyFn=e}return t.readonlyFn}var ri=class{},Wf=new oe("",{providedIn:"root",factory:()=>!1});var Ay=new oe(""),xy=new oe("");var yl=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=f8}return t})();function f8(){return new yl(ct(),Tn())}var ci=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new qe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}return t})(),vl=(()=>{class t{internalPendingTasks=$(ci);scheduler=$(ri);errorHandler=$(Cr);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ms(...t){}var _l=(()=>{class t{static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new U0})}return t})(),U0=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Tl(t){return{toString:t}.toString()}function C8(t){return typeof t=="function"}var Jf=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function gS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Os=(()=>{let t=()=>mS;return t.ngInherit=!0,t})();function mS(t){return t.type.prototype.ngOnChanges&&(t.setInput=b8),w8}function w8(){let t=vS(this),e=t?.current;if(e){let n=t.previous;if(n===Io)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function b8(t,e,n,r,i){let o=this.declaredInputs[r],a=vS(t)||S8(t,{previous:Io,current:null}),l=a.current||(a.current={}),u=a.previous,f=u[o];l[o]=new Jf(f&&f.currentValue,n,u===Io),gS(t,e,i,n)}var yS="__ngSimpleChanges__";function vS(t){return t[yS]||null}function S8(t,e){return t[yS]=e}var Ub=[];var ft=function(t,e=null,n){for(let r=0;r<Ub.length;r++){let i=Ub[r];i(t,e,n)}};function I8(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=mS(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function T8(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:h}=o;a&&(t.contentHooks??=[]).push(-n,a),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),u&&(t.viewHooks??=[]).push(-n,u),f&&((t.viewHooks??=[]).push(n,f),(t.viewCheckHooks??=[]).push(n,f)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Zf(t,e,n){_S(t,e,3,n)}function Kf(t,e,n,r){(t[Se]&3)===n&&_S(t,e,n,r)}function Ry(t,e){let n=t[Se];(n&3)===e&&(n&=16383,n+=1,t[Se]=n)}function _S(t,e,n,r){let i=r!==void 0?t[ws]&65535:0,o=r??-1,a=e.length-1,l=0;for(let u=i;u<a;u++)if(typeof e[u+1]=="number"){if(l=e[u],r!=null&&l>=r)break}else e[u]<0&&(t[ws]+=65536),(l<o||o==-1)&&(M8(t,n,e,u),t[ws]=(t[ws]&4294901760)+u+2),u++}function Bb(t,e){ft(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),ft(5,t,e)}}function M8(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],l=t[a];i?t[Se]>>14<t[ws]>>16&&(t[Se]&3)===e&&(t[Se]+=16384,Bb(l,o)):Bb(l,o)}var Ha=-1,xs=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function A8(t){return(t.flags&8)!==0}function x8(t){return(t.flags&16)!==0}function R8(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],l=n[r++];t.setAttribute(e,a,l,o)}else{let o=i,a=n[++r];O8(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function N8(t){return t===3||t===4||t===6}function O8(t){return t.charCodeAt(0)===64}function Cl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Hb(t,n,i,null,e[++r]):Hb(t,n,i,null,null))}}return t}function Hb(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let l=t[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<t.length;){let l=t[o];if(typeof l=="number")break;if(l===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function DS(t){return t!==Ha}function eh(t){return t&32767}function k8(t){return t>>16}function th(t,e){let n=k8(t),r=e;for(;n>0;)r=r[La],n--;return r}var By=!0;function Gb(t){let e=By;return By=t,e}var P8=256,ES=P8-1,CS=5,F8=0,li={};function L8(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Es)&&(r=n[Es]),r==null&&(r=n[Es]=F8++);let i=r&ES,o=1<<i;e.data[t+(i>>CS)]|=o}function nh(t,e){let n=wS(t,e);if(n!==-1)return n;let r=e[Ie];r.firstCreatePass&&(t.injectorIndex=e.length,Ny(r.data,t),Ny(e,null),Ny(r.blueprint,null));let i=pv(t,e),o=t.injectorIndex;if(DS(i)){let a=eh(i),l=th(i,e),u=l[Ie].data;for(let f=0;f<8;f++)e[o+f]=l[a+f]|u[a+f]}return e[o+8]=i,o}function Ny(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function pv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=MS(i),r===null)return Ha;if(n++,i=i[La],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ha}function Hy(t,e,n){L8(t,e,n)}function bS(t,e,n){if(n&8||t!==void 0)return t;Af(e,"NodeInjector")}function SS(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Cs],o=Qn(void 0);try{return i?i.get(e,r,n&8):J0(e,r,n&8)}finally{Qn(o)}}return bS(r,e,n)}function IS(t,e,n,r=0,i){if(t!==null){if(e[Se]&2048&&!(r&2)){let a=B8(t,e,n,r,li);if(a!==li)return a}let o=TS(t,e,n,r,li);if(o!==li)return o}return SS(e,n,r,i)}function TS(t,e,n,r,i){let o=j8(n);if(typeof o=="function"){if(!by(e,t,r))return r&1?bS(i,n,r):SS(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))Af(n);else return a}finally{Sy()}}else if(typeof o=="number"){let a=null,l=wS(t,e),u=Ha,f=r&1?e[Vn][wn]:null;for((l===-1||r&4)&&(u=l===-1?pv(t,e):e[l+8],u===Ha||!qb(r,!1)?l=-1:(a=e[Ie],l=eh(u),e=th(u,e)));l!==-1;){let h=e[Ie];if($b(o,l,h.data)){let g=V8(l,e,n,a,r,f);if(g!==li)return g}u=e[l+8],u!==Ha&&qb(r,e[Ie].data[l+8]===f)&&$b(o,l,e)?(a=h,l=eh(u),e=th(u,e)):l=-1}}return i}function V8(t,e,n,r,i,o){let a=e[Ie],l=a.data[t+8],u=r==null?Ro(l)&&By:r!=a&&(l.type&3)!==0,f=i&1&&o===l,h=Xf(l,a,n,u,f);return h!==null?wl(e,a,h,l,i):li}function Xf(t,e,n,r,i){let o=t.providerIndexes,a=e.data,l=o&1048575,u=t.directiveStart,f=t.directiveEnd,h=o>>20,g=r?l:l+h,y=i?l+h:f;for(let v=g;v<y;v++){let D=a[v];if(v<u&&n===D||v>=u&&D.type===n)return v}if(i){let v=a[u];if(v&&si(v)&&v.type===n)return u}return null}function wl(t,e,n,r,i){let o=t[n],a=e.data;if(o instanceof xs){let l=o;if(l.resolving){let v=Sf(a[n]);throw Q0(v)}let u=Gb(l.canSeeViewProviders);l.resolving=!0;let f=a[n].type||a[n],h,g=l.injectImpl?Qn(l.injectImpl):null,y=by(t,r,0);try{o=t[n]=l.factory(void 0,i,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&I8(n,a[n],e)}finally{g!==null&&Qn(g),Gb(u),l.resolving=!1,Sy()}}return o}function j8(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Es)?t[Es]:void 0;return typeof e=="number"?e>=0?e&ES:U8:e}function $b(t,e,n){let r=1<<t;return!!(n[e+(t>>CS)]&r)}function qb(t,e){return!(t&2)&&!(t&1&&e)}var As=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return IS(this._tNode,this._lView,e,ys(r),n)}};function U8(){return new As(Tn(),ct())}function ui(t){return Tl(()=>{let e=t.prototype.constructor,n=e[sl]||Gy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[sl]||Gy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gy(t){return G0(t)?()=>{let e=Gy(rn(t));return e&&e()}:vs(t)}function B8(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[Se]&2048&&!Va(a);){let l=TS(o,a,n,r|2,li);if(l!==li)return l;let u=o.parent;if(!u){let f=a[ly];if(f){let h=f.get(n,li,r);if(h!==li)return h}u=MS(a),a=a[La]}o=u}return i}function MS(t){let e=t[Ie],n=e.type;return n===2?e.declTNode:n===1?t[wn]:null}function H8(){return Ya(Tn(),ct())}function Ya(t,e){return new wr(jr(t,e))}var wr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=H8}return t})();function G8(t){return t instanceof wr?t.nativeElement:t}function $8(){return this._results[Symbol.iterator]()}var rh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new wt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=ib(e);(this._changesDetected=!rb(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=$8};function AS(t){return(t.flags&128)===128}var gv=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(gv||{}),xS=new Map,q8=0;function z8(){return q8++}function W8(t){xS.set(t[hl],t)}function $y(t){xS.delete(t[hl])}var zb="__ngContext__";function Ga(t,e){oi(e)?(t[zb]=e[hl],W8(e)):t[zb]=e}function RS(t){return OS(t[Fa])}function NS(t){return OS(t[yr])}function OS(t){for(;t!==null&&!Vr(t);)t=t[yr];return t}var qy;function mv(t){qy=t}function kS(){if(qy!==void 0)return qy;if(typeof document<"u")return document;throw new ae(210,!1)}var gh=new oe("",{providedIn:"root",factory:()=>Y8}),Y8="ng",mh=new oe(""),Za=new oe("",{providedIn:"platform",factory:()=>"unknown"});var yh=new oe("",{providedIn:"root",factory:()=>kS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Z8="h",K8="b";var PS=!1,FS=new oe("",{providedIn:"root",factory:()=>PS});var X8=(t,e,n,r)=>{};function Q8(t,e,n,r){X8(t,e,n,r)}function vh(t){return(t.flags&32)===32}var J8=()=>null;function LS(t,e,n=!1){return J8(t,e,n)}function VS(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let l=t.data[a];Bf(o),l.contentQueries(2,e[a],a)}}}finally{xe(r)}}}function zy(t,e,n){Bf(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function jS(t,e,n){if(uy(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let l=t.data[a];if(l.contentQueries){let u=n[a];l.contentQueries(1,u,a)}}}finally{xe(r)}}}var Gi=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Gi||{});var Wy=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${B0})`}};function US(t){return t instanceof Wy?t.changingThisBreaksApplicationSecurity:t}function BS(t){return t instanceof Function?t():t}function e6(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var HS="ng-template";function t6(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&e6(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(yv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function yv(t){return t.type===4&&t.value!==HS}function n6(t,e,n){let r=t.type===4&&!n?HS:t.value;return e===r}function r6(t,e,n){let r=4,i=t.attrs,o=i!==null?s6(i):0,a=!1;for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="number"){if(!a&&!Ur(r)&&!Ur(u))return!1;if(a&&Ur(u))continue;a=!1,r=u|r&1;continue}if(!a)if(r&4){if(r=2|r&1,u!==""&&!n6(t,u,n)||u===""&&e.length===1){if(Ur(r))return!1;a=!0}}else if(r&8){if(i===null||!t6(t,i,u,n)){if(Ur(r))return!1;a=!0}}else{let f=e[++l],h=i6(u,i,yv(t),n);if(h===-1){if(Ur(r))return!1;a=!0;continue}if(f!==""){let g;if(h>o?g="":g=i[h+1].toLowerCase(),r&2&&f!==g){if(Ur(r))return!1;a=!0}}}}return Ur(r)||a}function Ur(t){return(t&1)===0}function i6(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++i];for(;typeof l=="string";)l=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return a6(e,t)}function GS(t,e,n=!1){for(let r=0;r<e.length;r++)if(r6(t,e[r],n))return!0;return!1}function o6(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function s6(t){for(let e=0;e<t.length;e++){let n=t[e];if(N8(n))return e}return t.length}function a6(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function c6(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Wb(t,e){return t?":not("+e.trim()+")":e}function l6(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let l=t[++n];i+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Ur(a)&&(e+=Wb(o,i),i=""),r=a,o=o||!Ur(r);n++}return i!==""&&(e+=Wb(o,i)),e}function u6(t){return t.map(l6).join(",")}function d6(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ur(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var ko={};function f6(t,e){return t.createText(e)}function h6(t,e,n){t.setValue(e,n)}function $S(t,e,n){return t.createElement(e,n)}function ih(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qS(t,e,n){t.appendChild(e,n)}function Yb(t,e,n,r,i){r!==null?ih(t,e,n,r,i):qS(t,e,n)}function p6(t,e,n){t.removeChild(null,e,n)}function g6(t,e,n){t.setAttribute(e,"style",n)}function m6(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zS(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&R8(t,e,r),i!==null&&m6(t,e,i),o!==null&&g6(t,e,o)}function vv(t,e,n,r,i,o,a,l,u,f,h){let g=Sn+r,y=g+i,v=y6(g,y),D=typeof f=="function"?f():f;return v[Ie]={type:t,blueprint:v,template:n,queries:null,viewQuery:l,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function y6(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ko);return n}function v6(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _v(t,e,n,r,i,o,a,l,u,f,h){let g=e.blueprint.slice();return g[Lr]=i,g[Se]=r|4|128|8|64|1024,(f!==null||t&&t[Se]&2048)&&(g[Se]|=2048),fy(g),g[Qt]=g[La]=t,g[bn]=n,g[Bi]=a||t&&t[Bi],g[Rt]=l||t&&t[Rt],g[Cs]=u||t&&t[Cs]||null,g[wn]=o,g[hl]=z8(),g[ka]=h,g[ly]=f,g[Vn]=e.type==2?t[Vn]:g,g}function _6(t,e,n){let r=jr(e,t),i=v6(n),o=t[Bi].rendererFactory,a=Dv(t,_v(t,i,null,WS(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=a}function WS(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function YS(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Dv(t,e){return t[Fa]?t[cy][yr]=e:t[Fa]=e,t[cy]=e,e}function Un(t=1){ZS(jn(),ct(),Ts()+t,!1)}function ZS(t,e,n,r){if(!r)if((e[Se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Zf(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Kf(e,o,0,n)}No(n)}var _h=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(_h||{});function Yy(t,e,n,r){let i=xe(null);try{let[o,a,l]=t.inputs[n],u=null;(a&_h.SignalBased)!==0&&(u=e[o][Cn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):l!==null&&(r=l.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):gS(e,u,o,r)}finally{xe(i)}}var $i=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})($i||{}),D6;function Ev(t,e){return D6(t,e)}function Ba(t,e,n,r,i){if(r!=null){let o,a=!1;Vr(r)?o=r:oi(r)&&(a=!0,r=r[Lr]);let l=vr(r);t===0&&n!==null?i==null?qS(e,n,l):ih(e,n,l,i||null,!0):t===1&&n!==null?ih(e,n,l,i||null,!0):t===2?p6(e,l,a):t===3&&e.destroyNode(l),o!=null&&x6(e,t,o,n,i)}}function E6(t,e){KS(t,e),e[Lr]=null,e[wn]=null}function C6(t,e,n,r,i,o){r[Lr]=i,r[wn]=e,Dh(t,r,n,1,i,o)}function KS(t,e){e[Bi].changeDetectionScheduler?.notify(9),Dh(t,e,e[Rt],2,null,null)}function w6(t){let e=t[Fa];if(!e)return Oy(t[Ie],t);for(;e;){let n=null;if(oi(e))n=e[Fa];else{let r=e[In];r&&(n=r)}if(!n){for(;e&&!e[yr]&&e!==t;)oi(e)&&Oy(e[Ie],e),e=e[Qt];e===null&&(e=t),oi(e)&&Oy(e[Ie],e),n=e&&e[yr]}e=n}}function Cv(t,e){let n=t[bs],r=n.indexOf(e);n.splice(r,1)}function XS(t,e){if(Ss(e))return;let n=e[Rt];n.destroyNode&&Dh(t,e,n,3,null,null),w6(e)}function Oy(t,e){if(Ss(e))return;let n=xe(null);try{e[Se]&=-129,e[Se]|=256,e[tr]&&us(e[tr]),S6(t,e),b6(t,e),e[Ie].type===1&&e[Rt].destroy();let r=e[Ao];if(r!==null&&Vr(e[Qt])){r!==e[Qt]&&Cv(r,e);let i=e[ii];i!==null&&i.detachView(t)}$y(e)}finally{xe(n)}}function b6(t,e){let n=t.cleanup,r=e[Pa];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let l=n[a+3];l>=0?r[l]():r[-l].unsubscribe(),a+=2}else{let l=r[n[a+1]];n[a].call(l)}r!==null&&(e[Pa]=null);let i=e[ji];if(i!==null){e[ji]=null;for(let a=0;a<i.length;a++){let l=i[a];l()}}let o=e[Hi];if(o!==null){e[Hi]=null;for(let a of o)a.destroy()}}function S6(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof xs)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=i[o[a]],u=o[a+1];ft(4,l,u);try{u.call(l)}finally{ft(5,l,u)}}else{ft(4,i,o);try{o.call(i)}finally{ft(5,i,o)}}}}}function QS(t,e,n){return I6(t,e.parent,n)}function I6(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Lr];if(Ro(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Gi.None||i===Gi.Emulated)return null}return jr(r,n)}function JS(t,e,n){return M6(t,e,n)}function T6(t,e,n){return t.type&40?jr(t,n):null}var M6=T6,Zb;function wv(t,e,n,r){let i=QS(t,r,e),o=e[Rt],a=r.parent||e[wn],l=JS(a,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Yb(o,i,n[u],l,!1);else Yb(o,i,n,l,!1);Zb!==void 0&&Zb(o,r,e,n,i)}function Dl(t,e){if(e!==null){let n=e.type;if(n&3)return jr(e,t);if(n&4)return Zy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Dl(t,r);{let i=t[e.index];return Vr(i)?Zy(-1,i):vr(i)}}else{if(n&128)return Dl(t,e.next);if(n&32)return Ev(e,t)()||vr(t[e.index]);{let r=eI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=So(t[Vn]);return Dl(i,r)}else return Dl(t,e.next)}}}return null}function eI(t,e){if(e!==null){let r=t[Vn][wn],i=e.projection;return r.projection[i]}return null}function Zy(t,e){let n=In+t+1;if(n<e.length){let r=e[n],i=r[Ie].firstChild;if(i!==null)return Dl(r,i)}return e[xo]}function bv(t,e,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let l=r[n.index],u=n.type;if(a&&e===0&&(l&&Ga(vr(l),r),n.flags|=2),!vh(n))if(u&8)bv(t,e,n.child,r,i,o,!1),Ba(e,t,i,l,o);else if(u&32){let f=Ev(n,r),h;for(;h=f();)Ba(e,t,i,h,o);Ba(e,t,i,l,o)}else u&16?tI(t,e,r,n,i,o):Ba(e,t,i,l,o);n=a?n.projectionNext:n.next}}function Dh(t,e,n,r,i,o){bv(n,r,t.firstChild,e,i,o,!1)}function A6(t,e,n){let r=e[Rt],i=QS(t,n,e),o=n.parent||e[wn],a=JS(o,n,e);tI(r,0,e,n,i,a)}function tI(t,e,n,r,i,o){let a=n[Vn],u=a[wn].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++){let h=u[f];Ba(e,t,i,h,o)}else{let f=u,h=a[Qt];AS(r)&&(f.flags|=128),bv(t,e,f,h,i,o,!0)}}function x6(t,e,n,r,i){let o=n[xo],a=vr(n);o!==a&&Ba(e,t,r,o,i);for(let l=In;l<n.length;l++){let u=n[l];Dh(u[Ie],u,t,e,r,o)}}function R6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:$i.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$i.Important),t.setStyle(n,r,i,o))}}function nI(t,e,n,r,i){let o=Ts(),a=r&2;try{No(-1),a&&e.length>Sn&&ZS(t,e,Sn,!1),ft(a?2:0,i,n),n(r,i)}finally{No(o),ft(a?3:1,i,n)}}function rI(t,e,n){j6(t,e,n),(n.flags&64)===64&&U6(t,e,n)}function iI(t,e,n=jr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],l=a===-1?n(e,t):t[a];t[i++]=l}}}function N6(t,e,n,r){let o=r.get(FS,PS)||n===Gi.ShadowDom,a=t.selectRootElement(e,o);return O6(a),a}function O6(t){k6(t)}var k6=()=>null;function P6(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function F6(t,e,n,r,i,o){let a=e[Ie];if(Sv(t,a,e,n,r)){Ro(t)&&V6(e,t.index);return}t.type&3&&(n=P6(n)),L6(t,e,n,r,i,o)}function L6(t,e,n,r,i,o){if(t.type&3){let a=jr(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(a,n,r)}else t.type&12}function V6(t,e){let n=_r(e,t);n[Se]&16||(n[Se]|=64)}function j6(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ro(n)&&_6(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||nh(n,e);let o=n.initialInputs;for(let a=r;a<i;a++){let l=t.data[a],u=wl(e,t,a,n);if(Ga(u,e),o!==null&&q6(e,a-r,u,l,n,o),si(l)){let f=_r(n.index,e);f[bn]=wl(e,t,a,n)}}}function U6(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Nb();try{No(o);for(let l=r;l<i;l++){let u=t.data[l],f=e[l];Uf(l),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&B6(u,f)}}finally{No(-1),Uf(a)}}function B6(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function H6(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];GS(e,o.selectors,!1)&&(r??=[],si(o)?r.unshift(o):r.push(o))}return r}function G6(t,e,n,r,i,o){let a=jr(t,e);$6(e[Rt],a,o,t.value,n,r,i)}function $6(t,e,n,r,i,o,a){if(o==null)t.removeAttribute(e,i,n);else{let l=a==null?Mf(o):a(o,r||"",i);t.setAttribute(e,i,l,n)}}function q6(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;l+=2){let u=a[l],f=a[l+1];Yy(r,n,u,f)}}function z6(t,e,n,r,i){let o=Sn+n,a=e[Ie],l=i(a,e,t,r,n);e[o]=l,ja(t,!0);let u=t.type===2;return u?(zS(e[Rt],l,t),(Eb()===0||kf(t))&&Ga(l,e),Cb()):Ga(l,e),$f()&&(!u||!vh(t))&&wv(a,e,l,t),t}function W6(t){let e=t;return _y()?Dy():(e=e.parent,ja(e,!1)),e}function Y6(t,e){let n=t[Cs];if(!n)return;n.get(Cr,null)?.(e)}function Sv(t,e,n,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],l=!1;if(a)for(let u=0;u<a.length;u+=2){let f=a[u],h=a[u+1],g=e.data[f];Yy(g,n[f],h,i),l=!0}if(o)for(let u of o){let f=n[u],h=e.data[u];Yy(h,f,r,i),l=!0}return l}function Z6(t,e){let n=_r(e,t),r=n[Ie];K6(r,n);let i=n[Lr];i!==null&&n[ka]===null&&(n[ka]=LS(i,n[Cs])),ft(18),Iv(r,n,n[bn]),ft(19,n[bn])}function K6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Iv(t,e,n){Hf(e);try{let r=t.viewQuery;r!==null&&zy(1,r,n);let i=t.template;i!==null&&nI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ii]?.finishViewCreation(t),t.staticContentQueries&&VS(t,e),t.staticViewQueries&&zy(2,t.viewQuery,n);let o=t.components;o!==null&&X6(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Se]&=-5,Gf()}}function X6(t,e){for(let n=0;n<e.length;n++)Z6(t,e[n])}function oI(t,e,n,r){let i=xe(null);try{let o=e.tView,l=t[Se]&4096?4096:16,u=_v(t,o,n,l,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=t[e.index];u[Ao]=f;let h=t[ii];return h!==null&&(u[ii]=h.createEmbeddedView(o)),Iv(o,u,n),u}finally{xe(i)}}function Ky(t,e){return!e||e.firstChild===null||AS(t)}var Kb=!1,Q6=new oe("");function bl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(vr(o)),Vr(o)&&sI(o,r);let a=n.type;if(a&8)bl(t,e,n.child,r);else if(a&32){let l=Ev(n,e),u;for(;u=l();)r.push(u)}else if(a&16){let l=eI(e,n);if(Array.isArray(l))r.push(...l);else{let u=So(e[Vn]);bl(u[Ie],u,l,r,!0)}}n=i?n.projectionNext:n.next}return r}function sI(t,e){for(let n=In;n<t.length;n++){let r=t[n],i=r[Ie].firstChild;i!==null&&bl(r[Ie],r,i,e)}t[xo]!==t[Lr]&&e.push(t[xo])}function aI(t){if(t[Of]!==null){for(let e of t[Of])e.impl.addSequence(e);t[Of].length=0}}var cI=[];function J6(t){return t[tr]??eF(t)}function eF(t){let e=cI.pop()??Object.create(nF);return e.lView=t,e}function tF(t){t.lView[tr]!==t&&(t.lView=null,cI.push(t))}var nF=Ce(H({},cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Is(t.lView)},consumerOnSignalRead(){this.lView[tr]=this}});function rF(t){let e=t[tr]??Object.create(iF);return e.lView=t,e}var iF=Ce(H({},cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=So(t.lView);for(;e&&!lI(e[Ie]);)e=So(e);e&&hy(e)},consumerOnSignalRead(){this.lView[tr]=this}});function lI(t){return t.type!==2}function uI(t){if(t[Hi]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Hi])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Se]&8192)}}var oF=100;function Tv(t,e=0){let r=t[Bi].rendererFactory,i=!1;i||r.begin?.();try{sF(t,e)}finally{i||r.end?.()}}function sF(t,e){let n=Cy();try{Ua(!0),Xy(t,e);let r=0;for(;gl(t);){if(r===oF)throw new ae(103,!1);r++,Xy(t,1)}}finally{Ua(n)}}function dI(t,e){Ey(e?ml.Exhaustive:ml.OnlyDirtyViews);try{Tv(t)}finally{Ey(ml.Off)}}function aF(t,e,n,r){if(Ss(e))return;let i=e[Se],o=!1,a=!1;Hf(e);let l=!0,u=null,f=null;o||(lI(t)?(f=J6(e),u=ls(f)):Gd()===null?(l=!1,f=rF(e),u=ls(f)):e[tr]&&(us(e[tr]),e[tr]=null));try{fy(e),Mb(t.bindingStartIndex),n!==null&&nI(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&Zf(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Kf(e,v,0,null),Ry(e,0)}if(a||cF(e),uI(e),fI(e,0),t.contentQueries!==null&&VS(t,e),!o)if(h){let v=t.contentCheckHooks;v!==null&&Zf(e,v)}else{let v=t.contentHooks;v!==null&&Kf(e,v,1),Ry(e,1)}uF(t,e);let g=t.components;g!==null&&pI(e,g,0);let y=t.viewQuery;if(y!==null&&zy(2,y,r),!o)if(h){let v=t.viewCheckHooks;v!==null&&Zf(e,v)}else{let v=t.viewHooks;v!==null&&Kf(e,v,2),Ry(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Nf]){for(let v of e[Nf])v();e[Nf]=null}o||(aI(e),e[Se]&=-73)}catch(h){throw o||Is(e),h}finally{f!==null&&(ga(f,u),l&&tF(f)),Gf()}}function fI(t,e){for(let n=RS(t);n!==null;n=NS(n))for(let r=In;r<n.length;r++){let i=n[r];hI(i,e)}}function cF(t){for(let e=RS(t);e!==null;e=NS(e)){if(!(e[Se]&2))continue;let n=e[bs];for(let r=0;r<n.length;r++){let i=n[r];hy(i)}}}function lF(t,e,n){ft(18);let r=_r(e,t);hI(r,n),ft(19,r[bn])}function hI(t,e){Ff(t)&&Xy(t,e)}function Xy(t,e){let r=t[Ie],i=t[Se],o=t[tr],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&ma(o)),a||=!1,o&&(o.dirty=!1),t[Se]&=-9217,a)aF(r,t,r.template,t[bn]);else if(i&8192){let l=xe(null);try{uI(t),fI(t,1);let u=r.components;u!==null&&pI(t,u,1),aI(t)}finally{xe(l)}}}function pI(t,e,n){for(let r=0;r<e.length;r++)lF(t,e[r],n)}function uF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)No(~i);else{let o=i,a=n[++r],l=n[++r];Rb(a,o);let u=e[o];ft(24,u),l(2,u),ft(25,u)}}}finally{No(-1)}}function Mv(t,e){let n=Cy()?64:1088;for(t[Bi].changeDetectionScheduler?.notify(e);t;){t[Se]|=n;let r=So(t);if(Va(t)&&!r)return t;t=r}return null}function gI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mI(t,e,n,r=!0){let i=e[Ie];if(dF(i,e,t,n),r){let a=Zy(n,t),l=e[Rt],u=l.parentNode(t[xo]);u!==null&&C6(i,t[wn],l,e,u,a)}let o=e[ka];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Qy(t,e){if(t.length<=In)return;let n=In+e,r=t[n];if(r){let i=r[Ao];i!==null&&i!==t&&Cv(i,r),e>0&&(t[n-1][yr]=r[yr]);let o=ul(t,In+e);E6(r[Ie],r);let a=o[ii];a!==null&&a.detachView(o[Ie]),r[Qt]=null,r[yr]=null,r[Se]&=-129}return r}function dF(t,e,n,r){let i=In+r,o=n.length;r>0&&(n[i-1][yr]=e),r<o-In?(e[yr]=n[i],ey(n,In+r,e)):(n.push(e),e[yr]=null),e[Qt]=n;let a=e[Ao];a!==null&&n!==a&&yI(a,e);let l=e[ii];l!==null&&l.insertView(t),Vf(e),e[Se]|=128}function yI(t,e){let n=t[bs],r=e[Qt];if(oi(r))t[Se]|=2;else{let i=r[Qt][Vn];e[Vn]!==i&&(t[Se]|=2)}n===null?t[bs]=[e]:n.push(e)}var Oo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Ie];return bl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[bn]}set context(e){this._lView[bn]=e}get destroyed(){return Ss(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qt];if(Vr(e)){let n=e[pl],r=n?n.indexOf(this):-1;r>-1&&(Qy(e,r),ul(n,r))}this._attachedToViewContainer=!1}XS(this._lView[Ie],this._lView)}onDestroy(e){py(this._lView,e)}markForCheck(){Mv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Se]&=-129}reattach(){Vf(this._lView),this._lView[Se]|=128}detectChanges(){this._lView[Se]|=1024,Tv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Va(this._lView),n=this._lView[Ao];n!==null&&!e&&Cv(n,this._lView),KS(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=e;let n=Va(this._lView),r=this._lView[Ao];r!==null&&!n&&yI(r,this._lView),Vf(this._lView)}};var $a=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=fF;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=oI(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Oo(o)}}return t})();function fF(){return Av(Tn(),ct())}function Av(t,e){return t.type&4?new $a(e,t,Ya(t,e)):null}function Eh(t,e,n,r,i){let o=t.data[e];if(o===null)o=hF(t,e,n,r,i),xb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=Tb();o.injectorIndex=a===null?-1:a.injectorIndex}return ja(o,!0),o}function hF(t,e,n,r,i){let o=vy(),a=_y(),l=a?o:o&&o.parent,u=t.data[e]=gF(t,l,n,e,r,i);return pF(t,u,o,a),u}function pF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function gF(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,l=0;return yy()&&(l|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var JQ=new RegExp(`^(\\d+)*(${K8}|${Z8})*(.*)`);var mF=()=>null;function Jy(t,e){return mF(t,e)}var vI=class{},Ch=class{},ev=class{resolveComponentFactory(e){throw new ae(917,!1)}},Ml=class{static NULL=new ev},Rs=class{},Al=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>yF()}return t})();function yF(){let t=ct(),e=Tn(),n=_r(e.index,t);return(oi(n)?n:t)[Rt]}var _I=(()=>{class t{static \u0275prov=pe({token:t,providedIn:"root",factory:()=>null})}return t})();var Qf={},tv=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Qf,r);return i!==Qf||n===Qf?i:this.parentInjector.get(e,n,r)}};function Xb(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)i=H0(i,l);else if(o==2){let u=l,f=e[++a];r=H0(r,u+": "+f+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ht(t,e=0){let n=ct();if(n===null)return me(t,e);let r=Tn();return IS(r,n,rn(t),e)}function vF(t,e,n,r,i){let o=r===null?null:{"":-1},a=i(t,n);if(a!==null){let l=a,u=null,f=null;for(let h of a)if(h.resolveHostDirectives!==null){[l,u,f]=h.resolveHostDirectives(a);break}EF(t,e,n,l,o,u,f)}o!==null&&r!==null&&_F(n,r,o)}function _F(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ae(-301,!1);r.push(e[i],o)}}function DF(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function EF(t,e,n,r,i,o,a){let l=r.length,u=!1;for(let y=0;y<l;y++){let v=r[y];!u&&si(v)&&(u=!0,DF(t,n,y)),Hy(nh(n,e),t,v.type)}TF(n,t.data.length,l);for(let y=0;y<l;y++){let v=r[y];v.providersResolver&&v.providersResolver(v)}let f=!1,h=!1,g=YS(t,e,l,null);l>0&&(n.directiveToIndex=new Map);for(let y=0;y<l;y++){let v=r[y];if(n.mergedAttrs=Cl(n.mergedAttrs,v.hostAttrs),wF(t,n,e,g,v),IF(g,v,i),a!==null&&a.has(v)){let[S,w]=a.get(v);n.directiveToIndex.set(v.type,[g,S+n.directiveStart,w+n.directiveStart])}else(o===null||!o.has(v))&&n.directiveToIndex.set(v.type,g);v.contentQueries!==null&&(n.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(n.flags|=64);let D=v.type.prototype;!f&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),f=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),g++}CF(t,n,o)}function CF(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Qb(0,e,i,r),Qb(1,e,i,r),eS(e,r,!1);else{let o=n.get(i);Jb(0,e,o,r),Jb(1,e,o,r),eS(e,r,!0)}}}function Qb(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(r),DI(e,o)}}function Jb(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],l;t===0?l=e.hostDirectiveInputs??={}:l=e.hostDirectiveOutputs??={},l[a]??=[],l[a].push(r,o),DI(e,a)}}function DI(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function eS(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||yv(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,l=0;for(;l<r.length;){let u=r[l];if(u===0){l+=4;continue}else if(u===5){l+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let f=i[u];for(let h of f)if(h===e){a??=[],a.push(u,r[l+1]);break}}else if(n&&o.hasOwnProperty(u)){let f=o[u];for(let h=0;h<f.length;h+=2)if(f[h]===e){a??=[],a.push(f[h+1],r[l+1]);break}}l+=2}t.initialInputs??=[],t.initialInputs.push(a)}function wF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=vs(i.type,!0)),a=new xs(o,si(i),ht,null);t.blueprint[r]=a,n[r]=a,bF(t,e,r,YS(t,n,i.hostVars,ko),i)}function bF(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let l=~e.index;SF(a)!=l&&a.push(l),a.push(n,r,o)}}function SF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function IF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;si(e)&&(n[""]=t)}}function TF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function EI(t,e,n,r,i,o,a,l){let u=e[Ie],f=u.consts,h=Lf(f,a),g=Eh(u,t,n,r,h);return o&&vF(u,e,g,Lf(f,l),i),g.mergedAttrs=Cl(g.mergedAttrs,g.attrs),g.attrs!==null&&Xb(g,g.attrs,!1),g.mergedAttrs!==null&&Xb(g,g.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,g),g}function CI(t,e){T8(t,e),uy(e)&&t.queries.elementEnd(e)}function wh(t,e,n){if(n===ko)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ky(t,e,n){return function r(i){let o=Ro(t)?_r(t.index,e):e;Mv(o,5);let a=e[bn],l=tS(e,a,n,i),u=r.__ngNextListenerFn__;for(;u;)l=tS(e,a,u,i)&&l,u=u.__ngNextListenerFn__;return l}}function tS(t,e,n,r){let i=xe(null);try{return ft(6,e,n),n(r)!==!1}catch(o){return Y6(t,o),!1}finally{ft(7,e,n),xe(i)}}function MF(t,e,n,r,i,o,a,l){let u=kf(t),f=!1,h=null;if(!r&&u&&(h=AF(e,n,o,t.index)),h!==null){let g=h.__ngLastListenerFn__||h;g.__ngNextListenerFn__=a,h.__ngLastListenerFn__=a,f=!0}else{let g=jr(t,n),y=r?r(g):g;Q8(n,y,o,l);let v=i.listen(y,o,l),D=r?S=>r(vr(S[t.index])):t.index;wI(D,e,n,o,l,v,!1)}return f}function AF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let l=e[Pa],u=i[o+2];return l&&l.length>u?l[u]:null}typeof a=="string"&&(o+=2)}return null}function wI(t,e,n,r,i,o,a){let l=e.firstCreatePass?my(e):null,u=gy(n),f=u.length;u.push(i,o),l&&l.push(r,t,f,(f+1)*(a?-1:1))}function nS(t,e,n,r,i,o){let a=e[n],l=e[Ie],f=l.data[n].outputs[r],g=a[f].subscribe(o);wI(t.index,l,e,i,o,g,!0)}var nv=Symbol("BINDING");var oh=class extends Ml{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Mo(e);return new qa(n,this.ngModule)}};function xF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&_h.SignalBased)!==0};return i&&(o.transform=i),o})}function RF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function NF(t,e,n){let r=e instanceof Gt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new tv(n,r):n}function OF(t){let e=t.get(Rs,null);if(e===null)throw new ae(407,!1);let n=t.get(_I,null),r=t.get(ri,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function kF(t,e){let n=bI(t);return $S(e,n,n==="svg"?gb:n==="math"?mb:null)}function bI(t){return(t.selectors[0][0]||"div").toLowerCase()}var qa=class extends Ch{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=RF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=u6(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,a){ft(22);let l=xe(null);try{let u=this.componentDef,f=PF(r,u,a,o),h=NF(u,i||this.ngModule,e),g=OF(h),y=g.rendererFactory.createRenderer(null,u),v=r?N6(y,r,u.encapsulation,h):kF(u,y),D=a?.some(rS)||o?.some(M=>typeof M!="function"&&M.bindings.some(rS)),S=_v(null,f,null,512|WS(u),null,null,g,y,h,null,LS(v,h,!0));S[Sn]=v,Hf(S);let w=null;try{let M=EI(Sn,S,2,"#host",()=>f.directiveRegistry,!0,0);v&&(zS(y,v,M),Ga(v,S)),rI(f,S,M),jS(f,M,S),CI(f,M),n!==void 0&&LF(M,this.ngContentSelectors,n),w=_r(M.index,S),S[bn]=w[bn],Iv(f,S,null)}catch(M){throw w!==null&&$y(w),$y(S),M}finally{ft(23),Gf()}return new sh(this.componentType,S,!!D)}finally{xe(l)}}};function PF(t,e,n,r){let i=t?["ng-version","20.2.2"]:d6(e.selectors[0]),o=null,a=null,l=0;if(n)for(let h of n)l+=h[nv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(a??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let g=r[h];if(typeof g!="function")for(let y of g.bindings){l+=y[nv].requiredVars;let v=h+1;y.create&&(y.targetIdx=v,(o??=[]).push(y)),y.update&&(y.targetIdx=v,(a??=[]).push(y))}}let u=[e];if(r)for(let h of r){let g=typeof h=="function"?h:h.type,y=iy(g);u.push(y)}return vv(0,null,FF(o,a),1,l,u,null,null,null,[i],null)}function FF(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function rS(t){let e=t[nv].kind;return e==="input"||e==="twoWay"}var sh=class extends vI{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Pf(n[Ie],Sn),this.location=Ya(this._tNode,n),this.instance=_r(this._tNode.index,n)[bn],this.hostView=this.changeDetectorRef=new Oo(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Sv(r,i[Ie],i,e,n);this.previousInputValues.set(e,n);let a=_r(r.index,i);Mv(a,1)}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ks=(()=>{class t{static __NG_ELEMENT_ID__=VF}return t})();function VF(){let t=Tn();return II(t,ct())}var jF=ks,SI=class extends jF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ya(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){let e=pv(this._hostTNode,this._hostLView);if(DS(e)){let n=th(e,this._hostLView),r=eh(e),i=n[Ie].data[r+8];return new As(i,n)}else return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=iS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=Jy(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(l,i,Ky(this._hostTNode,a)),l}createComponent(e,n,r,i,o,a,l){let u=e&&!C8(e),f;if(u)f=n;else{let w=n||{};f=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef,a=w.directives,l=w.bindings}let h=u?e:new qa(Mo(e)),g=r||this.parentInjector;if(!o&&h.ngModule==null){let M=(u?g:this.parentInjector).get(Gt,null);M&&(o=M)}let y=Mo(h.componentType??{}),v=Jy(this._lContainer,y?.id??null),D=v?.firstChild??null,S=h.create(g,i,D,o,a,l);return this.insertImpl(S.hostView,f,Ky(this._hostTNode,v)),S}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(vb(i)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let u=i[Qt],f=new SI(u,u[wn],u[Qt]);f.detach(f.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return mI(a,i,o,r),e.attachToViewContainerRef(),ey(Py(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=iS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Qy(this._lContainer,n);r&&(ul(Py(this._lContainer),n),XS(r[Ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=Qy(this._lContainer,n);return r&&ul(Py(this._lContainer),n)!=null?new Oo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iS(t){return t[pl]}function Py(t){return t[pl]||(t[pl]=[])}function II(t,e){let n,r=e[t.index];return Vr(r)?n=r:(n=gI(r,e,null,t),e[t.index]=n,Dv(e,n)),BF(n,e,t,r),new SI(n,t,e)}function UF(t,e){let n=t[Rt],r=n.createComment(""),i=jr(e,t),o=n.parentNode(i);return ih(n,o,r,n.nextSibling(i),!1),r}var BF=$F,HF=()=>!1;function GF(t,e,n){return HF(t,e,n)}function $F(t,e,n,r){if(t[xo])return;let i;n.type&8?i=vr(r):i=UF(e,n),t[xo]=i}var rv=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},iv=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),l=this.queries[a.indexInDeclarationView];i.push(l.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)xv(e,n).matches!==null&&this.queries[n].setDirty()}},ah=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=QF(e):this.predicate=e}},ov=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},sv=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,qF(n,o)),this.matchTNodeWithReadOption(e,n,Xf(n,e,o,!1,!1))}else r===$a?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Xf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===wr||i===ks||i===$a&&n.type&4)this.addMatch(n.index,-2);else{let o=Xf(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function qF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function zF(t,e){return t.type&11?Ya(t,e):t.type&4?Av(t,e):null}function WF(t,e,n,r){return n===-1?zF(e,t):n===-2?YF(t,e,r):wl(t,t[Ie],n,e)}function YF(t,e,n){if(n===wr)return Ya(e,t);if(n===$a)return Av(e,t);if(n===ks)return II(e,t)}function TI(t,e,n,r){let i=e[ii].queries[r];if(i.matches===null){let o=t.data,a=n.matches,l=[];for(let u=0;a!==null&&u<a.length;u+=2){let f=a[u];if(f<0)l.push(null);else{let h=o[f];l.push(WF(e,h,a[u+1],n.metadata.read))}}i.matches=l}return i.matches}function av(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=TI(t,e,i,n);for(let l=0;l<o.length;l+=2){let u=o[l];if(u>0)r.push(a[l/2]);else{let f=o[l+1],h=e[-u];for(let g=In;g<h.length;g++){let y=h[g];y[Ao]===y[Qt]&&av(y[Ie],y,f,r)}if(h[bs]!==null){let g=h[bs];for(let y=0;y<g.length;y++){let v=g[y];av(v[Ie],v,f,r)}}}}}return r}function ZF(t,e){return t[ii].queries[e].queryList}function MI(t,e,n){let r=new rh((n&4)===4);return Db(t,e,r,r.destroy),(e[ii]??=new iv).queries.push(new rv(r))-1}function KF(t,e,n){let r=jn();return r.firstCreatePass&&(AI(r,new ah(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),MI(r,ct(),e)}function XF(t,e,n,r){let i=jn();if(i.firstCreatePass){let o=Tn();AI(i,new ah(e,n,r),o.index),JF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return MI(i,ct(),n)}function QF(t){return t.split(",").map(e=>e.trim())}function AI(t,e,n){t.queries===null&&(t.queries=new ov),t.queries.track(new sv(e,n))}function JF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function xv(t,e){return t.queries.getByIndex(e)}function eL(t,e){let n=t[Ie],r=xv(n,e);return r.crossesNgTemplate?av(n,t,e,[]):TI(n,t,r,e)}var oS=new Set;function Rv(t){oS.has(t)||(oS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var za=class{},bh=class{};var ch=class extends za{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new oh(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=ry(e);this._bootstrapComponents=BS(o.bootstrap),this._r3Injector=Ty(e,n,[{provide:za,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver},...r],Ui(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},lh=class extends bh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ch(this.moduleType,e,[])}};var Sl=class extends za{injector;componentFactoryResolver=new oh(this);instance=null;constructor(e){super();let n=new Ds([...e.providers,{provide:za,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver}],e.parent||fl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xl(t,e,n=null){return new Sl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var tL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=oy(!1,n.type),i=r.length>0?xl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=pe({token:t,providedIn:"environment",factory:()=>new t(me(Gt))})}return t})();function di(t){return Tl(()=>{let e=xI(t),n=Ce(H({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(tL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gi.Emulated,styles:t.styles||Jn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Rv("NgStandalone"),RI(n);let r=t.dependencies;return n.directiveDefs=sS(r,nL),n.pipeDefs=sS(r,cb),n.id=oL(n),n})}function nL(t){return Mo(t)||iy(t)}function Br(t){return Tl(()=>({type:t.type,bootstrap:t.bootstrap||Jn,declarations:t.declarations||Jn,imports:t.imports||Jn,exports:t.exports||Jn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rL(t,e){if(t==null)return Io;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,l,u;Array.isArray(i)?(l=i[0],o=i[1],a=i[2]??o,u=i[3]||null):(o=i,a=i,l=_h.None,u=null),n[o]=[r,l,u],e[o]=a}return n}function iL(t){if(t==null)return Io;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function sn(t){return Tl(()=>{let e=xI(t);return RI(e),e})}function xI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Io,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Jn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:rL(t.inputs,e),outputs:iL(t.outputs),debugInfo:null}}function RI(t){t.features?.forEach(e=>e(t))}function sS(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function oL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sL(t){return Object.getPrototypeOf(t.prototype).constructor}function Bn(t){let e=sL(t.type),n=!0,r=[t];for(;e;){let i;if(si(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ae(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=Fy(t.inputs),a.declaredInputs=Fy(t.declaredInputs),a.outputs=Fy(t.outputs);let l=i.hostBindings;l&&dL(t,l);let u=i.viewQuery,f=i.contentQueries;if(u&&lL(t,u),f&&uL(t,f),aL(t,i),Qw(t.outputs,i.outputs),si(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(t),l===Bn&&(n=!1)}}e=Object.getPrototypeOf(e)}cL(r)}function aL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function cL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cl(i.hostAttrs,n=Cl(n,i.hostAttrs))}}function Fy(t){return t===Io?{}:t===Jn?[]:t}function lL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function uL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function dL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function fL(t,e,n,r,i,o,a,l){if(n.firstCreatePass){t.mergedAttrs=Cl(t.mergedAttrs,t.attrs);let h=t.tView=vv(2,t,i,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}l&&(t.flags|=l),ja(t,!1);let u=pL(n,e,t,r);$f()&&wv(n,e,u,t),Ga(u,e);let f=gI(u,e,u,t);e[r+Sn]=f,Dv(e,f),GF(f,t,e)}function hL(t,e,n,r,i,o,a,l,u,f,h){let g=n+Sn,y;if(e.firstCreatePass){if(y=Eh(e,g,4,a||null,l||null),f!=null){let v=Lf(e.consts,f);y.localNames=[];for(let D=0;D<v.length;D+=2)y.localNames.push(v[D],-1)}}else y=e.data[g];return fL(y,t,e,n,r,i,o,u),f!=null&&iI(t,y,h),y}var pL=gL;function gL(t,e,n,r){return qf(!0),e[Rt].createComment("")}var Nv=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Nv||{}),Rl=new oe(""),NI=!1,cv=class extends wt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,hb()&&(this.destroyRef=$(ai,{optional:!0})??void 0,this.pendingTasks=$(ci,{optional:!0})??void 0)}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let l=super.subscribe({next:i,error:o,complete:a});return e instanceof vt&&e.add(l),l}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},lt=cv;function OI(t){let e,n;function r(){t=Ms;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function aS(t){return queueMicrotask(()=>t()),()=>{t=Ms}}var Ov="isAngularZone",uh=Ov+"_ID",mL=0,qt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new lt(!1);onMicrotaskEmpty=new lt(!1);onStable=new lt(!1);onError=new lt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=NI}=e;if(typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,_L(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ov)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ae(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,yL,Ms,Ms);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},yL={};function kv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vL(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){OI(()=>{t.callbackScheduled=!1,lv(t),t.isCheckStableRunning=!0,kv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),lv(t)}function _L(t){let e=()=>{vL(t)},n=mL++;t._inner=t._inner.fork({name:"angular",properties:{[Ov]:!0,[uh]:n,[uh+n]:!0},onInvokeTask:(r,i,o,a,l,u)=>{if(DL(u))return r.invokeTask(o,a,l,u);try{return cS(t),r.invokeTask(o,a,l,u)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lS(t)}},onInvoke:(r,i,o,a,l,u,f)=>{try{return cS(t),r.invoke(o,a,l,u,f)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!EL(u)&&e(),lS(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,lv(t),kv(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function lv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function cS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lS(t){t._nesting--,kv(t)}var dh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new lt;onMicrotaskEmpty=new lt;onStable=new lt;onError=new lt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function DL(t){return kI(t,"__ignore_ng_zone__")}function EL(t){return kI(t,"__scheduler_tick__")}function kI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var PI=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=pe({token:t,providedIn:"root",factory:()=>new t})}return t})();var Pv=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Fv=new oe("");function Ps(t){return!!t&&typeof t.then=="function"}function FI(t){return!!t&&typeof t.subscribe=="function"}var LI=new oe("");var Lv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=$(LI,{optional:!0})??[];injector=$(er);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=on(this.injector,i);if(Ps(o))n.push(o);else if(FI(o)){let a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sh=new oe("");function VI(){h0(()=>{let t="";throw new ae(600,t)})}function jI(t){return t.isBoundToModule}var CL=10;var Po=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$(Cr);afterRenderManager=$(PI);zonelessEnabled=$(Wf);rootEffectScheduler=$(_l);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new wt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=$(ci);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Pe(n=>!n))}constructor(){$(Rl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=$(Gt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=er.NULL){return this._injector.get(qt).run(()=>{ft(10);let a=n instanceof Ch;if(!this._injector.get(Lv).done){let D="";throw new ae(405,D)}let u;a?u=n:u=this._injector.get(Ml).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let f=jI(u)?void 0:this._injector.get(za),h=r||u.selector,g=u.create(i,[],h,f),y=g.location.nativeElement,v=g.injector.get(Fv,null);return v?.registerApplication(y),g.onDestroy(()=>{this.detachView(g.hostView),El(this.components,g),v?.unregisterApplication(y)}),this._loadComponent(g),ft(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ft(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Nv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ae(101,!1);let n=xe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,xe(n),this.afterTick.next(),ft(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Rs,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<CL;)ft(14),this.synchronizeOnce(),ft(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!gl(i))continue;let o=r&&!this.zonelessEnabled?0:1;Tv(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>gl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;El(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Sh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>El(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ae(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function El(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nl(t,e,n,r){let i=ct(),o=jf();if(wh(i,o,e)){let a=jn(),l=Iy();G6(l,i,t,e,n,r)}return Nl}var Vv=new oe("",{providedIn:"root",factory:()=>!1}),jv=new oe("",{providedIn:"root",factory:()=>wL}),wL=4e3;var sJ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Fo(t,e,n){let r=ct(),i=jf();if(wh(r,i,e)){let o=jn(),a=Iy();F6(a,r,t,e,r[Rt],n)}return Fo}function uS(t,e,n,r,i){Sv(e,t,n,i?"class":"style",r)}function zt(t,e,n,r){let i=ct(),o=i[Ie],a=t+Sn,l=o.firstCreatePass?EI(a,i,2,e,H6,bb(),n,r):o.data[a];if(z6(l,i,t,e,bL),kf(l)){let u=i[Ie];rI(u,i,l),jS(u,l,i)}return r!=null&&iI(i,l),zt}function Wt(){let t=jn(),e=Tn(),n=W6(e);return t.firstCreatePass&&CI(t,n),Sb(n)&&Ib(),wb(),n.classesWithoutHost!=null&&A8(n)&&uS(t,n,ct(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&x8(n)&&uS(t,n,ct(),n.stylesWithoutHost,!1),Wt}function Ka(t,e,n,r){return zt(t,e,n,r),Wt(),Ka}var bL=(t,e,n,r,i)=>(qf(!0),$S(e[Rt],r,Lb()));function Uv(){return ct()}var Ol="en-US";var SL=Ol;function UI(t){typeof t=="string"&&(SL=t.toLowerCase().replace(/_/g,"-"))}function pn(t,e,n){let r=ct(),i=jn(),o=Tn();return IL(i,r,r[Rt],o,t,e,n),pn}function IL(t,e,n,r,i,o,a){let l=!0,u=null;if((r.type&3||a)&&(u??=ky(r,e,o),MF(r,t,e,a,n,i,o,u)&&(l=!1)),l){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let g=0;g<h.length;g+=2){let y=h[g],v=h[g+1];u??=ky(r,e,o),nS(r,e,y,v,i,u)}if(f&&f.length)for(let g of f)u??=ky(r,e,o),nS(r,e,g,i,i,u)}}function TL(t,e){let n=null,r=o6(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?GS(t,o,!0):c6(r,o))return i}return n}function kl(t){let e=ct()[Vn][wn];if(!e.projection){let n=t?t.length:1,r=e.projection=ob(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let a=t?TL(o,t):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function Pl(t,e=0,n,r,i,o){let a=ct(),l=jn(),u=r?t+1:null;u!==null&&hL(a,l,u,r,i,o,null,n);let f=Eh(l,Sn+t,16,null,n||null);f.projection===null&&(f.projection=e),Dy();let g=!a[ka]||yy();a[Vn][wn].projection[f.projection]===null&&u!==null?ML(a,l,u):g&&!vh(f)&&A6(l,a,f)}function ML(t,e,n){let r=Sn+n,i=e.data[r],o=t[r],a=Jy(o,i.tView.ssrId),l=oI(t,i,void 0,{dehydratedView:a});mI(o,l,0,Ky(i,a))}function Bv(t,e,n,r){XF(t,e,n,r)}function Xa(t,e,n){KF(t,e,n)}function Lo(t){let e=ct(),n=jn(),r=wy();Bf(r+1);let i=xv(n,r);if(t.dirty&&yb(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=eL(e,r);t.reset(o,G8),t.notifyOnChanges()}return!0}return!1}function Vo(){return ZF(ct(),wy())}function Yf(t,e){return t<<17|e<<2}function Ns(t){return t>>17&32767}function AL(t){return(t&2)==2}function xL(t,e){return t&131071|e<<17}function uv(t){return t|2}function Wa(t){return(t&131068)>>2}function Ly(t,e){return t&-131069|e<<2}function RL(t){return(t&1)===1}function dv(t){return t|1}function NL(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,l=Ns(a),u=Wa(a);t[r]=n;let f=!1,h;if(Array.isArray(n)){let g=n;h=g[1],(h===null||Na(g,h)>0)&&(f=!0)}else h=n;if(i)if(u!==0){let y=Ns(t[l+1]);t[r+1]=Yf(y,l),y!==0&&(t[y+1]=Ly(t[y+1],r)),t[l+1]=xL(t[l+1],r)}else t[r+1]=Yf(l,0),l!==0&&(t[l+1]=Ly(t[l+1],r)),l=r;else t[r+1]=Yf(u,0),l===0?l=r:t[u+1]=Ly(t[u+1],r),u=r;f&&(t[r+1]=uv(t[r+1])),dS(t,h,r,!0),dS(t,h,r,!1),OL(e,h,t,r,o),a=Yf(l,u),o?e.classBindings=a:e.styleBindings=a}function OL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Na(o,e)>=0&&(n[r+1]=dv(n[r+1]))}function dS(t,e,n,r){let i=t[n+1],o=e===null,a=r?Ns(i):Wa(i),l=!1;for(;a!==0&&(l===!1||o);){let u=t[a],f=t[a+1];kL(u,e)&&(l=!0,t[a+1]=r?dv(f):uv(f)),a=r?Ns(f):Wa(f)}l&&(t[n+1]=r?uv(i):dv(i))}function kL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Na(t,e)>=0:!1}function qi(t,e){return PL(t,e,null,!0),qi}function PL(t,e,n,r){let i=ct(),o=jn(),a=Ab(2);if(o.firstUpdatePass&&LL(o,t,a,r),e!==ko&&wh(i,a,e)){let l=o.data[Ts()];HL(o,l,i,i[Rt],t,i[a+1]=GL(e,n),r,a)}}function FL(t,e){return e>=t.expandoStartIndex}function LL(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ts()],a=FL(t,n);$L(o,r)&&e===null&&!a&&(e=!1),e=VL(i,o,e,r),NL(i,o,e,n,a,r)}}function VL(t,e,n,r){let i=Ob(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Vy(null,t,e,n,r),n=Il(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Vy(i,t,e,n,r),o===null){let u=jL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Vy(null,t,e,u[1],r),u=Il(u,e.attrs,r),UL(t,e,r,u))}else o=BL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function jL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Wa(r)!==0)return t[Ns(r)]}function UL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ns(i)]=r}function BL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=Il(r,a,n)}return Il(r,e.attrs,n)}function Vy(t,e,n,r,i){let o=null,a=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<a&&(o=e[l],r=Il(r,o.hostAttrs,i),o!==t);)l++;return t!==null&&(n.directiveStylingLast=l),r}function Il(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ab(t,a,n?!0:e[++o]))}return t===void 0?null:t}function HL(t,e,n,r,i,o,a,l){if(!(e.type&3))return;let u=t.data,f=u[l+1],h=RL(f)?fS(u,e,n,i,Wa(f),a):void 0;if(!fh(h)){fh(o)||AL(f)&&(o=fS(u,null,n,i,l,a));let g=dy(Ts(),n);R6(r,a,g,i,o)}}function fS(t,e,n,r,i,o){let a=e===null,l;for(;i>0;){let u=t[i],f=Array.isArray(u),h=f?u[1]:u,g=h===null,y=n[i+1];y===ko&&(y=g?Jn:void 0);let v=g?Rf(y,r):h===r?y:void 0;if(f&&!fh(v)&&(v=Rf(u,r)),fh(v)&&(l=v,a))return l;let D=t[i+1];i=a?Ns(D):Wa(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(l=Rf(u,r))}return l}function fh(t){return t!==void 0}function GL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ui(US(t)))),t}function $L(t,e){return(t.flags&(e?8:16))!==0}function Hn(t,e=""){let n=ct(),r=jn(),i=t+Sn,o=r.firstCreatePass?Eh(r,i,1,e,null):r.data[i],a=qL(r,n,o,e,t);n[i]=a,$f()&&wv(r,n,a,o),ja(o,!1)}var qL=(t,e,n,r,i)=>(qf(!0),f6(e[Rt],r));function zL(t,e,n,r=""){return wh(t,jf(),n)?e+Mf(n)+r:ko}function Fl(t){return Ll("",t),Fl}function Ll(t,e,n){let r=ct(),i=zL(r,t,e,n);return i!==ko&&WL(r,Ts(),i),Ll}function WL(t,e,n){let r=dy(e,t);h6(t[Rt],r,n)}function YL(t,e,n){let r=jn();if(r.firstCreatePass){let i=si(t);fv(n,r.data,r.blueprint,i,!0),fv(e,r.data,r.blueprint,i,!1)}}function fv(t,e,n,r,i){if(t=rn(t),Array.isArray(t))for(let o=0;o<t.length;o++)fv(t[o],e,n,r,i);else{let o=jn(),a=ct(),l=Tn(),u=_s(t)?t:rn(t.provide),f=ay(t),h=l.providerIndexes&1048575,g=l.directiveStart,y=l.providerIndexes>>20;if(_s(t)||!t.multi){let v=new xs(f,i,ht,null),D=Uy(u,e,i?h:h+y,g);D===-1?(Hy(nh(l,a),o,u),jy(o,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(v),a.push(v)):(n[D]=v,a[D]=v)}else{let v=Uy(u,e,h+y,g),D=Uy(u,e,h,h+y),S=v>=0&&n[v],w=D>=0&&n[D];if(i&&!w||!i&&!S){Hy(nh(l,a),o,u);let M=XL(i?KL:ZL,n.length,i,r,f,t);!i&&w&&(n[D].providerFactory=M),jy(o,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(M),a.push(M)}else{let M=BI(n[i?D:v],f,!i&&r);jy(o,t,v>-1?v:D,M)}!i&&r&&w&&n[D].componentProviders++}}}function jy(t,e,n,r){let i=_s(e),o=fb(e);if(i||o){let u=(o?rn(e.useClass):e).prototype.ngOnDestroy;if(u){let f=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=f.indexOf(n);h===-1?f.push(n,[r,u]):f[h+1].push(r,u)}else f.push(n,u)}}}function BI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Uy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ZL(t,e,n,r,i){return hv(this.multi,[])}function KL(t,e,n,r,i){let o=this.multi,a;if(this.providerFactory){let l=this.providerFactory.componentProviders,u=wl(r,r[Ie],this.providerFactory.index,i);a=u.slice(0,l),hv(o,a);for(let f=l;f<u.length;f++)a.push(u[f])}else a=[],hv(o,a);return a}function hv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function XL(t,e,n,r,i,o){let a=new xs(t,n,ht,null);return a.multi=[],a.index=e,a.componentProviders=0,BI(a,i,r&&!n),a}function Hr(t,e=[]){return n=>{n.providersResolver=(r,i)=>YL(r,i?i(t):t,e)}}var hh=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Hv=(()=>{class t{compileModuleSync(n){return new lh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ry(n),o=BS(i.declarations).reduce((a,l)=>{let u=Mo(l);return u&&a.push(new qa(u)),a},[]);return new hh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var QL=(()=>{class t{zone=$(qt);changeDetectionScheduler=$(ri);applicationRef=$(Po);applicationErrorHandler=$(Cr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HI({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new qt(Ce(H({},GI()),{scheduleInRootZone:n})),[{provide:qt,useFactory:t},{provide:To,multi:!0,useFactory:()=>{let r=$(QL,{optional:!0});return()=>r.initialize()}},{provide:To,multi:!0,useFactory:()=>{let r=$(JL);return()=>{r.initialize()}}},e===!0?{provide:Ay,useValue:!0}:[],{provide:xy,useValue:n??NI},{provide:Cr,useFactory:()=>{let r=$(qt),i=$(Gt),o;return a=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw a}):(o??=i.get(Fr),o.handleError(a))})}}}]}function GI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var JL=(()=>{class t{subscription=new vt;initialized=!1;zone=$(qt);pendingTasks=$(ci);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $I=(()=>{class t{applicationErrorHandler=$(Cr);appRef=$(Po);taskService=$(ci);ngZone=$(qt);zonelessEnabled=$(Wf);tracing=$(Rl,{optional:!0});disableScheduling=$(Ay,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new vt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(uh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(xy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?aS:OI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(uh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,aS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function e9(){return typeof $localize<"u"&&$localize.locale||Ol}var Gv=new oe("",{providedIn:"root",factory:()=>$(Gv,{optional:!0,skipSelf:!0})||e9()});function Mn(t){return Ww(t)}function Vl(t,e){return zd(t,e?.equal)}var $v=class{[Cn];constructor(e){this[Cn]=e}destroy(){this[Cn].destroy()}};function qv(t,e){let n=e?.injector??$(er),r=e?.manualCleanup!==!0?n.get(ai):null,i,o=n.get(yl,null,{optional:!0}),a=n.get(ri);return o!==null?(i=r9(o.view,a,t),r instanceof cl&&r._lView===o.view&&(r=null)):i=i9(t,n.get(_l),a),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new $v(i)}var qI=Ce(H({},Yw),{cleanupFns:void 0,zone:null,onDestroyFn:Ms,run(){let t=Ua(!1);try{Zw(this)}finally{Ua(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=xe(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],xe(t)}}}),t9=Ce(H({},qI),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){us(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),n9=Ce(H({},qI),{consumerMarkedDirty(){this.view[Se]|=8192,Is(this.view),this.notifier.notify(13)},destroy(){us(this),this.onDestroyFn(),this.cleanup(),this.view[Hi]?.delete(this)}});function r9(t,e,n){let r=Object.create(n9);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=zI(r,n),t[Hi]??=new Set,t[Hi].add(r),r.consumerMarkedDirty(r),r}function i9(t,e,n){let r=Object.create(t9);return r.fn=zI(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function zI(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var ZI=Symbol("InputSignalNode#UNSET"),m9=Ce(H({},Wd),{transformFn:void 0,applyValueToInputSignal(t,e){va(t,e)}});function KI(t,e){let n=Object.create(m9);n.value=t,n.transformFn=e?.transform;function r(){if(pa(n),n.value===ZI){let i=null;throw new ae(-950,i)}return n.value}return r[Cn]=n,r}var y9=new oe("");y9.__NG_ELEMENT_ID__=t=>{let e=Tn();if(e===null)throw new ae(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new ae(204,!1)};function WI(t,e){return KI(t,e)}function v9(t){return KI(ZI,t)}var XI=(WI.required=v9,WI);var zv=new oe(""),_9=new oe("");function jl(t){return!t.moduleRef}function D9(t){let e=jl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(qt);return n.run(()=>{jl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cr),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),jl(t)){let o=()=>e.destroy(),a=t.platformInjector.get(zv);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(zv);a.add(o),t.moduleRef.onDestroy(()=>{El(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return C9(r,n,()=>{let o=e.get(ci),a=o.add(),l=e.get(Lv);return l.runInitializers(),l.donePromise.then(()=>{let u=e.get(Gv,Ol);if(UI(u||Ol),!e.get(_9,!0))return jl(t)?e.get(Po):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(jl(t)){let h=e.get(Po);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return E9?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(a))})})}var E9;function C9(t,e,n){try{let r=n();return Ps(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ih=null;function w9(t=[],e){return er.create({name:e,providers:[{provide:dl,useValue:"platform"},{provide:zv,useValue:new Set([()=>Ih=null])},...t]})}function b9(t=[]){if(Ih)return Ih;let e=w9(t);return Ih=e,VI(),S9(e),e}function S9(t){let e=t.get(mh,null);on(t,()=>{e?.forEach(n=>n())})}var Fs=(()=>{class t{static __NG_ELEMENT_ID__=I9}return t})();function I9(t){return T9(Tn(),ct(),(t&16)===16)}function T9(t,e,n){if(Ro(t)&&!n){let r=_r(t.index,e);return new Oo(r,r)}else if(t.type&175){let r=e[Vn];return new Oo(r,e)}return null}function QI(t){ft(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=b9(r),o=[HI({}),{provide:ri,useExisting:$I},jb,...n||[]],a=new Sl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return D9({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ft(9)}}function Wv(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var t2=null;function br(){return t2}function Yv(t){t2??=t}var Ul=class{},Bl=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:()=>$(n2),providedIn:"platform"})}return t})();var n2=(()=>{class t extends Bl{_location;_history;_doc=$($t);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return br().getBaseHref(this._doc)}onPopState(n){let r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Th(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function JI(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Gr(t){return t&&t[0]!=="?"?`?${t}`:t}var jo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:()=>$(Zv),providedIn:"root"})}return t})(),Mh=new oe(""),Zv=(()=>{class t extends jo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$($t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Th(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+Gr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+Gr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(me(Bl),me(Mh,8))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ls=(()=>{class t{_subject=new wt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=x9(JI(e2(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Gr(r))}normalize(n){return t.stripTrailingSlash(A9(this._basePath,e2(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Gr;static joinWithSlash=Th;static stripTrailingSlash=JI;static \u0275fac=function(r){return new(r||t)(me(jo))};static \u0275prov=pe({token:t,factory:()=>M9(),providedIn:"root"})}return t})();function M9(){return new Ls(me(jo))}function A9(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function e2(t){return t.replace(/\/index.html$/,"")}function x9(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Kv=(()=>{class t extends jo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Th(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+Gr(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+Gr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(me(Bl),me(Mh,8))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})();var Qa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=mr({})}return t})();function Hl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vs=class{};var r2="browser";var xh=new oe(""),t_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ae(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(me(xh),me(qt))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})(),Gl=class{_doc;constructor(e){this._doc=e}manager},Xv="ng-app-id";function i2(t){for(let e of t)e.remove()}function o2(t,e){let n=e.createElement("style");return n.textContent=t,n}function O9(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Xv}="${e}"],link[${Xv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Xv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Jv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var n_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,O9(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,o2);r?.forEach(i=>this.addUsage(i,this.external,Jv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(i2(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])i2(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,o2(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Jv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(me($t),me(gh),me(yh,8),me(Za))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})(),Qv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},r_=/%COMP%/g;var a2="%COMP%",k9=`_nghost-${a2}`,P9=`_ngcontent-${a2}`,F9=!0,L9=new oe("",{providedIn:"root",factory:()=>F9});function V9(t){return P9.replace(r_,t)}function j9(t){return k9.replace(r_,t)}function c2(t,e){return e.map(n=>n.replace(r_,t))}var i_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,i,o,a,l,u,f=null,h,g,y=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=f,this.animationDisabled=h,this.maxAnimationTimeout=g,this.tracingService=y,this.platformIsServer=!1,this.defaultRenderer=new $l(n,a,u,this.platformIsServer,this.tracingService,this.registry=zf(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Ah?i.applyToHost(n):i instanceof ql&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,l=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Gi.Emulated:o=new Ah(u,f,r,this.appId,h,a,l,g,y,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Gi.ShadowDom:return new e_(u,f,n,r,a,l,this.nonce,g,y,this.registry,this.maxAnimationTimeout);default:o=new ql(u,f,r,h,a,l,g,y,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(me(t_),me(n_),me(gh),me(L9),me($t),me(Za),me(qt),me(yh),me(Vv),me(jv),me(Rl,8))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})(),$l=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o,a,l){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=a,this.maxAnimationTimeout=l}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Qv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(s2(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(s2(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){let{elements:r}=this.registry;if(r){r.animate(n,()=>n.remove(),this.maxAnimationTimeout);return}n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ae(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Qv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Qv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($i.DashCase|$i.Important)?e.style.setProperty(n,r,i&$i.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$i.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=br().getGlobalEventTarget(this.doc,e),!e))throw new ae(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function s2(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var e_=class extends $l{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,a,l,u,f,h,g){super(e,o,a,u,f,h,g),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let y=i.styles;y=c2(i.id,y);for(let D of y){let S=document.createElement("style");l&&S.setAttribute("nonce",l),S.textContent=D,this.shadowRoot.appendChild(S)}let v=i.getExternalStyles?.();if(v)for(let D of v){let S=Jv(D,o);l&&S.setAttribute("nonce",l),this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ql=class extends $l{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,n,r,i,o,a,l,u,f,h,g,y){super(e,o,a,l,u,f,g),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let v=r.styles;this.styles=y?c2(y,v):v,this.styleUrls=r.getExternalStyles?.(y)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Ah=class extends ql{contentAttr;hostAttr;constructor(e,n,r,i,o,a,l,u,f,h,g,y){let v=i+"-"+r.id;super(e,n,r,o,a,l,u,f,h,g,y,v),this.contentAttr=V9(v),this.hostAttr=j9(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Rh=class t extends Ul{supportsDOMEvents=!0;static makeCurrent(){Yv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=U9();return n==null?null:B9(n)}resetBaseElement(){zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hl(document.cookie,e)}},zl=null;function U9(){return zl=zl||document.head.querySelector("base"),zl?zl.getAttribute("href"):null}function B9(t){return new URL(t,document.baseURI).pathname}var H9=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})(),u2=(()=>{class t extends Gl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(me($t))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})(),l2=["alt","control","meta","shift"],G9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},d2=(()=>{class t extends Gl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=t.parseEventName(r),l=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>br().onAndCancel(n,a.domEventName,l,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),l2.forEach(f=>{let h=r.indexOf(f);h>-1&&(r.splice(h,1),a+=f+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let i=G9[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),l2.forEach(a=>{if(a!==i){let l=$9[a];l(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(me($t))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})();function o_(t,e){let n=H({rootComponent:t},q9(e));return QI(n)}function q9(t){return{appProviders:[...K9,...t?.providers??[]],platformProviders:Z9}}function z9(){Rh.makeCurrent()}function W9(){return new Fr}function Y9(){return mv(document),document}var Z9=[{provide:Za,useValue:r2},{provide:mh,useValue:z9,multi:!0},{provide:$t,useFactory:Y9}];var K9=[{provide:dl,useValue:"root"},{provide:Fr,useFactory:W9},{provide:xh,useClass:u2,multi:!0,deps:[$t]},{provide:xh,useClass:d2,multi:!0,deps:[$t]},i_,n_,t_,{provide:Rs,useExisting:i_},{provide:Vs,useClass:H9},[]];var ec=class{},Zl=class{},js=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Oh=class{encodeKey(e){return f2(e)}encodeValue(e){return f2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function X9(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,l]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(a)||[];u.push(l),n.set(a,u)}),n}var Q9=/%(\d[a-f0-9])/gi,J9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function f2(t){return encodeURIComponent(t).replace(Q9,(e,n)=>J9[n]??e)}function Nh(t){return`${t}`}var Uo=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Oh,e.fromString){if(e.fromObject)throw new ae(2805,!1);this.map=X9(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Nh):[Nh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Nh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Nh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var kh=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function e7(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function h2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function p2(t){return typeof Blob<"u"&&t instanceof Blob}function g2(t){return typeof FormData<"u"&&t instanceof FormData}function t7(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var m2="Content-Type",y2="Accept",v2="X-Request-URL",_2="text/plain",D2="application/json",n7=`${D2}, ${_2}, */*`,Wl=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(e7(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new ae(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new js,this.context??=new kh,!this.params)this.params=new Uo,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),u=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+u+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||h2(this.body)||p2(this.body)||g2(this.body)||t7(this.body)?this.body:this.body instanceof Uo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||g2(this.body)?null:p2(this.body)?this.body.type||null:h2(this.body)?null:typeof this.body=="string"?_2:this.body instanceof Uo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?D2:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,a=e.priority||this.priority,l=e.cache||this.cache,u=e.mode||this.mode,f=e.redirect||this.redirect,h=e.credentials||this.credentials,g=e.referrer||this.referrer,y=e.integrity||this.integrity,v=e.transferCache??this.transferCache,D=e.timeout??this.timeout,S=e.body!==void 0?e.body:this.body,w=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,A=e.headers||this.headers,T=e.params||this.params,O=e.context??this.context;return e.setHeaders!==void 0&&(A=Object.keys(e.setHeaders).reduce((L,U)=>L.set(U,e.setHeaders[U]),A)),e.setParams&&(T=Object.keys(e.setParams).reduce((L,U)=>L.set(U,e.setParams[U]),T)),new t(n,r,S,{params:T,headers:A,context:O,reportProgress:M,responseType:i,withCredentials:w,transferCache:v,keepalive:o,cache:l,priority:a,timeout:D,mode:u,redirect:f,credentials:h,referrer:g,integrity:y})}},Ja=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Ja||{}),tc=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new js,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Ph=class t extends tc{constructor(e={}){super(e)}type=Ja.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fh=class t extends tc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ja.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Yl=class extends tc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},r7=200,i7=204;function s_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var o7=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Wl)o=n;else{let u;i.headers instanceof js?u=i.headers:u=new js(i.headers);let f;i.params&&(i.params instanceof Uo?f=i.params:f=new Uo({fromObject:i.params})),o=new Wl(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let a=be(o).pipe(wo(u=>this.handler.handle(u)));if(n instanceof Wl||i.observe==="events")return a;let l=a.pipe(Ln(u=>u instanceof Fh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(Pe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new ae(2806,!1);return u.body}));case"blob":return l.pipe(Pe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new ae(2807,!1);return u.body}));case"text":return l.pipe(Pe(u=>{if(u.body!==null&&typeof u.body!="string")throw new ae(2808,!1);return u.body}));case"json":default:return l.pipe(Pe(u=>u.body))}case"response":return l;default:throw new ae(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Uo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,s_(i,r))}post(n,r,i={}){return this.request("POST",n,s_(i,r))}put(n,r,i={}){return this.request("PUT",n,s_(i,r))}static \u0275fac=function(r){return new(r||t)(me(ec))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})();var s7=new oe("");function a7(t,e){return e(t)}function c7(t,e,n){return(r,i)=>on(n,()=>e(r,o=>t(o,i)))}var E2=new oe(""),l7=new oe(""),C2=new oe("",{providedIn:"root",factory:()=>!0});var Lh=(()=>{class t extends ec{backend;injector;chain=null;pendingTasks=$(vl);contributeToStability=$(C2);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(E2),...this.injector.get(l7,[])]));this.chain=r.reduceRight((i,o)=>c7(i,o,this.injector),a7)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(gs(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(me(Zl),me(Gt))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})();var u7=/^\)\]\}',?\n/,d7=RegExp(`^${v2}:`,"m");function f7(t){return"responseURL"in t&&t.responseURL?t.responseURL:d7.test(t.getAllResponseHeaders())?t.getResponseHeader(v2):null}var a_=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ae(-2800,!1);let r=this.xhrFactory;return be(null).pipe(hn(()=>new qe(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((w,M)=>a.setRequestHeader(w,M.join(","))),n.headers.has(y2)||a.setRequestHeader(y2,n7),!n.headers.has(m2)){let w=n.detectContentTypeHeader();w!==null&&a.setRequestHeader(m2,w)}if(n.timeout&&(a.timeout=n.timeout),n.responseType){let w=n.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let l=n.serializeBody(),u=null,f=()=>{if(u!==null)return u;let w=a.statusText||"OK",M=new js(a.getAllResponseHeaders()),A=f7(a)||n.url;return u=new Ph({headers:M,status:a.status,statusText:w,url:A}),u},h=()=>{let{headers:w,status:M,statusText:A,url:T}=f(),O=null;M!==i7&&(O=typeof a.response>"u"?a.responseText:a.response),M===0&&(M=O?r7:0);let L=M>=200&&M<300;if(n.responseType==="json"&&typeof O=="string"){let U=O;O=O.replace(u7,"");try{O=O!==""?JSON.parse(O):null}catch(Y){O=U,L&&(L=!1,O={error:Y,text:O})}}L?(o.next(new Fh({body:O,headers:w,status:M,statusText:A,url:T||void 0})),o.complete()):o.error(new Yl({error:O,headers:w,status:M,statusText:A,url:T||void 0}))},g=w=>{let{url:M}=f(),A=new Yl({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:M||void 0});o.error(A)},y=g;n.timeout&&(y=w=>{let{url:M}=f(),A=new Yl({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:M||void 0});o.error(A)});let v=!1,D=w=>{v||(o.next(f()),v=!0);let M={type:Ja.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(M.total=w.total),n.responseType==="text"&&a.responseText&&(M.partialText=a.responseText),o.next(M)},S=w=>{let M={type:Ja.UploadProgress,loaded:w.loaded};w.lengthComputable&&(M.total=w.total),o.next(M)};return a.addEventListener("load",h),a.addEventListener("error",g),a.addEventListener("timeout",y),a.addEventListener("abort",g),n.reportProgress&&(a.addEventListener("progress",D),l!==null&&a.upload&&a.upload.addEventListener("progress",S)),a.send(l),o.next({type:Ja.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",h),a.removeEventListener("timeout",y),n.reportProgress&&(a.removeEventListener("progress",D),l!==null&&a.upload&&a.upload.removeEventListener("progress",S)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||t)(me(Vs))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})(),w2=new oe(""),h7="XSRF-TOKEN",b2=new oe("",{providedIn:"root",factory:()=>h7}),p7="X-XSRF-TOKEN",S2=new oe("",{providedIn:"root",factory:()=>p7}),Kl=class{},g7=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(me($t),me(b2))};static \u0275prov=pe({token:t,factory:t.\u0275fac})}return t})();function m7(t,e){let n=t.url.toLowerCase();if(!$(w2)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=$(Kl).getToken(),i=$(S2);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var c_=(function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t})(c_||{});function y7(t,e){return{\u0275kind:t,\u0275providers:e}}function l_(...t){let e=[o7,a_,Lh,{provide:ec,useExisting:Lh},{provide:Zl,useFactory:()=>$(s7,{optional:!0})??$(a_)},{provide:E2,useValue:m7,multi:!0},{provide:w2,useValue:!0},{provide:Kl,useClass:g7}];for(let n of t)e.push(...n.\u0275providers);return Oa(e)}function u_({cookieName:t,headerName:e}){let n=[];return t!==void 0&&n.push({provide:b2,useValue:t}),e!==void 0&&n.push({provide:S2,useValue:e}),y7(c_.CustomXsrfConfiguration,n)}var I2=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(me($t))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var P2=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ht(Al),ht(wr))};static \u0275dir=sn({type:t})}return t})(),g_=(()=>{class t extends P2{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=sn({type:t,features:[Bn]})}return t})(),Hh=new oe("");var _7={provide:Hh,useExisting:gr(()=>Gh),multi:!0};function D7(){let t=br()?br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var E7=new oe(""),Gh=(()=>{class t extends P2{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!D7())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ht(Al),ht(wr),ht(E7,8))};static \u0275dir=sn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&pn("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Hr([_7]),Bn]})}return t})();var m_=new oe(""),C7=new oe("");function w7(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function b7(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function T2(t){return null}function F2(t){return t!=null}function L2(t){return Ps(t)?It(t):t}function V2(t){let e={};return t.forEach(n=>{e=n!=null?H(H({},e),n):e}),Object.keys(e).length===0?null:e}function j2(t,e){return e.map(n=>n(t))}function S7(t){return!t.validate}function U2(t){return t.map(e=>S7(e)?e:n=>e.validate(n))}function I7(t){if(!t)return null;let e=t.filter(F2);return e.length==0?null:function(n){return V2(j2(n,e))}}function B2(t){return t!=null?I7(U2(t)):null}function T7(t){if(!t)return null;let e=t.filter(F2);return e.length==0?null:function(n){let r=j2(n,e).map(L2);return T0(r).pipe(Pe(V2))}}function H2(t){return t!=null?T7(U2(t)):null}function M2(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function M7(t){return t._rawValidators}function A7(t){return t._rawAsyncValidators}function d_(t){return t?Array.isArray(t)?t:[t]:[]}function jh(t,e){return Array.isArray(t)?t.includes(e):t===e}function A2(t,e){let n=d_(e);return d_(t).forEach(i=>{jh(n,i)||n.push(i)}),n}function x2(t,e){return d_(e).filter(n=>!jh(t,n))}var Uh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=B2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=H2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},f_=class extends Uh{name;get formDirective(){return null}get path(){return null}},tu=class extends Uh{_parent=null;name=null;valueAccessor=null},h_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},x7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ele=Ce(H({},x7),{"[class.ng-submitted]":"isSubmitted"}),G2=(()=>{class t extends h_{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ht(tu,2))};static \u0275dir=sn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Bn]})}return t})();var Xl="VALID",Vh="INVALID",nc="PENDING",Ql="DISABLED",ic=class{},Bh=class extends ic{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Jl=class extends ic{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},eu=class extends ic{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},rc=class extends ic{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function R7(t){return($h(t)?t.validators:t)||null}function N7(t){return Array.isArray(t)?B2(t):t||null}function O7(t,e){return($h(e)?e.asyncValidators:t)||null}function k7(t){return Array.isArray(t)?H2(t):t||null}function $h(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var p_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Mn(this.statusReactive)}set status(e){Mn(()=>this.statusReactive.set(e))}_status=Vl(()=>this.statusReactive());statusReactive=Nt(void 0);get valid(){return this.status===Xl}get invalid(){return this.status===Vh}get pending(){return this.status==nc}get disabled(){return this.status===Ql}get enabled(){return this.status!==Ql}errors;get pristine(){return Mn(this.pristineReactive)}set pristine(e){Mn(()=>this.pristineReactive.set(e))}_pristine=Vl(()=>this.pristineReactive());pristineReactive=Nt(!0);get dirty(){return!this.pristine}get touched(){return Mn(this.touchedReactive)}set touched(e){Mn(()=>this.touchedReactive.set(e))}_touched=Vl(()=>this.touchedReactive());touchedReactive=Nt(!1);get untouched(){return!this.touched}_events=new wt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(A2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(A2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(x2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(x2(e,this._rawAsyncValidators))}hasValidator(e){return jh(this._rawValidators,e)}hasAsyncValidator(e){return jh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ce(H({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new eu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new eu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ce(H({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Jl(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Jl(!0,r))}markAsPending(e={}){this.status=nc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ce(H({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ql,this.errors=null,this._forEachChild(i=>{i.disable(Ce(H({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bh(this.value,r)),this._events.next(new rc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(H({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xl,this._forEachChild(r=>{r.enable(Ce(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ce(H({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xl||this.status===nc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bh(this.value,n)),this._events.next(new rc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ce(H({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ql:Xl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=nc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=L2(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new rc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?Ql:this.errors?Vh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nc)?nc:this._anyControlsHaveStatus(Vh)?Vh:Xl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Jl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new eu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$h(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=N7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=k7(this._rawAsyncValidators)}};var $2=new oe("",{providedIn:"root",factory:()=>y_}),y_="always";function P7(t,e){return[...e.path,t]}function F7(t,e,n=y_){V7(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),j7(t,e),B7(t,e),U7(t,e),L7(t,e)}function R2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function L7(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function V7(t,e){let n=M7(t);e.validator!==null?t.setValidators(M2(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=A7(t);e.asyncValidator!==null?t.setAsyncValidators(M2(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();R2(e._rawValidators,i),R2(e._rawAsyncValidators,i)}function j7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&q2(t,e)})}function U7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&q2(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function q2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function B7(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function H7(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function G7(t){return Object.getPrototypeOf(t.constructor)===g_}function $7(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Gh?n=o:G7(o)?r=o:i=o}),i||r||n||null}function N2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function O2(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var q7=class extends p_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(R7(n),O7(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$h(n)&&(n.nonNullable||n.initialValueIsDefault)&&(O2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){N2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){N2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){O2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var z7={provide:tu,useExisting:gr(()=>v_)},k2=Promise.resolve(),v_=(()=>{class t extends tu{_changeDetectorRef;callSetDisabledState;control=new q7;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new lt;constructor(n,r,i,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$7(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),H7(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){F7(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){k2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Wv(r);k2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?P7(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ht(f_,9),ht(m_,10),ht(C7,10),ht(Hh,10),ht(Fs,8),ht($2,8))};static \u0275dir=sn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Hr([z7]),Bn,Os]})}return t})();var W7={provide:Hh,useExisting:gr(()=>__),multi:!0},__=(()=>{class t extends g_{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=sn({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&pn("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Hr([W7]),Bn]})}return t})();var Y7={provide:Hh,useExisting:gr(()=>D_),multi:!0},D_=(()=>{class t extends g_{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=sn({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&pn("change",function(a){return i.onChange(a.target.value)})("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Hr([Y7]),Bn]})}return t})();function z2(t){return typeof t=="number"?t:parseFloat(t)}var W2=(()=>{class t{_validator=T2;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):T2,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=sn({type:t,features:[Os]})}return t})(),Z7={provide:m_,useExisting:gr(()=>E_),multi:!0},E_=(()=>{class t extends W2{max;inputName="max";normalizeInput=n=>z2(n);createValidator=n=>b7(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=sn({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Nl("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Hr([Z7]),Bn]})}return t})(),K7={provide:m_,useExisting:gr(()=>C_),multi:!0},C_=(()=>{class t extends W2{min;inputName="min";normalizeInput=n=>z2(n);createValidator=n=>w7(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=sn({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Nl("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Hr([K7]),Bn]})}return t})();var X7=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=mr({})}return t})();var Y2=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$2,useValue:n.callSetDisabledState??y_}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=mr({imports:[X7]})}return t})();var io=Ct(nA());var rG=Ct(Vt(),1),iG=Ct(Q_(),1),oG=Ct(t1(),1),sG=Ct(n1(),1),aG=Ct(i1(),1),cG=Ct(yp(),1),lG=Ct(vu(),1),uG=Ct(Ip(),1),dG=Ct(h1(),1),fG=Ct(p1(),1),hG=Ct(y1(),1),pG=Ct(Op(),1),gG=Ct(b1(),1),mG=Ct(I1(),1);var fg=Ct(K_(),1);var ug,QH=new Uint8Array(16);function O1(){if(!ug&&(ug=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ug))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ug(QH)}var cn=[];for(let t=0;t<256;++t)cn.push((t+256).toString(16).slice(1));function rA(t,e=0){return cn[t[e+0]]+cn[t[e+1]]+cn[t[e+2]]+cn[t[e+3]]+"-"+cn[t[e+4]]+cn[t[e+5]]+"-"+cn[t[e+6]]+cn[t[e+7]]+"-"+cn[t[e+8]]+cn[t[e+9]]+"-"+cn[t[e+10]]+cn[t[e+11]]+cn[t[e+12]]+cn[t[e+13]]+cn[t[e+14]]+cn[t[e+15]]}var JH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),k1={randomUUID:JH};function eG(t,e,n){if(k1.randomUUID&&!e&&!t)return k1.randomUUID();t=t||{};let r=t.random||(t.rng||O1)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return rA(r)}var P1=eG;var yG=Ct(yu(),1),hg=Ct(iA(),1),cA=Ct(sp(),1),lA=Ct(H_(),1),vG=Ct(s1(),1),uA=Ct(f1(),1);var Nue=Ct(sA(),1);var L1=["*"];var F1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=sn({type:e,selectors:[["ko-listening"]],standalone:!1});let t=e;return t})(),aA=(()=>{let e=class e{get shouldListen(){return!!this.koListening}getKoItem(){throw new Error("Unimplemented!")}constructor(r){this.koListening=r,this.id=P1(),this.transitionDelay=0,this.transitionOnUpdate=new lt,this.transitionOnFinish=new lt,this.sub=new vt,this._initialSetConfig=!0,this.configDefaults={id:this.id,listening:this.shouldListen,perfectDrawEnabled:!1,hitStrokeWidth:0,shadowForStrokeEnabled:!1}}ngOnInit(){}ngOnDestroy(){this.getKoItem().destroy(),this.sub.unsubscribe(),this._tween&&(this._tween.finish(),this._tween.destroy(),this._tween=void 0)}setConfig(r){let i=this.getKoItem();clearTimeout(this._tweenTimeout),this._tween&&(this._tween.finish(),this._tween.destroy(),this._tween=void 0),this.transitionWith&&i.getLayer()&&!r._skipTransition&&!this._initialSetConfig?this._tweenTimeout=setTimeout(()=>{this._tween=new fg.Tween(Ce(H(H({},this.transitionWith),r),{onUpdate:()=>{this.transitionOnUpdate.emit(i)},onFinish:()=>{this.transitionOnFinish.emit(i)},node:i})),this._tween.play()},this.transitionDelay||0):i.setAttrs(r),this._initialSetConfig=!1}};e.Easings=fg.Easings,e.\u0275fac=function(i){return new(i||e)(ht(F1))},e.\u0275cmp=di({type:e,selectors:[["ng-component"]],inputs:{id:"id",transitionWith:"transitionWith",transitionDelay:"transitionDelay"},outputs:{transitionOnUpdate:"transitionOnUpdate",transitionOnFinish:"transitionOnFinish"},standalone:!1,decls:0,vars:0,template:function(i,o){},encapsulation:2,changeDetection:0});let t=e;return t})(),Tu=(()=>{let e=class e{set config(r){if(!this.container&&!r.container)throw new Error("Specify at least a config.container or nest ko-stage in div!");this._config=r,this.updateStage()}get config(){return this._config}constructor(r){this.draw$=new wt,this.beforeUpdate=new lt,this.afterUpdate=new lt,this.onNewLayer=new lt,this.sub=new vt,this.container=r,this._config={container:r.nativeElement},this.stage=new lA.Stage(Ce(H({},this._config),{container:this._config.container||this.container.nativeElement})),this.sub.add(this.draw$.pipe(Df(20)).subscribe(this.draw.bind(this)))}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.sub.unsubscribe(),this.stage.destroy()}addChild(r){this.stage.findOne(`#${r.id()}`)||(this.stage.add(r),r.fire("ko:added",this.stage),this.onNewLayer.emit(r),this.draw$.next())}updateStage(){this.beforeUpdate.emit(this.stage),this.stage.setAttrs(Ce(H({},this._config),{container:this._config.container||this.container.nativeElement})),this.afterUpdate.emit(this.stage),this.draw$.next()}draw(){this.stage.draw()}};e.\u0275fac=function(i){return new(i||e)(ht(wr,8))},e.\u0275cmp=di({type:e,selectors:[["ko-stage"]],inputs:{config:"config"},outputs:{beforeUpdate:"beforeUpdate",afterUpdate:"afterUpdate",onNewLayer:"onNewLayer"},standalone:!1,ngContentSelectors:L1,decls:1,vars:0,template:function(i,o){i&1&&(kl(),Pl(0))},encapsulation:2,changeDetection:0});let t=e;return t})(),_G=(()=>{let e=class e extends Tu{set additionalScale(r){this._additionalScale=r,this.scaleStage()}get additionalScale(){return this._additionalScale}constructor(r,i){if(super(r),this.parentContainer=r,this.cdRef=i,this.initialDimensions=null,this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this._additionalScale=1,this.initDimensions=new lt,!r)throw new Error("ko-stage-autoscale should be nested inside a div/element!");this.config={container:r.nativeElement,width:0,height:0},this.resizeObserver.observe(this.parentContainer.nativeElement)}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){this.scaleStage()}ngOnDestroy(){super.ngOnDestroy(),this.resizeObserver.disconnect()}onResize(){this.scaleStage()}scaleStage(){let{width:r,height:i}=this.parentContainer.nativeElement.getBoundingClientRect();if(isNaN(r)||isNaN(i)||r<=0||i<=0)return;this.initialDimensions||(this.initialDimensions=this.parentContainer.nativeElement.getBoundingClientRect(),this.initDimensions.emit(this.initialDimensions));let o=r/this.initialDimensions.width,a=i/this.initialDimensions.height,l=this.additionalScale,u=this.additionalScale;typeof this.additionalScale!="number"&&(l=this.additionalScale.x,u=this.additionalScale.y),this.config=Ce(H({},this.config),{container:this.parentContainer.nativeElement,width:r,height:i,scaleX:o*l,scaleY:a*u}),this.afterUpdate.emit(this.stage),this.cdRef.detectChanges()}};e.\u0275fac=function(i){return new(i||e)(ht(wr,4),ht(Fs))},e.\u0275cmp=di({type:e,selectors:[["ko-stage-autoscale"]],inputs:{additionalScale:"additionalScale"},outputs:{initDimensions:"initDimensions"},standalone:!1,features:[Hr([{provide:Tu,useExisting:e}]),Bn],ngContentSelectors:L1,decls:1,vars:0,template:function(i,o){i&1&&(kl(),Pl(0))},encapsulation:2,changeDetection:0});let t=e;return t})(),dA=(()=>{let e=class e extends aA{set config(r){(0,hg.isEqual)(r,this._config)||(this._config=(0,hg.defaults)(r,this.configDefaults),this.updateLayer())}get shouldListen(){return super.shouldListen||this.koListeningChildren&&this.koListeningChildren.length>0}constructor(r,i,o,a){if(!i&&!o)throw new Error("ko-layer should be nested inside ko-stage or ko-stage-autoscale or ko-layer!");super(r),this.koListening=r,this.layerComponent=a,this.draw$=new wt,this._config=this.configDefaults,this.onNewItem=new lt,this.beforeUpdate=new lt,this.afterUpdate=new lt,this.layer=new cA.Layer(this._config),this.stageComponent=i||o,this.layerComponent?this.layerComponent.addChild(this.layer):this.stageComponent.addChild(this.layer),this.sub.add(this.draw$.pipe(Df(10)).subscribe(this.draw.bind(this)))}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){}getKoItem(){return this.layer}updateLayer(){this.beforeUpdate.emit(this.layer),this.setConfig(this._config),this.draw$.next(),this.afterUpdate.emit(this.layer)}addChild(r){this.layer.findOne(`#${r.id()}`)||(this.layer.add(r),this.onNewItem.emit(r),r.fire("ko:added",this.layer),this.draw$.next())}draw(){this.layer.draw()}};e.\u0275fac=function(i){return new(i||e)(ht(F1,10),ht(Tu,8),ht(_G,8),ht(e,12))},e.\u0275cmp=di({type:e,selectors:[["ko-layer"]],contentQueries:function(i,o,a){if(i&1&&Bv(a,F1,4),i&2){let l;Lo(l=Vo())&&(o.koListeningChildren=l)}},inputs:{config:"config"},outputs:{onNewItem:"onNewItem",beforeUpdate:"beforeUpdate",afterUpdate:"afterUpdate"},standalone:!1,features:[Hr([{provide:aA,useExisting:e}]),Bn],ngContentSelectors:L1,decls:1,vars:0,template:function(i,o){i&1&&(kl(),Pl(0))},encapsulation:2,changeDetection:0});let t=e;return t})();var fA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Br({type:e}),e.\u0275inj=mr({imports:[Qa]});let t=e;return t})();var EG=["stageRef"],CG=["gridLayerRef"],wG=["drawLayerRef"],bG=["uiLayerRef"],pg=class t{cfg=$(V1);title=Nt("designer");stageRef;gridLayerRef;drawLayerRef;uiLayerRef;stageConfig={width:1200,height:800,draggable:!1};minScale=.2;maxScale=4;gridSize=Nt(40);gridColor=Nt("#e5e7eb");gridOpacity=Nt(.9);tool=Nt("select");isPanning=Nt(!1);spacePressed=Nt(!1);selectedId=Nt(null);polyDraftPoints=Nt([]);isDrawingPoly=Nt(!1);_gridEffect=qv(()=>{this.gridSize(),this.gridColor(),this.gridOpacity(),queueMicrotask(()=>this.drawGrid())});get userName(){return this.cfg?.user?.name??"an\xF3nimo"}ngAfterViewInit(){setTimeout(()=>{this.fitStageToContainer(),this.attachStageEvents(),this.drawGrid();let e=new io.default.Rect({x:20,y:20,width:120,height:80,fill:"#fff",stroke:"#111827",strokeWidth:1.5,draggable:!0});this.drawLayer.add(e),this.drawLayer.batchDraw()},0),window.addEventListener("resize",this.fitStageToContainer),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}ngOnDestroy(){window.removeEventListener("resize",this.fitStageToContainer),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}get stage(){let e=this.stageRef;return e.getStage?.()||e.stage}get gridLayer(){let e=this.gridLayerRef;return e.getLayer?.()||e.layer}get drawLayer(){let e=this.drawLayerRef;return e.getLayer?.()||e.layer}get uiLayer(){let e=this.uiLayerRef;return e.getLayer?.()||e.layer}fitStageToContainer=()=>{let e=document.getElementById("designer-container");e&&(e.clientHeight<200&&(e.style.minHeight="70vh"),this.stage.width(e.clientWidth),this.stage.height(e.clientHeight),this.stage.batchDraw(),this.drawGrid())};drawGrid(){let e=this.gridLayer,n=this.gridSize(),r=this.gridColor(),i=this.gridOpacity();e.destroyChildren();let o=this.stage.width(),a=this.stage.height();e.add(new io.default.Rect({x:0,y:0,width:o,height:a,fill:"#fcfcfd",listening:!1}));for(let l=0;l<=o;l+=n)e.add(new io.default.Line({points:[l,0,l,a],stroke:r,strokeWidth:l%(n*5)===0?1.2:.6,opacity:l%(n*5)===0?i:i*.6,listening:!1}));for(let l=0;l<=a;l+=n)e.add(new io.default.Line({points:[0,l,o,l],stroke:r,strokeWidth:l%(n*5)===0?1.2:.6,opacity:l%(n*5)===0?i:i*.6,listening:!1}));e.batchDraw()}attachStageEvents(){let e=this.stage;e.on("wheel",n=>{n.evt.preventDefault();let r=e.scaleX(),i=e.getPointerPosition();if(!i)return;let o=1.1,l=(n.evt.deltaY>0?-1:1)>0?r*o:r/o;l=Math.max(this.minScale,Math.min(this.maxScale,l));let u={x:(i.x-e.x())/r,y:(i.y-e.y())/r};e.scale({x:l,y:l}),e.position({x:i.x-u.x*l,y:i.y-u.y*l}),e.batchDraw()}),e.on("mousedown",n=>{n.evt?.button===1||this.spacePressed()?(this.isPanning.set(!0),e.draggable(!0),e.startDrag()):this.onPointerDown(n)}),e.on("mouseup",()=>{this.isPanning.set(!1),e.draggable(!1)}),e.on("mousemove",n=>this.onPointerMove(n)),e.on("dblclick",()=>this.finishPolygon())}onKeyDown=e=>{e.code==="Space"&&this.spacePressed.set(!0),(e.key==="Delete"||e.key==="Backspace")&&this.selectedId()&&(this.drawLayer.findOne("#"+this.selectedId())?.destroy(),this.drawLayer.batchDraw(),this.selectedId.set(null)),this.isDrawingPoly()&&(e.key==="Enter"&&this.finishPolygon(),e.key==="Escape"&&this.cancelPolygon())};onKeyUp=e=>{e.code==="Space"&&(this.spacePressed.set(!1),this.isPanning.set(!1),this.stage.draggable(!1))};onPointerDown(e){let n=this.stage.getPointerPosition();if(!n)return;let{x:r,y:i}=this.toCanvas(n),o=e.target;if(this.tool()==="rect"){let a=new io.default.Rect({id:this.newId("rect"),x:this.snap(r),y:this.snap(i),width:80,height:50,fill:"#fff",stroke:"#111827",strokeWidth:1.5,draggable:!0});this.drawLayer.add(a),this.drawLayer.batchDraw();return}if(this.tool()==="circle"){let a=new io.default.Circle({id:this.newId("circle"),x:this.snap(r),y:this.snap(i),radius:30,fill:"#fff",stroke:"#111827",strokeWidth:1.5,draggable:!0});this.drawLayer.add(a),this.drawLayer.batchDraw();return}if(this.tool()==="poly"){this.isDrawingPoly()?(this.polyDraftPoints.set([...this.polyDraftPoints(),this.snap(r),this.snap(i)]),this.updatePolyDraft()):(this.isDrawingPoly.set(!0),this.polyDraftPoints.set([this.snap(r),this.snap(i)]),this.spawnPolyDraft());return}this.tool()==="select"&&(o&&o.getLayer()===this.drawLayer?this.selectedId.set(o.id()):this.selectedId.set(null))}onPointerMove(e){if(!this.isDrawingPoly())return;let n=this.stage.getPointerPosition();if(!n)return;let{x:r,y:i}=this.toCanvas(n),o=[...this.polyDraftPoints(),this.snap(r),this.snap(i)],a=this.uiLayer.findOne("#poly-draft");a&&(a.points(o),this.uiLayer.batchDraw())}spawnPolyDraft(){let e=new io.default.Line({id:"poly-draft",points:this.polyDraftPoints(),stroke:"#1d4ed8",strokeWidth:1.5,dash:[6,6],closed:!1,listening:!1});this.uiLayer.add(e),this.uiLayer.batchDraw()}updatePolyDraft(){let e=this.uiLayer.findOne("#poly-draft");e&&(e.points(this.polyDraftPoints()),this.uiLayer.batchDraw())}finishPolygon(){if(!this.isDrawingPoly())return;if(this.polyDraftPoints().length<6){this.cancelPolygon();return}let e=new io.default.Line({id:this.newId("poly"),points:this.polyDraftPoints(),closed:!0,fill:"#fff",stroke:"#111827",strokeWidth:1.5,draggable:!0});this.drawLayer.add(e),this.uiLayer.findOne("#poly-draft")?.destroy(),this.uiLayer.batchDraw(),this.isDrawingPoly.set(!1),this.polyDraftPoints.set([]),this.drawLayer.batchDraw(),this.tool.set("select")}cancelPolygon(){this.uiLayer.findOne("#poly-draft")?.destroy(),this.isDrawingPoly.set(!1),this.polyDraftPoints.set([]),this.uiLayer.batchDraw()}newId(e){return`${e}_${Math.random().toString(36).slice(2,8)}`}toCanvas(e){let n=this.stage.scaleX();return{x:(e.x-this.stage.x())/n,y:(e.y-this.stage.y())/n}}snap(e,n=this.gridSize()){return Math.round(e/n)*n}setTool(e){this.isDrawingPoly()&&e!=="poly"&&this.cancelPolygon(),this.tool.set(e)}deleteSelected(){let e=this.selectedId();e&&(this.drawLayer.findOne("#"+e)?.destroy(),this.selectedId.set(null),this.drawLayer.batchDraw())}zoomFit(){this.stage.scale({x:1,y:1}),this.stage.position({x:0,y:0}),this.stage.batchDraw()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=di({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&(Xa(EG,7),Xa(CG,7),Xa(wG,7),Xa(bG,7)),n&2){let i;Lo(i=Vo())&&(r.stageRef=i.first),Lo(i=Vo())&&(r.gridLayerRef=i.first),Lo(i=Vo())&&(r.drawLayerRef=i.first),Lo(i=Vo())&&(r.uiLayerRef=i.first)}},decls:40,vars:16,consts:[["stageRef",""],["gridLayerRef",""],["drawLayerRef",""],["uiLayerRef",""],[1,"topbar"],[1,"toolbar"],[1,"group"],[3,"click"],[1,"group","sep"],["type","number","min","5","max","200",3,"ngModelChange","ngModel"],["type","color",3,"ngModelChange","ngModel"],["type","range","min","0.1","max","1","step","0.05",3,"ngModelChange","ngModel"],[3,"click","disabled"],[1,"hint"],["id","designer-container",1,"designer-container"],[1,"stage",3,"config"]],template:function(n,r){if(n&1){let i=Uv();zt(0,"header",4)(1,"h1"),Hn(2),Wt(),zt(3,"small"),Hn(4),Wt()(),zt(5,"div",5)(6,"div",6)(7,"button",7),pn("click",function(){return Dr(i),Er(r.setTool("select"))}),Hn(8,"Seleccionar"),Wt(),zt(9,"button",7),pn("click",function(){return Dr(i),Er(r.setTool("rect"))}),Hn(10,"Rect\xE1ngulo"),Wt(),zt(11,"button",7),pn("click",function(){return Dr(i),Er(r.setTool("circle"))}),Hn(12,"C\xEDrculo"),Wt(),zt(13,"button",7),pn("click",function(){return Dr(i),Er(r.setTool("poly"))}),Hn(14,"Pol\xEDgono"),Wt()(),zt(15,"div",8)(16,"label"),Hn(17,"Grilla"),Wt(),zt(18,"input",9),pn("ngModelChange",function(a){return Dr(i),Er(r.gridSize.set(a))}),Wt(),zt(19,"input",10),pn("ngModelChange",function(a){return Dr(i),Er(r.gridColor.set(a))}),Wt(),zt(20,"input",11),pn("ngModelChange",function(a){return Dr(i),Er(r.gridOpacity.set(a))}),Wt()(),zt(21,"div",8)(22,"button",7),pn("click",function(){return Dr(i),Er(r.zoomFit())}),Hn(23,"Reset Zoom"),Wt(),zt(24,"button",12),pn("click",function(){return Dr(i),Er(r.deleteSelected())}),Hn(25,"Eliminar"),Wt()(),zt(26,"div",13),Hn(27," Pan: bot\xF3n medio o "),zt(28,"kbd"),Hn(29,"Space"),Wt(),Hn(30),Wt()(),zt(31,"div",14)(32,"ko-stage",15,0),Ka(34,"ko-layer",null,1)(36,"ko-layer",null,2)(38,"ko-layer",null,3),Wt()()}n&2&&(Un(2),Fl(r.cfg.title),Un(2),Fl(r.userName),Un(3),qi("active",r.tool()==="select"),Un(2),qi("active",r.tool()==="rect"),Un(2),qi("active",r.tool()==="circle"),Un(2),qi("active",r.tool()==="poly"),Un(5),Fo("ngModel",r.gridSize()),Un(),Fo("ngModel",r.gridColor()),Un(),Fo("ngModel",r.gridOpacity()),Un(4),Fo("disabled",!r.selectedId()),Un(6),Ll(" + arrastrar \u2022 Zoom: rueda \u2022 ",r.isDrawingPoly()?"Doble-click/Enter para cerrar, Esc para cancelar":""," "),Un(2),Fo("config",r.stageConfig))},dependencies:[Qa,Y2,Gh,__,D_,G2,C_,E_,v_,fA,Tu,dA],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}.topbar[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:.75rem;padding:.5rem .75rem;border-bottom:1px solid #e5e7eb;background:#fafafa}.topbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.topbar[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6b7280}.toolbar[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:8px 12px;border-bottom:1px solid #e5e7eb;background:#fafafa;flex-wrap:wrap}.group[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.group.sep[_ngcontent-%COMP%]{margin-left:8px;padding-left:8px;border-left:1px solid #e5e7eb}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer}.toolbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#eef2ff;border-color:#6366f1}.hint[_ngcontent-%COMP%]{margin-left:auto;color:#6b7280;font-size:12px}.designer-container[_ngcontent-%COMP%]{position:relative;flex:1;min-height:0;overflow:hidden;background:#fff;border-top:1px solid #eee}.stage[_ngcontent-%COMP%]{position:absolute;inset:0}"]})};var Fe="primary",Uu=Symbol("RouteTitle"),G1=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Tc(t){return new G1(t)}function SG(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],l=t[o];if(a[0]===":")i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function IG(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Di(t[n],e[n]))return!1;return!0}function Di(t,e){let n=t?$1(t):void 0,r=e?$1(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!DA(t[i],e[i]))return!1;return!0}function $1(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function DA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function EA(t){return t.length>0?t[t.length-1]:null}function ao(t){return I0(t)?t:Ps(t)?It(Promise.resolve(t)):be(t)}var TG={exact:wA,subset:bA},CA={exact:MG,subset:AG,ignored:()=>!0};function hA(t,e,n){return TG[n.paths](t.root,e.root,n.matrixParams)&&CA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function MG(t,e){return Di(t,e)}function wA(t,e,n){if(!Ws(t.segments,e.segments)||!yg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!wA(t.children[r],e.children[r],n))return!1;return!0}function AG(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DA(t[n],e[n]))}function bA(t,e,n){return SA(t,e,e.segments,n)}function SA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ws(i,n)||e.hasChildren()||!yg(i,n,r))}else if(t.segments.length===n.length){if(!Ws(t.segments,n)||!yg(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!bA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ws(t.segments,i)||!yg(t.segments,i,r)||!t.children[Fe]?!1:SA(t.children[Fe],e,o,r)}}function yg(t,e,n){return e.every((r,i)=>CA[n](t[i].parameters,r.parameters))}var so=class{root;queryParams;fragment;_queryParamMap;constructor(e=new st([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Tc(this.queryParams),this._queryParamMap}toString(){return NG.serialize(this)}},st=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vg(this)}},zs=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Tc(this.parameters),this._parameterMap}toString(){return TA(this)}};function xG(t,e){return Ws(t,e)&&t.every((n,r)=>Di(n.parameters,e[r].parameters))}function Ws(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function RG(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Fe&&(n=n.concat(e(i,r)))}),n}var xg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:()=>new Mc,providedIn:"root"})}return t})(),Mc=class{parse(e){let n=new z1(e);return new so(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Mu(e.root,!0)}`,r=PG(e.queryParams),i=typeof e.fragment=="string"?`#${OG(e.fragment)}`:"";return`${n}${r}${i}`}},NG=new Mc;function vg(t){return t.segments.map(e=>TA(e)).join("/")}function Mu(t,e){if(!t.hasChildren())return vg(t);if(e){let n=t.children[Fe]?Mu(t.children[Fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Fe&&r.push(`${i}:${Mu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=RG(t,(r,i)=>i===Fe?[Mu(t.children[Fe],!1)]:[`${i}:${Mu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Fe]!=null?`${vg(t)}/${n[0]}`:`${vg(t)}/(${n.join("//")})`}}function IA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gg(t){return IA(t).replace(/%3B/gi,";")}function OG(t){return encodeURI(t)}function q1(t){return IA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _g(t){return decodeURIComponent(t)}function pA(t){return _g(t.replace(/\+/g,"%20"))}function TA(t){return`${q1(t.path)}${kG(t.parameters)}`}function kG(t){return Object.entries(t).map(([e,n])=>`;${q1(e)}=${q1(n)}`).join("")}function PG(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${gg(n)}=${gg(i)}`).join("&"):`${gg(n)}=${gg(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var FG=/^[^\/()?;#]+/;function j1(t){let e=t.match(FG);return e?e[0]:""}var LG=/^[^\/()?;=#]+/;function VG(t){let e=t.match(LG);return e?e[0]:""}var jG=/^[^=?&#]+/;function UG(t){let e=t.match(jG);return e?e[0]:""}var BG=/^[^&#]+/;function HG(t){let e=t.match(BG);return e?e[0]:""}var z1=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Fe]=new st(e,n)),r}parseSegment(){let e=j1(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(e),new zs(_g(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=VG(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=j1(this.remaining);i&&(r=i,this.capture(r))}e[_g(n)]=_g(r)}parseQueryParam(e){let n=UG(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=HG(this.remaining);a&&(r=a,this.capture(r))}let i=pA(n),o=pA(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=j1(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ae(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Fe);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Fe]:new st([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ae(4011,!1)}};function MA(t){return t.segments.length>0?new st([],{[Fe]:t}):t}function AA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=AA(i);if(r===Fe&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new st(t.segments,e);return GG(n)}function GG(t){if(t.numberOfChildren===1&&t.children[Fe]){let e=t.children[Fe];return new st(t.segments.concat(e.segments),e.children)}return t}function Ac(t){return t instanceof so}function $G(t,e,n=null,r=null){let i=xA(t);return RA(i,e,n,r)}function xA(t){let e;function n(o){let a={};for(let u of o.children){let f=n(u);a[u.outlet]=f}let l=new st(o.url,a);return o===t&&(e=l),l}let r=n(t.root),i=MA(r);return e??i}function RA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return U1(i,i,i,n,r);let o=qG(e);if(o.toRoot())return U1(i,i,new st([],{}),n,r);let a=zG(o,i,t),l=a.processChildren?xu(a.segmentGroup,a.index,o.commands):OA(a.segmentGroup,a.index,o.commands);return U1(i,a.segmentGroup,l,n,r)}function Dg(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ou(t){return typeof t=="object"&&t!=null&&t.outlets}function U1(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,f])=>{o[u]=Array.isArray(f)?f.map(h=>`${h}`):`${f}`});let a;t===e?a=n:a=NA(t,e,n);let l=MA(AA(a));return new so(l,o,i)}function NA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=NA(o,e,n)}),new st(t.segments,r)}var Eg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dg(r[0]))throw new ae(4003,!1);let i=r.find(Ou);if(i&&i!==EA(r))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qG(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Eg(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([u,f])=>{l[u]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((l,u)=>{u==0&&l==="."||(u==0&&l===""?n=!0:l===".."?e++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new Eg(n,e,r)}var bc=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function zG(t,e,n){if(t.isAbsolute)return new bc(e,!0,0);if(!n)return new bc(e,!1,NaN);if(n.parent===null)return new bc(n,!0,0);let r=Dg(t.commands[0])?0:1,i=n.segments.length-1+r;return WG(n,i,t.numberOfDoubleDots)}function WG(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ae(4005,!1);i=r.segments.length}return new bc(r,!1,i-o)}function YG(t){return Ou(t[0])?t[0].outlets:{[Fe]:t}}function OA(t,e,n){if(t??=new st([],{}),t.segments.length===0&&t.hasChildren())return xu(t,e,n);let r=ZG(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new st(t.segments.slice(0,r.pathIndex),{});return o.children[Fe]=new st(t.segments.slice(r.pathIndex),t.children),xu(o,0,i)}else return r.match&&i.length===0?new st(t.segments,{}):r.match&&!t.hasChildren()?W1(t,e,n):r.match?xu(t,0,i):W1(t,e,n)}function xu(t,e,n){if(n.length===0)return new st(t.segments,{});{let r=YG(n),i={};if(Object.keys(r).some(o=>o!==Fe)&&t.children[Fe]&&t.numberOfChildren===1&&t.children[Fe].segments.length===0){let o=xu(t.children[Fe],e,n);return new st(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=OA(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new st(t.segments,i)}}function ZG(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],l=n[r];if(Ou(l))break;let u=`${l}`,f=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&f&&typeof f=="object"&&f.outlets===void 0){if(!mA(u,f,a))return o;r+=2}else{if(!mA(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function W1(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ou(o)){let u=KG(o.outlets);return new st(r,u)}if(i===0&&Dg(n[0])){let u=t.segments[e];r.push(new zs(u.path,gA(n[0]))),i++;continue}let a=Ou(o)?o.outlets[Fe]:`${o}`,l=i<n.length-1?n[i+1]:null;a&&l&&Dg(l)?(r.push(new zs(a,gA(l))),i+=2):(r.push(new zs(a,{})),i++)}return new st(r,{})}function KG(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=W1(new st([],{}),0,r))}),e}function gA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mA(t,e,n){return t==n.path&&Di(e,n.parameters)}var Ru="imperative",ln=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(ln||{}),Mr=class{id;url;constructor(e,n){this.id=e,this.url=n}},xc=class extends Mr{type=ln.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ko=class extends Mr{urlAfterRedirects;type=ln.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gn=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Gn||{}),Cg=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Cg||{}),oo=class extends Mr{reason;code;type=ln.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xo=class extends Mr{reason;code;type=ln.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ku=class extends Mr{error;target;type=ln.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wg=class extends Mr{urlAfterRedirects;state;type=ln.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Y1=class extends Mr{urlAfterRedirects;state;type=ln.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Z1=class extends Mr{urlAfterRedirects;state;shouldActivate;type=ln.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},K1=class extends Mr{urlAfterRedirects;state;type=ln.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},X1=class extends Mr{urlAfterRedirects;state;type=ln.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Q1=class{route;type=ln.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},J1=class{route;type=ln.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},eD=class{snapshot;type=ln.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tD=class{snapshot;type=ln.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nD=class{snapshot;type=ln.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rD=class{snapshot;type=ln.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pu=class{},Rc=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function XG(t){return!(t instanceof Pu)&&!(t instanceof Rc)}function QG(t,e){return t.providers&&!t._injector&&(t._injector=xl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zr(t){return t.outlet||Fe}function JG(t,e){let n=t.filter(r=>Zr(r)===e);return n.push(...t.filter(r=>Zr(r)!==e)),n}function Oc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var iD=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Oc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Bu(this.rootInjector)}},Bu=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new iD(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(me(Gt))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=oD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=oD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sD(e,this._root).map(n=>n.value)}};function oD(t,e){if(t===e.value)return e;for(let n of e.children){let r=oD(t,n);if(r)return r}return null}function sD(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sD(t,n);if(r.length)return r.unshift(e),r}return[]}var ir=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Sg=class extends bg{snapshot;constructor(e,n){super(e),this.snapshot=n,gD(this,e)}toString(){return this.snapshot.toString()}};function kA(t){let e=e$(t),n=new nn([new zs("",{})]),r=new nn({}),i=new nn({}),o=new nn({}),a=new nn(""),l=new Ys(n,r,o,a,i,Fe,t,e.root);return l.snapshot=e.root,new Sg(new ir(l,[]),e)}function e$(t){let e={},n={},r={},o=new Sc([],e,r,"",n,Fe,t,null,{});return new Tg("",new ir(o,[]))}var Ys=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,l,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Pe(f=>f[Uu]))??be(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>Tc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>Tc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ig(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:H(H({},e.params),t.params),data:H(H({},e.data),t.data),resolve:H(H(H(H({},t.data),e.data),i?.data),t._resolvedData)}:r={params:H({},t.params),data:H({},t.data),resolve:H(H({},t.data),t._resolvedData??{})},i&&FA(i)&&(r.resolve[Uu]=i.title),r}var Sc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Uu]}constructor(e,n,r,i,o,a,l,u,f){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.routeConfig=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Tg=class extends bg{url;constructor(e,n){super(n),this.url=e,gD(this,n)}toString(){return PA(this._root)}};function gD(t,e){e.value._routerState=t,e.children.forEach(n=>gD(t,n))}function PA(t){let e=t.children.length>0?` { ${t.children.map(PA).join(", ")} } `:"";return`${t.value}${e}`}function B1(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Di(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Di(e.params,n.params)||t.paramsSubject.next(n.params),IG(e.url,n.url)||t.urlSubject.next(n.url),Di(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function aD(t,e){let n=Di(t.params,e.params)&&xG(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||aD(t.parent,e.parent))}function FA(t){return typeof t.title=="string"||t.title===null}var t$=new oe(""),LA=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Fe;activateEvents=new lt;deactivateEvents=new lt;attachEvents=new lt;detachEvents=new lt;routerOutletData=XI(void 0);parentContexts=$(Bu);location=$(ks);changeDetector=$(Fs);inputBinder=$(Rg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new cD(n,l,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=sn({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Os]})}return t})(),cD=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ys?this.route:e===Bu?this.childContexts:e===t$?this.outletData:this.parent.get(e,n)}},Rg=new oe("");var VA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=di({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ka(0,"router-outlet")},dependencies:[LA],encapsulation:2})}return t})();function mD(t){let e=t.children&&t.children.map(mD),n=e?Ce(H({},t),{children:e}):H({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Fe&&(n.component=VA),n}function n$(t,e,n){let r=Fu(t,e._root,n?n._root:void 0);return new Sg(r,e)}function Fu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=r$(t,e,n);return new ir(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>Fu(t,l)),a}}let r=i$(e.value),i=e.children.map(o=>Fu(t,o));return new ir(r,i)}}function r$(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fu(t,r,i);return Fu(t,r)})}function i$(t){return new Ys(new nn(t.url),new nn(t.params),new nn(t.queryParams),new nn(t.fragment),new nn(t.data),t.outlet,t.component,t)}var Lu=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},jA="ngNavigationCancelingError";function Mg(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ac(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UA(!1,Gn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function UA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[jA]=!0,n.cancellationCode=e,n}function o$(t){return BA(t)&&Ac(t.url)}function BA(t){return!!t&&t[jA]}var s$=(t,e,n,r)=>Pe(i=>(new lD(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),lD=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),B1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=wc(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wc(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wc(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=wc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rD(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tD(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(B1(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),B1(l.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Ag=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ic=class{component;route;constructor(e,n){this.component=e,this.route=n}};function a$(t,e,n){let r=t._root,i=e?e._root:null;return Au(r,i,n,[r.value])}function c$(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function kc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!q0(t)?t:e.get(t):r}function Au(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wc(e);return t.children.forEach(a=>{l$(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Nu(l,n.getContext(a),i)),i}function l$(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let u=u$(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ag(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Au(t,e,l?l.children:null,r,i):Au(t,e,n,r,i),u&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Ic(l.outlet.component,a))}else a&&Nu(e,l,i),i.canActivateChecks.push(new Ag(r)),o.component?Au(t,null,l?l.children:null,r,i):Au(t,null,n,r,i);return i}function u$(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ws(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ws(t.url,e.url)||!Di(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aD(t,e)||!Di(t.queryParams,e.queryParams);case"paramsChange":default:return!aD(t,e)}}function Nu(t,e,n){let r=wc(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Nu(a,e.children.getContext(o),n):Nu(a,null,n):Nu(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ic(e.outlet.component,i)):n.canDeactivateChecks.push(new Ic(null,i)):n.canDeactivateChecks.push(new Ic(null,i))}function Hu(t){return typeof t=="function"}function d$(t){return typeof t=="boolean"}function f$(t){return t&&Hu(t.canLoad)}function h$(t){return t&&Hu(t.canActivate)}function p$(t){return t&&Hu(t.canActivateChild)}function g$(t){return t&&Hu(t.canDeactivate)}function m$(t){return t&&Hu(t.canMatch)}function HA(t){return t instanceof Fi||t?.name==="EmptyError"}var mg=Symbol("INITIAL_VALUE");function Nc(){return hn(t=>_f(t.map(e=>e.pipe(Li(1),x0(mg)))).pipe(Pe(e=>{for(let n of e)if(n!==!0){if(n===mg)return mg;if(n===!1||y$(n))return n}return!0}),Ln(e=>e!==mg),Li(1)))}function y$(t){return Ac(t)||t instanceof Lu}function v$(t,e){return Ht(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?be(Ce(H({},n),{guardsResult:!0})):_$(a,r,i,t).pipe(Ht(l=>l&&d$(l)?D$(r,o,t,e):be(l)),Pe(l=>Ce(H({},n),{guardsResult:l})))})}function _$(t,e,n,r){return It(t).pipe(Ht(i=>S$(i.component,i.route,n,e,r)),Vi(i=>i!==!0,!0))}function D$(t,e,n,r){return It(e).pipe(wo(i=>Ma(C$(i.route.parent,r),E$(i.route,r),b$(t,i.path,n),w$(t,i.route,n))),Vi(i=>i!==!0,!0))}function E$(t,e){return t!==null&&e&&e(new nD(t)),be(!0)}function C$(t,e){return t!==null&&e&&e(new eD(t)),be(!0)}function w$(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return be(!0);let i=r.map(o=>rl(()=>{let a=Oc(e)??n,l=kc(o,a),u=h$(l)?l.canActivate(e,t):on(a,()=>l(e,t));return ao(u).pipe(Vi())}));return be(i).pipe(Nc())}function b$(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>c$(a)).filter(a=>a!==null).map(a=>rl(()=>{let l=a.guards.map(u=>{let f=Oc(a.node)??n,h=kc(u,f),g=p$(h)?h.canActivateChild(r,t):on(f,()=>h(r,t));return ao(g).pipe(Vi())});return be(l).pipe(Nc())}));return be(o).pipe(Nc())}function S$(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return be(!0);let a=o.map(l=>{let u=Oc(e)??i,f=kc(l,u),h=g$(f)?f.canDeactivate(t,e,n,r):on(u,()=>f(t,e,n,r));return ao(h).pipe(Vi())});return be(a).pipe(Nc())}function I$(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return be(!0);let o=i.map(a=>{let l=kc(a,t),u=f$(l)?l.canLoad(e,n):on(t,()=>l(e,n));return ao(u)});return be(o).pipe(Nc(),GA(r))}function GA(t){return E0(Xt(e=>{if(typeof e!="boolean")throw Mg(t,e)}),Pe(e=>e===!0))}function T$(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return be(!0);let o=i.map(a=>{let l=kc(a,t),u=m$(l)?l.canMatch(e,n):on(t,()=>l(e,n));return ao(u)});return be(o).pipe(Nc(),GA(r))}var Vu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ju=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Cc(t){return Ta(new Vu(t))}function M$(t){return Ta(new ae(4e3,!1))}function A$(t){return Ta(UA(!1,Gn.GuardRejected))}var uD=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return be(r);if(i.numberOfChildren>1||!i.children[Fe])return M$(`${e.redirectTo}`);i=i.children[Fe]}}applyRedirectCommands(e,n,r,i,o){return x$(n,i,o).pipe(Pe(a=>{if(a instanceof so)throw new ju(a);let l=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new ju(l);return l}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new so(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);r[i]=n[l]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([l,u])=>{a[l]=this.createSegmentGroup(e,u,r,i)}),new st(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ae(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function x$(t,e,n){if(typeof t=="string")return be(t);let r=t,{queryParams:i,fragment:o,routeConfig:a,url:l,outlet:u,params:f,data:h,title:g}=e;return ao(on(n,()=>r({params:f,data:h,queryParams:i,fragment:o,routeConfig:a,url:l,outlet:u,title:g})))}var dD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R$(t,e,n,r,i){let o=$A(t,e,n);return o.matched?(r=QG(e,r),T$(r,e,n,i).pipe(Pe(a=>a===!0?o:H({},dD)))):be(o)}function $A(t,e,n){if(e.path==="**")return N$(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?H({},dD):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||SG)(n,t,e);if(!i)return H({},dD);let o={};Object.entries(i.posParams??{}).forEach(([l,u])=>{o[l]=u.path});let a=i.consumed.length>0?H(H({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function N$(t){return{matched:!0,parameters:t.length>0?EA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yA(t,e,n,r){return n.length>0&&P$(t,n,r)?{segmentGroup:new st(e,k$(r,new st(n,t.children))),slicedSegments:[]}:n.length===0&&F$(t,n,r)?{segmentGroup:new st(t.segments,O$(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new st(t.segments,t.children),slicedSegments:n}}function O$(t,e,n,r){let i={};for(let o of n)if(Ng(t,e,o)&&!r[Zr(o)]){let a=new st([],{});i[Zr(o)]=a}return H(H({},r),i)}function k$(t,e){let n={};n[Fe]=e;for(let r of t)if(r.path===""&&Zr(r)!==Fe){let i=new st([],{});n[Zr(r)]=i}return n}function P$(t,e,n){return n.some(r=>Ng(t,e,r)&&Zr(r)!==Fe)}function F$(t,e,n){return n.some(r=>Ng(t,e,r))}function Ng(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function L$(t,e,n){return e.length===0&&!t.children[n]}var fD=class{};function V$(t,e,n,r,i,o,a="emptyOnly"){return new hD(t,e,n,r,i,a,o).recognize()}var j$=31,hD=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new uD(this.urlSerializer,this.urlTree)}noMatchError(e){return new ae(4002,`'${e.segmentGroup}'`)}recognize(){let e=yA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Pe(({children:n,rootSnapshot:r})=>{let i=new ir(r,n),o=new Tg("",i),a=$G(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let n=new Sc([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Fe,n).pipe(Pe(r=>({children:r,rootSnapshot:n})),Co(r=>{if(r instanceof ju)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Pe(a=>a instanceof ir?[a]:[]))}processChildren(e,n,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return It(o).pipe(wo(a=>{let l=r.children[a],u=JG(n,a);return this.processSegmentGroup(e,u,l,a,i)}),A0((a,l)=>(a.push(...l),a)),bo(null),M0(),Ht(a=>{if(a===null)return Cc(r);let l=qA(a);return U$(l),be(l)}))}processSegment(e,n,r,i,o,a,l){return It(n).pipe(wo(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,a,l).pipe(Co(f=>{if(f instanceof Vu)return be(null);throw f}))),Vi(u=>!!u),Co(u=>{if(HA(u))return L$(r,i,o)?be(new fD):Cc(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,a,l,u){return Zr(r)!==a&&(a===Fe||!Ng(i,o,r))?Cc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,a,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,u):Cc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,l){let{matched:u,parameters:f,consumedSegments:h,positionalParamSegments:g,remainingSegments:y}=$A(n,i,o);if(!u)return Cc(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>j$&&(this.allowRedirects=!1));let v=new Sc(o,f,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,vA(i),Zr(i),i.component??i._loadedComponent??null,i,_A(i)),D=Ig(v,l,this.paramsInheritanceStrategy);return v.params=Object.freeze(D.params),v.data=Object.freeze(D.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,g,v,e).pipe(hn(w=>this.applyRedirects.lineralizeSegments(i,w)),Ht(w=>this.processSegment(e,r,n,w.concat(y),a,!1,l)))}matchSegmentAgainstRoute(e,n,r,i,o,a){let l=R$(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),l.pipe(hn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(hn(({routes:f})=>{let h=r._loadedInjector??e,{parameters:g,consumedSegments:y,remainingSegments:v}=u,D=new Sc(y,g,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,vA(r),Zr(r),r.component??r._loadedComponent??null,r,_A(r)),S=Ig(D,a,this.paramsInheritanceStrategy);D.params=Object.freeze(S.params),D.data=Object.freeze(S.data);let{segmentGroup:w,slicedSegments:M}=yA(n,y,v,f);if(M.length===0&&w.hasChildren())return this.processChildren(h,f,w,D).pipe(Pe(T=>new ir(D,T)));if(f.length===0&&M.length===0)return be(new ir(D,[]));let A=Zr(r)===o;return this.processSegment(h,f,w,M,A?Fe:o,!0,D).pipe(Pe(T=>new ir(D,T instanceof ir?[T]:[])))}))):Cc(n)))}getChildConfig(e,n,r){return n.children?be({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?be({routes:n._loadedRoutes,injector:n._loadedInjector}):I$(e,n,r,this.urlSerializer).pipe(Ht(i=>i?this.configLoader.loadChildren(e,n).pipe(Xt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):A$(n))):be({routes:[],injector:e})}};function U$(t){t.sort((e,n)=>e.value.outlet===Fe?-1:n.value.outlet===Fe?1:e.value.outlet.localeCompare(n.value.outlet))}function B$(t){let e=t.value.routeConfig;return e&&e.path===""}function qA(t){let e=[],n=new Set;for(let r of t){if(!B$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=qA(r.children);e.push(new ir(r.value,i))}return e.filter(r=>!n.has(r))}function vA(t){return t.data||{}}function _A(t){return t.resolve||{}}function H$(t,e,n,r,i,o){return Ht(a=>V$(t,e,n,r,a.extractedUrl,i,o).pipe(Pe(({state:l,tree:u})=>Ce(H({},a),{targetSnapshot:l,urlAfterRedirects:u}))))}function G$(t,e){return Ht(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return be(n);let o=new Set(i.map(u=>u.route)),a=new Set;for(let u of o)if(!a.has(u))for(let f of zA(u))a.add(f);let l=0;return It(a).pipe(wo(u=>o.has(u)?$$(u,r,t,e):(u.data=Ig(u,u.parent,t).resolve,be(void 0))),Xt(()=>l++),Aa(1),Ht(u=>l===a.size?be(n):Pn))})}function zA(t){let e=t.children.map(n=>zA(n)).flat();return[t,...e]}function $$(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!FA(i)&&(o[Uu]=i.title),rl(()=>(t.data=Ig(t,t.parent,n).resolve,q$(o,t,e,r).pipe(Pe(a=>(t._resolvedData=a,t.data=H(H({},t.data),a),null)))))}function q$(t,e,n,r){let i=$1(t);if(i.length===0)return be({});let o={};return It(i).pipe(Ht(a=>z$(t[a],e,n,r).pipe(Vi(),Xt(l=>{if(l instanceof Lu)throw Mg(new Mc,l);o[a]=l}))),Aa(1),Pe(()=>o),Co(a=>HA(a)?Pn:Ta(a)))}function z$(t,e,n,r){let i=Oc(e)??r,o=kc(t,i),a=o.resolve?o.resolve(e,n):on(i,()=>o(e,n));return ao(a)}function H1(t){return hn(e=>{let n=t(e);return n?It(n).pipe(Pe(()=>e)):be(e)})}var WA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Fe);return r}getResolvedTitleForRoute(n){return n.data[Uu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:()=>$(W$),providedIn:"root"})}return t})(),W$=(()=>{class t extends WA{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(me(I2))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Og=new oe("",{providedIn:"root",factory:()=>({})}),kg=new oe(""),YA=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=$(Hv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return be(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ao(on(n,()=>r.loadComponent())).pipe(Pe(ZA),hn(KA),Xt(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),gs(()=>{this.componentLoaders.delete(r)})),o=new Sa(i,()=>new wt).pipe(ba());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return be({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Y$(r,this.compiler,n,this.onLoadEndListener).pipe(gs(()=>{this.childrenLoaders.delete(r)})),a=new Sa(o,()=>new wt).pipe(ba());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Y$(t,e,n,r){return ao(on(n,()=>t.loadChildren())).pipe(Pe(ZA),hn(KA),Ht(i=>i instanceof bh||Array.isArray(i)?be(i):It(e.compileModuleAsync(i))),Pe(i=>{r&&r(t);let o,a,l=!1;return Array.isArray(i)?(a=i,l=!0):(o=i.create(n).injector,a=o.get(kg,[],{optional:!0,self:!0}).flat()),{routes:a.map(mD),injector:o}}))}function Z$(t){return t&&typeof t=="object"&&"default"in t}function ZA(t){return Z$(t)?t.default:t}function KA(t){return be(t)}var yD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:()=>$(K$),providedIn:"root"})}return t})(),K$=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XA=new oe("");var QA=new oe(""),JA=(()=>{class t{currentNavigation=Nt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new wt;transitionAbortWithErrorSubject=new wt;configLoader=$(YA);environmentInjector=$(Gt);destroyRef=$(ai);urlSerializer=$(xg);rootContexts=$(Bu);location=$(Ls);inputBindingEnabled=$(Rg,{optional:!0})!==null;titleStrategy=$(WA);options=$(Og,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=$(yD);createViewTransition=$(XA,{optional:!0});navigationErrorHandler=$(QA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>be(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Q1(i)),r=i=>this.events.next(new J1(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Mn(()=>{this.transitions?.next(Ce(H({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new nn(null),this.transitions.pipe(Ln(r=>r!==null),hn(r=>{let i=!1;return be(r).pipe(hn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Gn.SupersededByNewNavigation),Pn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload")return this.events.next(new Xo(o.id,this.urlSerializer.serialize(o.rawUrl),"",Cg.IgnoredSameUrlNavigation)),o.resolve(!1),Pn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return be(o).pipe(hn(u=>(this.events.next(new xc(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Pn:Promise.resolve(u))),H$(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Xt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let f=new wg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:f,source:h,restoredState:g,extras:y}=o,v=new xc(u,this.urlSerializer.serialize(f),h,g);this.events.next(v);let D=kA(this.rootComponentType).snapshot;return this.currentTransition=r=Ce(H({},o),{targetSnapshot:D,urlAfterRedirects:f,extras:Ce(H({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(S=>(S.finalUrl=f,S)),be(r)}else return this.events.next(new Xo(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Cg.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Pn}),Xt(o=>{let a=new Y1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Pe(o=>(this.currentTransition=r=Ce(H({},o),{guards:a$(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),v$(this.environmentInjector,o=>this.events.next(o)),Xt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Mg(this.urlSerializer,o.guardsResult);let a=new Z1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ln(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Gn.GuardRejected),!1)),H1(o=>{if(o.guards.canActivateChecks.length!==0)return be(o).pipe(Xt(a=>{let l=new K1(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),hn(a=>{let l=!1;return be(a).pipe(G$(this.paramsInheritanceStrategy,this.environmentInjector),Xt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Gn.NoDataFromResolver)}}))}),Xt(a=>{let l=new X1(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),H1(o=>{let a=l=>{let u=[];if(l.routeConfig?.loadComponent){let f=Oc(l)??this.environmentInjector;u.push(this.configLoader.loadComponent(f,l.routeConfig).pipe(Xt(h=>{l.component=h}),Pe(()=>{})))}for(let f of l.children)u.push(...a(f));return u};return _f(a(o.targetSnapshot.root)).pipe(bo(null),Li(1))}),H1(()=>this.afterPreactivation()),hn(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?It(l).pipe(Pe(()=>r)):be(r)}),Pe(o=>{let a=n$(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Ce(H({},o),{targetRouterState:a}),this.currentNavigation.update(l=>(l.targetRouterState=a,l)),r}),Xt(()=>{this.events.next(new Pu)}),s$(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Li(1),Cf(new qe(o=>{let a=r.abortController.signal,l=()=>o.next();return a.addEventListener("abort",l),()=>a.removeEventListener("abort",l)}).pipe(Ln(()=>!i&&!r.targetRouterState),Xt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Gn.Aborted)}))),Xt({next:o=>{i=!0,this.lastSuccessfulNavigation=Mn(this.currentNavigation),this.events.next(new Ko(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Cf(this.transitionAbortWithErrorSubject.pipe(Xt(o=>{throw o}))),gs(()=>{i||this.cancelNavigationTransition(r,"",Gn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Co(o=>{if(this.destroyed)return r.resolve(!1),Pn;if(i=!0,BA(o))this.events.next(new oo(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),o$(o)?this.events.next(new Rc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ku(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let l=on(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Lu){let{message:u,cancellationCode:f}=Mg(this.urlSerializer,l);this.events.next(new oo(r.id,this.urlSerializer.serialize(r.extractedUrl),u,f)),this.events.next(new Rc(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Pn}))}))}cancelNavigationTransition(n,r,i){let o=new oo(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Mn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function X$(t){return t!==Ru}var Q$=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:()=>$(J$),providedIn:"root"})}return t})(),pD=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},J$=(()=>{class t extends pD{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ex=(()=>{class t{urlSerializer=$(xg);options=$(Og,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=$(Ls);urlHandlingStrategy=$(yD);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new so;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof so?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=kA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:()=>$(eq),providedIn:"root"})}return t})(),eq=(()=>{class t extends ex{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof xc?this.updateStateMemento():n instanceof Xo?this.commitTransition(r):n instanceof wg?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Pu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof oo&&n.code!==Gn.SupersededByNewNavigation&&n.code!==Gn.Redirect?this.restoreHistory(r):n instanceof ku?this.restoreHistory(r,!0):n instanceof Ko&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let l=this.browserPageId,u=H(H({},a),this.generateNgRouterState(i,l));this.location.replaceState(n,"",u)}else{let l=H(H({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",l)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tx(t,e){t.events.pipe(Ln(n=>n instanceof Ko||n instanceof oo||n instanceof ku||n instanceof Xo),Pe(n=>n instanceof Ko||n instanceof Xo?0:(n instanceof oo?n.code===Gn.Redirect||n.code===Gn.SupersededByNewNavigation:!1)?2:1),Ln(n=>n!==2),Li(1)).subscribe(()=>{e()})}var tq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vD=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=$(Pv);stateManager=$(ex);options=$(Og,{optional:!0})||{};pendingTasks=$(ci);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=$(JA);urlSerializer=$(xg);location=$(Ls);urlHandlingStrategy=$(yD);injector=$(Gt);_events=new wt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=$(Q$);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=$(kg,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!$(Rg,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new vt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Mn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof oo&&r.code!==Gn.Redirect&&r.code!==Gn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ko)this.navigated=!0;else if(r instanceof Rc){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=H({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||X$(i.source)},a);this.scheduleNavigation(l,Ru,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}XG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ru,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let u=H({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,o).catch(u=>{this.disposed||this.injector.get(Cr)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Mn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:a,h=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":h=H(H({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let y=i?i.snapshot:this.routerState.snapshot.root;g=xA(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return RA(g,n,h,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ac(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ru,null,r)}navigate(n,r={skipLocationChange:!1}){return rq(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=H({},tq):r===!1?i=H({},nq):i=r,Ac(n))return hA(this.currentUrlTree,n,i);let o=this.parseUrl(n);return hA(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let l,u,f;a?(l=a.resolve,u=a.reject,f=a.promise):f=new Promise((g,y)=>{l=g,u=y});let h=this.pendingTasks.add();return tx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ae(4008,!1)}var iq=new oe("");function _D(t,...e){return Oa([{provide:kg,multi:!0,useValue:t},[],{provide:Ys,useFactory:oq,deps:[vD]},{provide:Sh,multi:!0,useFactory:aq},e.map(n=>n.\u0275providers)])}function oq(t){return t.routerState.root}function sq(t,e){return{\u0275kind:t,\u0275providers:e}}function aq(){let t=$(er);return e=>{let n=t.get(Po);if(e!==n.components[0])return;let r=t.get(vD),i=t.get(cq);t.get(lq)===1&&r.initialNavigation(),t.get(uq,null,{optional:!0})?.setUpPreloading(),t.get(iq,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cq=new oe("",{factory:()=>new wt}),lq=new oe("",{providedIn:"root",factory:()=>1});var uq=new oe("");function DD(){return sq(6,[{provide:jo,useClass:Kv}])}var nx=[{path:"**",redirectTo:""}];var V1=new oe("DJANGO_CONFIG");function fq(){let t=document.getElementById("dj-config");return t?.textContent?JSON.parse(t.textContent):(console.warn("dj-config no encontrado, usando defaults"),{title:"Designer",extra:{},seatmap:{},urls:{change:"#",changelist:"#"},csrfCookie:"csrftoken",apiBase:"/"})}o_(pg,{providers:[{provide:V1,useFactory:fq},_D(nx,DD()),l_(u_({cookieName:"csrftoken",headerName:"X-CSRFToken"}))]}).catch(console.error);export{V1 as DJANGO_CONFIG};
